"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[45233],{230337:(e,t,i)=>{function n(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="add_outline_24__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="add_outline_24__add_outline_24"><path d="M0 0h24v24H0z"/><path d="M12 3c.5 0 .9.4.9.9v7.2h7.2a.9.9 0 1 1 0 1.8h-7.2v7.2a.9.9 0 1 1-1.8 0v-7.2H3.9a.9.9 0 1 1 0-1.8h7.2V3.9c0-.5.4-.9.9-.9Z" id="add_outline_24__Icon-Color" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"add_outline_24"}}i.d(t,{getIcon24AddOutline:()=>n})},101594:(e,t,i)=>{function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20Zm.3-14a.9.9 0 0 0-1.8 0v4.77a.9.9 0 0 0 .42.77l3.7 2.32a.9.9 0 0 0 .96-1.52l-3.28-2.06V8Z" clip-rule="evenodd"/></svg>',name:"clock_24"}}i.d(t,{getIcon24Clock:()=>n})},573046:(e,t,i)=>{function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M20.74 5.66a.9.9 0 0 1 0 1.28l-11.1 11.1a.9.9 0 0 1-1.28 0l-5.1-5.1a.9.9 0 0 1 1.28-1.28L9 16.13 19.46 5.66a.9.9 0 0 1 1.28 0Z" clip-rule="evenodd"/></svg>',name:"done_outline_24"}}i.d(t,{getIcon24DoneOutline:()=>n})},863404:(e,t,i)=>{function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 3.61c1.41-2.54 4.08-2.85 5.6-1.33 1.24 1.25 1.26 3.26-.15 4.72H18a4 4 0 0 1 4 4v.43a4 4 0 0 1-.4 2.04A2.74 2.74 0 0 1 20 14.8v2.07c0 1.78-.19 2.43-.53 3.08a3.63 3.63 0 0 1-1.52 1.52c-.65.34-1.3.53-3.08.53H9.13c-1.79 0-2.43-.19-3.08-.53a3.63 3.63 0 0 1-1.52-1.52C4.2 19.3 4 18.65 4 16.87V14.8a2.74 2.74 0 0 1-1.6-1.34 3.72 3.72 0 0 1-.4-1.79V11a4 4 0 0 1 4-4h.55C5.14 5.54 5.16 3.53 6.4 2.28 7.93.76 10.6 1.07 12 3.61ZM11.1 15H5.8v2.12c.01.67 0 1.38.32 1.98.55 1.03 1.73 1.09 2.76 1.1h2.22V15Zm7.1 0h-5.3v5.2h2.22c1.03-.02 2.2-.07 2.76-1.1.22-.41.3-.82.32-1.99V15ZM18 8.8h-5.1v4.4h5.62c.55 0 1.2-.04 1.5-.58.1-.22.17-.47.18-1V11A2.2 2.2 0 0 0 18 8.8Zm-12 0A2.2 2.2 0 0 0 3.8 11v.62c.01.53.07.78.19 1 .29.54.94.58 1.48.58h5.63V8.8H6Zm1.68-5.24C6.6 4.62 7.6 6.63 10.85 6.97l.25.03c-.26-3.46-2.23-4.64-3.42-3.44Zm8.65 0c-1.2-1.2-3.17-.02-3.43 3.44l.26-.02c3.25-.35 4.24-2.35 3.17-3.42Z"/></svg>',name:"gift_outline_24"}}i.d(t,{getIcon24GiftOutline:()=>n})},994781:(e,t,i)=>{function n(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12.11 5.7A5.94 5.94 0 0 1 16 4h.28A5.73 5.73 0 0 1 22 9.72c0 2.96-1.03 4.42-5.57 8.06l-.94.74-2.36 1.84a1.84 1.84 0 0 1-2.26 0l-2.69-2.1C3.13 14.26 2 12.8 2 9.72A5.73 5.73 0 0 1 7.73 4c1.54 0 2.93.58 4.14 1.7l.12.11.12-.11Z"/></svg>',name:"like_24"}}i.d(t,{getIcon24Like:()=>n})},938307:(e,t,i)=>{function n(){return{icon:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path d="M16 4a5.95 5.95 0 0 0-3.89 1.7l-.12.11-.12-.11A5.96 5.96 0 0 0 7.73 4 5.73 5.73 0 0 0 2 9.72c0 3.08 1.13 4.55 6.18 8.54l2.69 2.1c.66.52 1.6.52 2.26 0l2.36-1.84.94-.74c4.53-3.64 5.57-5.1 5.57-8.06A5.73 5.73 0 0 0 16.27 4zm.27 1.8a3.93 3.93 0 0 1 3.93 3.92v.3c-.08 2.15-1.07 3.33-5.51 6.84l-2.67 2.08a.04.04 0 0 1-.04 0L9.6 17.1l-.87-.7C4.6 13.1 3.8 11.98 3.8 9.73A3.93 3.93 0 0 1 7.73 5.8c1.34 0 2.51.62 3.57 1.92a.9.9 0 0 0 1.4-.01c1.04-1.3 2.2-1.91 3.57-1.91z" fill="currentColor" fill-rule="nonzero"/></g></svg>',name:"like_outline_24"}}i.d(t,{getIcon24LikeOutline:()=>n})},876838:(e,t,i)=>{function n(){return{icon:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path d="M21 16.1a.9.9 0 0 1 .9.79v.54c0 1.08-.15 1.79-.5 2.46a3.63 3.63 0 0 1-1.51 1.5 4.6 4.6 0 0 1-2.17.5l-.3.01H17a.9.9 0 0 1-.11-1.8h.54c.8 0 1.22-.09 1.61-.3.33-.17.59-.43.77-.76.18-.35.27-.73.29-1.4V17c0-.5.4-.9.9-.9zm-18 0a.9.9 0 0 1 .9.79v.54c0 .8.09 1.22.3 1.61.17.33.43.59.76.77.35.18.73.27 1.4.29H7a.9.9 0 0 1 .11 1.8h-.54a4.87 4.87 0 0 1-2.46-.5 3.63 3.63 0 0 1-1.5-1.51 4.6 4.6 0 0 1-.5-2.17l-.01-.3V17c0-.5.4-.9.9-.9zm14-2.7a.9.9 0 0 1 .9.79v.49c0 .7-.11 1.24-.37 1.72s-.65.87-1.13 1.13c-.42.22-.88.34-1.46.36l-.26.01H9.32c-.7 0-1.24-.11-1.72-.37a2.72 2.72 0 0 1-1.13-1.13 3.27 3.27 0 0 1-.36-1.46l-.01-.26v-.38a.9.9 0 0 1 1.8-.11v.49c0 .43.05.67.16.87.1.17.22.3.39.39.17.1.37.14.7.16h5.53c.43 0 .67-.05.87-.16.17-.1.3-.22.39-.39.1-.17.14-.37.16-.7v-.55c0-.5.4-.9.9-.9zM7 11.91a.9.9 0 0 1-.15 0L3.9 11.9a.9.9 0 1 1 0-1.8h2.2v-.54c0-.94.1-1.44.37-1.96.26-.48.65-.87 1.13-1.13a3.5 3.5 0 0 1 1.74-.37h5.1c.94 0 1.44.1 1.96.37.48.26.87.65 1.13 1.13.25.47.35.93.37 1.74v.76h2.2a.9.9 0 1 1 0 1.8H7.15a.9.9 0 0 1-.15.01zm7.44-4.01H9.56c-.67 0-.89.04-1.11.16a.92.92 0 0 0-.39.39c-.1.18-.14.35-.16.77V10.1h8.2V9.24c-.02-.43-.06-.61-.16-.8a.92.92 0 0 0-.39-.38c-.18-.1-.35-.14-.77-.16zM7 2.1a.9.9 0 0 1 .11 1.8h-.54c-.8 0-1.22.09-1.61.3-.33.17-.59.43-.77.76-.18.35-.27.73-.29 1.4V7a.9.9 0 0 1-1.8.11v-.54c0-1.08.15-1.79.5-2.46.35-.65.86-1.16 1.51-1.5a4.6 4.6 0 0 1 2.17-.5l.29-.01zm10.43 0c1.08 0 1.79.15 2.46.5.65.35 1.16.86 1.5 1.51.33.61.48 1.25.5 2.17l.01.3V7a.9.9 0 0 1-1.8.11v-.54c0-.8-.09-1.22-.3-1.61a1.83 1.83 0 0 0-.76-.77 2.89 2.89 0 0 0-1.4-.29H17a.9.9 0 0 1-.11-1.8H17z" fill="currentColor" fill-rule="nonzero"/></g></svg>',name:"scan_viewfinder_outline_24"}}i.d(t,{getIcon24ScanViewfinderOutline:()=>n})},453829:(e,t,i)=>{function n(){return{icon:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path d="M12 3.73c-1.12.07-2 1-2 2.14v2.12h-.02a9.9 9.9 0 0 0-7.83 10.72.9.9 0 0 0 1.61.46l.19-.24a9.08 9.08 0 0 1 5.84-3.26l.2-.03.01 2.5a2.15 2.15 0 0 0 3.48 1.69l7.82-6.14a2.15 2.15 0 0 0 0-3.38l-7.82-6.13c-.38-.3-.85-.46-1.33-.46zm.15 1.79c.08 0 .15.03.22.07l7.82 6.14a.35.35 0 0 1 0 .55l-7.82 6.13a.35.35 0 0 1-.57-.28V14.7a.9.9 0 0 0-.92-.9h-.23l-.34.02c-2.28.14-4.4.98-6.12 2.36l-.17.15.02-.14a8.1 8.1 0 0 1 6.97-6.53.9.9 0 0 0 .79-.9V5.87c0-.2.16-.35.35-.35z" fill="currentColor" fill-rule="nonzero"/></g></svg>',name:"share_outline_24"}}i.d(t,{getIcon24ShareOutline:()=>n})},564324:(e,t,i)=>{i.d(t,{screenfull:()=>s});const n=()=>/ipad|iphone|ipod/.test(window.navigator.userAgent.toLowerCase()),s=function(){const e=function(){let e,t;const i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];let s=0,o=i.length;const a={};for(;s<o;s++)if(e=i[s],e&&e[1]in document){for(s=0,t=e.length;s<t;s++)a[i[0][s]]=e[s];return a}return!!n()&&i[0].reduce(((e,t)=>({...e,[t]:t})),{})}(),t={element:document[e.fullscreenElement],request:function(t){if(n()){const e=t.querySelector("video");return void(e?.webkitEnterFullscreen&&(this.element=t,e.webkitEnterFullscreen()))}const i=e.requestFullscreen;t=t||document.documentElement,this.element=t,t[i]()},exit:function(t){if(t&&n()){const e=t.querySelector("video");e?.webkitExitFullscreen&&e.webkitExitFullscreen()}else document[e.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},raw:e};return!!e&&(Object.defineProperties(t,{isFullscreen:{get:function(){if(n()){const e=this.element?.querySelector("video");if(e)return e.webkitDisplayingFullscreen}return Boolean(document[e.fullscreenElement])}},enabled:{enumerable:!0,get:function(){return!!n()||Boolean(document[e.fullscreenEnabled])}}}),t)}()},712714:(e,t,i)=>{i.d(t,{END_LARGE:()=>o,END_SMALL:()=>s,INLINE:()=>n});const n=1,s=2,o=3},461388:(e,t,i)=>{i.r(t),i.d(t,{API_LIVE_PHASES:()=>d,ENDED:()=>o,FAILED:()=>a,PRE_CHECK:()=>l,STARTED:()=>s,UPCOMING:()=>r,WAITING:()=>n});const n=1,s=2,o=3,a=4,r=5,l=6,d={waiting:n,started:s,postlive:o,finished:o,failed:a,upcoming:r}},604958:(e,t,i)=>{i.d(t,{default:()=>s});var n=i(553608);const s={set(e,t){n.bestAvailableStorage.setItem(e,JSON.stringify(t))},get:e=>JSON.parse(n.bestAvailableStorage.getItem(e)),getByPrefix(e){const t={},i=n.bestAvailableStorage.length();for(let s=0;s<i;s++){const i=n.bestAvailableStorage.key(s);0===i.indexOf(e)&&(t[i]=this.get(i))}return t},remove(e){n.bestAvailableStorage.removeItem(e)},savePref(e,t){const i=this.getPref("*");let n=i;const s=e.split(".");for(;;){const e=s.shift();if(!s.length){n[e]=t;break}null==n[e]&&(n[e]={}),n=n[e]}this.set("videoplayer_prefs",i)},deletePref(e){this.savePref(e,void 0)},getPref(e="*"){const t=this.get("videoplayer_prefs")||{};if("*"===e)return t;let i=t;const n=e.split(".");for(;;){if(i=i[n.shift()],!n.length||!i)break}return i}}},403788:(e,t,i)=>{i.d(t,{TimeoutStore:()=>n});class n{constructor(){this._active=new Set,this.setTimeout=(e,t=0,...i)=>{const n=this._active,s=window.setTimeout((()=>{e.apply(null,i),n.delete(s)}),t);return n.add(s),s},this.clearTimeout=e=>{const t=this._active;window.clearTimeout(e),t.delete(e)},this.clearAll=()=>{const e=this._active;e.forEach((e=>window.clearTimeout(e))),e.clear()}}}},608562:(e,t,i)=>{i.d(t,{cleanUrlParam:()=>d,fillArray:()=>s,getCssProp:()=>r,getRefDomainFromURLParams:()=>c,padStart:()=>h,safeOpenLink:()=>o,setText:()=>a,urlParse:()=>p});var n=i(754866);function s(e,t,i=0,n=e.length){if(Array.prototype.fill)return Array.prototype.fill.call(e,t,i,n);i=i<0?Math.max(e.length+i,0):Math.min(i,e.length),n=n<0?Math.max(e.length+n,0):Math.min(n,e.length);for(let s=i;s<n;++s)e[s]=t;return e}function o(e,t={blank:!0,throughAway:!0}){t.throughAway&&!/\/away\.php/.test(e)&&(e="/away.php?to="+encodeURIComponent(e));window.open(e,t.blank?"_blank":"").opener=null}function a(e,t){"textContent"in Node.prototype?e.textContent=t:e.innerText=t}function r(e){const t=(0,n.ce)("div");if("string"==typeof t.style[e])return e;const i=["webkit","moz","ms"],s=e.charAt(0).toUpperCase()+e.slice(1);for(let e,n=0;e=i[n];n++){const i=e+s;if("string"==typeof t.style[i])return i}return null}l=0;var l;function d(e){return"string"!=typeof e?e:e.replace(new RegExp("(\\/(?:write|mail|im|al_im.php))(\\?[a-z0-9&=\\-_]*)?$"),"$1").replace(new RegExp("(\\/write)(\\d*)(\\?[a-zA-Z0-9&=\\-_]*)?$"),"$1")}function h(e){return"string"!=typeof e&&(e=String(e)),e.length<2?`0${e}`:e}function c(e){const t=p(e);if(!t)return"";const i=new URLSearchParams(t.search);let n="";return i.has("ref_domain")&&(n=i.get("ref_domain"),n=function(e){return"string"!=typeof e?"":e.startsWith("http")?e:`https://${e}`}(n)),function(e){try{return!!new URL(e)}catch{return!1}}(n)?n:""}function p(e){try{return new URL(e)}catch{return null}}},592250:(e,t,i)=>{i.d(t,{EndScreen:()=>g});var n=i(975186),s=i(754866),o=i(581197),a=i(994781),r=i(938307),l=i(573046),d=i(230337),h=i(453829),c=i(34692),p=i(624),u=i(712714),v=i(795168),_=i(540462);class g extends n.PlayerComponent{setLiked(e){const t=this._like.querySelector(".videoplayer_end_action_icon"),i=(0,o.createElementFromHTML)(e?(0,a.getIcon24Like)().icon:(0,r.getIcon24LikeOutline)().icon);t.replaceChild(i,t.firstChild),(0,s.toggleClass)(this._like,"_liked",e)}setAdded(e){const t=this._add.querySelector(".videoplayer_end_action_icon"),i=(0,o.createElementFromHTML)(e?(0,l.getIcon24DoneOutline)().icon:(0,d.getIcon24AddOutline)().icon);t.replaceChild(i,t.firstChild)}setSubscribed(e){(0,s.toggleClass)(this._subscribeBtn,"_subscribed",e)}resize(e,t){this._largeActions=e>350&&t>280,(0,s.toggleClass)(this._actions,"_large",this._largeActions)}updateShareActionsVisibility(e=!0){(0,s.toggle)(this._actions,!this.getVar("nolikes",this.player.isInteractive)&&e)}isStretchMode(){return!1}constructor(e){super(e),this.el=(0,s.se)('\n<div class="videoplayer_end_screen">\n</div>\n    '),this._actions=(0,s.se)(`\n<div class="videoplayer_end_actions">\n    <div class="videoplayer_end_action _like">\n      <div class="videoplayer_end_action_icon">${(0,r.getIcon24LikeOutline)().icon}</div>\n      ${this.getLang("like")}\n    </div>\n    <div class="videoplayer_end_action _share">\n      <div class="videoplayer_end_action_icon">${(0,h.getIcon24ShareOutline)().icon}</div>\n      ${this.getLang("share")}\n    </div>\n    <div class="videoplayer_end_action _add">\n      <div class="videoplayer_end_action_icon">${(0,d.getIcon24AddOutline)().icon}</div>\n      ${this.getLang("add")}\n    </div>\n</div>\n    `),this.domListen(this.el,"click",(e=>{e.target===this.el&&this.player.togglePlay()})),this.player.isVideoPage||(this.el.appendChild(this._actions),(0,_.partConfigEnabled)("use_uv_videoplayer_on_web")&&(this._tooltip=new v.Tooltip(this.el),this.el.append(this._tooltip.el)),this._like=this.el.querySelector("._like"),this._share=this.el.querySelector("._share"),this._add=this.el.querySelector("._add"),this.getVar("md_author",this.player.isInteractive)&&this.getVar("author_photo",this.player.isInteractive)&&this.getVar("author_href",this.player.isInteractive)&&!this.getVar("show_subscribe_block",this.player.isInteractive)&&(this._info=(0,s.se)(`\n<div class="videoplayer_end_info">\n  <a href="${this.getVar("author_href",this.player.isInteractive)}" target="_blank" rel="noopener">\n    <img class="videoplayer_end_info_author_photo" src="${this.getVar("author_photo",this.player.isInteractive)}"/>\n  </a>\n  <div class="videoplayer_end_info_title">${this.getVar("md_title",this.player.isInteractive)}</div>\n  <div class="videoplayer_end_info_author_name">\n    <a href="${this.getVar("author_href",this.player.isInteractive)}" target="_blank" rel="noopener" class="videoplayer_end_info_author_link">\n      ${this.getVar("md_author",this.player.isInteractive)}\n    </a>\n    <div class="videoplayer_end_info_subscribe">${p.subscribe("_icon_subscribe")}</div>\n  </div>\n</div>\n      `),this._subscribeBtn=(0,s.domByClass)(this._info,"videoplayer_end_info_subscribe"),this.el.appendChild(this._info)),this.setLiked(!!e.videoLiked),this.setAdded(!!e.videoAdded),this.setSubscribed(!!e.isSubscribed),this.domListen("_like","click",(()=>{e.likeVideo(this._largeActions?u.END_LARGE:u.END_SMALL)})),this.domListen("_share","click",(()=>{e.shareVideo(this._largeActions?u.END_LARGE:u.END_SMALL)})),this.domListen("_add","click",(()=>{e.addVideo(this._largeActions?u.END_LARGE:u.END_SMALL)})),this.domListen(this._subscribeBtn,"click",(()=>{e.subscribeToAuthor(this._largeActions?u.END_LARGE:u.END_SMALL)})),this.attachTooltip({el:"_like",text:()=>this._largeActions?null:this.getLang("like"),hideDelay:200}),this.attachTooltip({el:"_share",text:()=>this._largeActions?null:this.getLang("share"),hideDelay:200}),this.attachTooltip({el:"_add",text:()=>this.getLang(this.player.videoAdded?"added":"add"),hideDelay:200}),this.attachTooltip({el:this._subscribeBtn,text:()=>this.getLang(this.player.isSubscribed?"subscribed":"subscribe"),toDown:!0}),this.getVar("can_add",this.player.isInteractive)||(0,s.addClass)(this._actions,"_no_add"),(0,s.toggle)(this._share,!!this.getVar("can_share",this.player.isInteractive)),this.updateShareActionsVisibility(),(0,s.toggle)(this._subscribeBtn,!!this.getVar("can_subscribe",this.player.isInteractive)),this.playerListen(c.VIDEO_LIKE,(e=>{this.setLiked(e)})),this.playerListen(c.VIDEO_ADD,(e=>{this.setAdded(e)})),this.playerListen(c.SUBSCRIBED,(e=>{this.setSubscribed(e)})))}}},91997:(e,t,i)=>{i.d(t,{EndScreenAdsSnippetVideo:()=>o});var n=i(975186),s=i(754866);class o extends n.PlayerComponent{resize(){}isStretchMode(){return!1}constructor(e){super(e),this.el=(0,s.se)(`\n<div class="videoplayer_end_screen">\n  <div class="videoplayer_end_actions">\n    <div class="_replay">\n    </div>\n    <a class="_go" ${this.getVar("link_attr")}>\n      <div class="go_button_title">${this.getVar("ads_snippet_video_button_title")}</div>\n      <div class="go_button_domain">${this.getVar("ads_snippet_video_button_domain")}</div>\n    </a>\n  </div>\n</div>\n    `),this.domListen("_replay","click",(()=>{e.play()}))}}},301740:(e,t,i)=>{i.d(t,{EndScreenNext:()=>u});var n=i(592250),s=i(575753),o=i(593159),a=i(314309),r=i(768035),l=i(754866),d=i(837759),h=i(34692),c=i(608562),p=i(624);class u extends n.EndScreen{buildNextBlock(){const e=this._nextVideosData[this._nextVideoIndex];this._nextBlock=(0,l.se)(`\n<div class="videoplayer_end_next_block">\n  <div class="_caption">${this.getLang("next")}</div>\n  <div class="_thumb" style="background-image:url(${e.thumb})"></div>\n  <div class="_thumb_darken"></div>\n  <div class="_timer">\n    <canvas class="_timer_canvas" width="100" height="100"></canvas>\n    ${p.play("_timer_play_icon")}\n  </div>\n  <div class="_description">\n    <div class="_title"></div>\n    <div class="_views">${e.views}</div>\n  </div>\n  <div class="_cancel"></div>\n</div>\n    `),c.setText(this._nextBlock.querySelector("._title"),e.title),this.domListen(this._nextBlock,"click",this.onNextClick),this.domListen((0,l.domByClass)(this._nextBlock,"_cancel"),"click",this.onNextCancelClick),this.el.appendChild(this._nextBlock),this.logAnnouncement("show")}buildSuggestionsBlock(){const e=this.player.getVideoId();this._suggestionsBlock=(0,l.ce)("div",{className:"videoplayer_end_suggestions _before_intro"}),(0,o.each)(this._nextVideosData,((t,i)=>{const n=this.player.isVideoPage?(0,d.getVideoHistoryUrl)(i,!1):"/video"+i.vid,s=(0,l.se)(`\n<a class="_item" href="${n}">\n  <div class="_item_thumb" style="background-image:url(${i.thumb});"></div>\n  <div class="_item_title"></div>\n  <div class="_item_views">${i.views}</div>\n</a>\n      `);c.setText(s.querySelector("._item_title"),i.title),i.vid==e&&(0,l.domByClass)(s,"_item_thumb").appendChild((0,l.se)(`\n<div class="_item_replay">\n  <div class="_item_replay_text">${p.play("_item_replay_icon")}${this.getLang("replay")}</div>\n</div>\n        `)),this.domListen(s,"click",this.onSuggestionClick.bind(this,i,t+1)),this._suggestionsBlock.appendChild(s)})),this.el.appendChild(this._suggestionsBlock)}startTimer(){if(!this._nextBlock||!window.CanvasRenderingContext2D)return;const e=(0,l.domByClass)(this._nextBlock,"_timer_canvas"),t=e.getContext("2d");t.lineWidth=6,t.lineCap="round",t.strokeStyle="#fff";const n=Date.now();window.mvcur||i._dG("mvcur",{}),mvcur.nextTimer={timeout:0};const s=()=>{const e=(Date.now()-n)/5e3;e<1?(t.clearRect(0,0,100,100),t.beginPath(),t.arc(50,50,47,-Math.PI/2,-Math.PI/2+2*Math.PI*e),t.stroke(),window.mvcur?.nextTimer&&(this._nextTO=setTimeout(s,16),mvcur.nextTimer.timeout=this._nextTO)):(this.logAnnouncement("auto"),this.player.isVideoPage?this.player.nextVideo((0,d.mapVideoPlaylistLegacyToVideoHistory)(this._nextVideosData[0]),null,null,!0):this.player.nextVideo(this._nextVideosData[0].vid,!0,!0,null))};(0,l.show)(e),this.timerInProgress=!0,s()}resetTimer(){this._nextBlock&&window.CanvasRenderingContext2D&&(clearTimeout(this._nextTO),window.mvcur||i._dG("mvcur",{}),window.mvcur.nextTimer=null,this.timerInProgress=!1,(0,l.hide)((0,l.domByClass)(this._nextBlock,"_timer_canvas")))}showSuggestions(){(0,l.removeClass)(this._suggestionsBlock,"_before_intro");const e=this.isStretchMode(...this.player.getSize());this.player.onSuggestionsShown(e),this.logSuggestionsShow()}onNextClick(){this.logAnnouncement("click");const e=this._nextVideosData[this._nextVideoIndex];this.player.isVideoPage?this.player.nextVideo((0,d.mapVideoPlaylistLegacyToVideoHistory)(e),null,null,!0):this.player.nextVideo(e.vid,!0,null,null)}onNextCancelClick(e){e?.stopPropagation(),this.logAnnouncement("cancel"),this.resetTimer(),(0,l.re)(this._nextBlock),this._nextBlock=null,this.showSuggestions()}onSuggestionClick(e,t,i){!e||i.ctrlKey||s.browser.mac&&i.metaKey||(i.preventDefault(),i.stopPropagation(),this.player.getVideoId()===e.vid?(this.player.onTouchedByUser(),this.player.onSuggestionsReplayClicked()):e.vid&&(this.getVar("is_embed")?window.open(i.currentTarget.href,"_blank"):this.player.isVideoPage?this.player.nextVideo((0,d.mapVideoPlaylistLegacyToVideoHistory)(e),null,null,!0):this.player.nextVideo(e.vid)),this.player.el.focus(),this.logSuggestionClick(e))}resize(e,t){if((0,l.toggle)(this._nextBlock,!0),this._suggestionsBlock){const i=this.isStretchMode(e,t),n=i?4:10,s=i?Math.floor((e-6)/3-2*n):180,a=i?Math.round(s/1.777):100;(0,o.each)((0,l.geByClass)("_item",this._suggestionsBlock),((e,t)=>{(0,l.setStyle)(t,{width:s+"px",padding:`0 ${n}px`}),(0,l.setStyle)((0,l.domFC)(t),{height:a+"px"})})),(0,l.setStyle)(this._suggestionsBlock,{marginTop:i?-Math.round(a/2)+"px":""}),(0,l.toggle)(this._suggestionsBlock,!0),this.updateShareActionsVisibility(!i),(0,l.toggleClass)(this._info,"_right_offset",i&&!this.getVar("nolikes")),this._stretchMode=i}(0,l.setStyle)(this._actions,{marginTop:"-110px"}),this.timerInProgress||this.player.nextTimerStopped||this.startTimer()}logAnnouncement(e){if(!this.player.isVideoPage)return;const t=window.VideoPageHistory.getCurrentVideo();if(!t)return;const i=this.player.getNextVideo();i&&a.videoAnnouncementClickCollector.logEvent({id:t.id,owner_id:t.owner_id},{id:i.id,owner_id:i.owner_id},e)}logSuggestionsShow(){const e=this.player.getCurrentVideoData();e&&a.videoAnnouncementSuggestedShowCollector.logEvent(e,this._nextVideosData.length)}logSuggestionClick(e){const t=this.player.getCurrentVideoData();if(!t)return;const{id:i,ownerId:n}=(0,r.parseRawId)(e.vid);a.videoAnnouncementSuggestedClickCollector.logEvent(t,{id:i,owner_id:n})}isStretchMode(e,t){return!!this._suggestionsBlock&&400<=e&&e<=600&&250<=t&&t<=510}destroy(){super.destroy(),this.resetTimer()}constructor(e,t,i){super(e),this._nextVideoIndex=this.getVar("is_embed")?cur.mvOpts?.next_video_ind:0,this._nextVideosData=t,(0,l.setStyle)(this._actions,{marginTop:"-110px"}),i&&(this.buildNextBlock(),e.nextTimerStopped||this.startTimer()),this.buildSuggestionsBlock(),i||this.showSuggestions(),this.playerListen(h.NEXT_TIMER_RESET,this.resetTimer),this.playerListen(h.NEXT_TIMER_START,this.startTimer)}}},624:(e,t,i)=>{i.r(t),i.d(t,{add:()=>v,bookmark:()=>x,chromecast:()=>b,donate:()=>c,downloadLogo:()=>k,expand:()=>d,fullscreen:()=>h,giftCount:()=>f,gotoLink:()=>y,like:()=>p,live:()=>o,liveActive:()=>a,neuroHd:()=>C,noticeClose:()=>w,outlineVolume:()=>l,play:()=>s,share:()=>u,skipAd:()=>g,subscribe:()=>_,superComment:()=>m,vkVideoLogo:()=>V,volume:()=>r});var n=i(773439);function s(e=""){return`\n<svg class="${e}" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n  <g fill="none" fill-rule="evenodd">\n    <g fill-rule="nonzero">\n      <path class="_pause" d="m0 0h24v24h-24z"/>\n      <path class="_pause" d="m7.14520205 5h1.7095959c.39821169 0 .54261289.04664487.68819313.13423418.14558024.08758932.25983248.21612308.33768965.37990085.07785716.16377778.11931927.32622912.11931927.77421728v11.42329539c0 .4479882-.04146211.6104395-.11931927.7742173-.07785717.1637777-.19210941.2923115-.33768965.3799008s-.28998144.1342342-.68819313.1342342h-1.7095959c-.39821169 0-.54261289-.0466449-.68819313-.1342342s-.25983248-.2161231-.33768965-.3799008c-.07785716-.1637778-.11931927-.3262291-.11931927-.7742173v-11.42329539c0-.44798816.04146211-.6104395.11931927-.77421728.07785717-.16377777.19210941-.29231153.33768965-.37990085.14558024-.08758931.28998144-.13423418.68819313-.13423418zm7.99999995 0h1.709596c.3982117 0 .5426128.04664487.6881931.13423418.1455802.08758932.2598325.21612308.3376896.37990085.0778572.16377778.1193193.32622912.1193193.77421728v11.42329539c0 .4479882-.0414621.6104395-.1193193.7742173-.0778571.1637777-.1921094.2923115-.3376896.3799008-.1455803.0875893-.2899814.1342342-.6881931.1342342h-1.709596c-.3982117 0-.5426128-.0466449-.6881931-.1342342-.1455802-.0875893-.2598325-.2161231-.3376896-.3799008-.0778572-.1637778-.1193193-.3262291-.1193193-.7742173v-11.42329539c0-.44798816.0414621-.6104395.1193193-.77421728.0778571-.16377777.1921094-.29231153.3376896-.37990085.1455803-.08758931.2899814-.13423418.6881931-.13423418z" fill="#fff"/>\n      <path class="_play" d="m8.13340613 5.10548415 10.49681277 6.24354325c.3559987.2117494.472936.6720001.2611866 1.0279989-.0638111.1072809-.1533894.1969388-.2606135.2608453l-10.4968128 6.256187c-.35581027.2120659-.81616483.095538-1.02823068-.2602722-.06921066-.1161237-.10574852-.2487949-.10574852-.3839792v-12.49973035c0-.41421357.33578644-.75.75-.75.13495801 0 .26741554.03641567.38340613.1054073z" fill="#fff"/>\n    </g>\n    <path class="_replay" d="m12 4.5000003c4.418278 0 8 3.581722 8 8s-3.581722 8-8 8-8-3.581722-8-8c0-.5522847.44771525-1 1-1s1 .4477153 1 1c0 3.3137085 2.6862915 6 6 6s6-2.6862915 6-6-2.6862915-6-6-6v3.09577928c0 .09950642-.0370887.19544034-.104024.26906913-.1486028.16346309-.4015821.17550969-.5650451.02690691l-4.28830818-3.89846194c-.01565124-.0142284-.03061645-.02919361-.04484485-.04484485-.24767129-.27243841-.22759356-.69407063.04484485-.94174191l4.28830818-3.89846194c.0736287-.06693527.1695627-.10402398.2690691-.10402398.2209139 0 .4.17908611.4.40000002z" fill="#fff"/>\n  </g>\n</svg>\n  `}function o(e=""){return`\n<svg class="${e}" viewBox="0 0 42 20" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.41 1a6.46 6.46 0 0 0 -3.41.55 3.52 3.52 0 0 0 -1.45 1.45 6.46 6.46 0 0 0 -.55 3.41v7.18a6.46 6.46 0 0 0 .55 3.41 3.52 3.52 0 0 0 1.45 1.45 6.46 6.46 0 0 0 3.41.55h29.18a6.46 6.46 0 0 0 3.41-.55 3.52 3.52 0 0 0 1.45-1.45 6.46 6.46 0 0 0 .55-3.41v-7.18a6.46 6.46 0 0 0 -.55-3.41 3.52 3.52 0 0 0 -1.45-1.45 6.46 6.46 0 0 0 -3.41-.55z" fill="none" stroke="#fff" stroke-width="2"/>\n    <path d="m8 5a1 1 0 0 1 1 1v7h3a1 1 0 0 1 1 .88v.12a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1-.77v-.11a.49.49 0 0 1 0-.12v-8a1 1 0 0 1 .88-1zm8 0a1 1 0 0 1 1 1v8a1 1 0 0 1 -.88 1h-.12a1 1 0 0 1 -1-1v-8a1 1 0 0 1 .88-1zm18 0a1 1 0 0 1 1 .88v.12a1 1 0 0 1 -1 1h-3v2h3a1 1 0 0 1 1 .88v.12a1 1 0 0 1 -1 1h-3v2h3a1 1 0 0 1 1 .88v.12a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1-.77v-.11a.49.49 0 0 1 0-.12v-8a1 1 0 0 1 .56-.9 1 1 0 0 1 .44-.1zm-8 0a1 1 0 0 1 1 1v.1a.89.89 0 0 1 -.11.35l-2.47 7.57a1.48 1.48 0 0 1 -1.32.98h-.2a1.48 1.48 0 0 1 -1.31-.95l-2.47-7.57a.89.89 0 0 1 -.12-.36v-.12a1 1 0 0 1 .88-1h.12a1 1 0 0 1 1 1v-.1l2 6.4 2-6.4a1 1 0 0 1 1-.9z" fill="#f0f2f5" fill-rule="evenodd"/>\n</svg>\n  `}function a(e=""){return`\n<svg class="${e}" viewBox="84 14 42 20" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <g fill="none" fill-rule="evenodd" transform="translate(84 14)">\n    <rect fill="#ff3347" width="42" height="20" rx="5"/>\n    <path d="M26.874 6.486l-2.464 7.562c-.17.523-.756.952-1.307.952h-.206c-.552 0-1.136-.426-1.307-.952l-2.464-7.562c-.06-.11-.103-.233-.12-.363L19 6.1h.005C19.002 6.067 19 6.034 19 6c0-.552.448-1 1-1 .52 0 .945.395.995.9H21l2 6.4 2-6.4h.005c.05-.505.476-.9.995-.9.552 0 1 .448 1 1 0 .034-.002.067-.005.1H27l-.007.023c-.016.13-.058.253-.12.363zM31 9V7h3.01c.54 0 .99-.448.99-1 0-.556-.444-1-.99-1h-4.02c-.268 0-.515.11-.696.29-.184.184-.294.432-.294.705v8.01c0 .268.11.516.29.697.18.188.428.298.7.298h4.02c.54 0 .99-.448.99-1 0-.556-.444-1-.99-1H31v-2h3.01c.54 0 .99-.448.99-1 0-.556-.444-1-.99-1H31zM9 13V5.995C9 5.455 8.552 5 8 5c-.556 0-1 .446-1 .995v8.01c0 .268.11.516.29.697.18.188.428.298.7.298h4.02c.54 0 .99-.448.99-1 0-.556-.444-1-.99-1H9zm6-7.005c0-.55.444-.995 1-.995.552 0 1 .456 1 .995v8.01c0 .55-.444.995-1 .995-.552 0-1-.456-1-.995v-8.01z" fill="#F0F2F5"/>\n  </g>\n</svg>\n  `}function r(e=""){return`\n<svg class="${e}" xmlns="http://www.w3.org/2000/svg">\n  <g fill="#fff" fill-rule="evenodd">\n    <path class="_wave2" d="M12.980843 18.8227621c-.032051 1.2070086-.6704932 1.608931-1.8287519.6202507-1.7185995-1.4687545-3.60887471-3.1942931-4.24215929-3.7215065-.63217937-.528454-1.64491897-.6202511-3.07284859-.6202511-1.42682441 0-1.81505873-.6202511-1.81505873-1.2405016s-.01369327-1.8288162-.01369327-2.001246c0-.0549443.00464608-.085056.01369327-.1291845.01954957-.0953551-.05817756-.9728525 0-1.591076.08510106-.90556663.38823432-1.24050252 1.81505873-1.24050252 1.42792962 0 2.44066922-.09179716 3.07284859-.62025109.63328458-.52845393 2.52355979-2.25275186 4.24215929-3.72150644 1.1582587-.98868024 1.7967003-.58675756 1.8287514.62025106.0431031 1.60645033 5e-7 3.85020301 5e-7 6.68226949 0 2.8295855.0431032 5.3568042 0 6.9632545zm2.9004386-8.7040437c-.3417088-.34170872-.3417088-.89572808 0-1.23743683.3417087-.34170876.8957281-.34170876 1.2374368 0 .1762598.17625972.4111566.46988072.6409943.87209686C18.1429358 10.4240187 18.375 11.1782274 18.375 12s-.2320642 1.5759813-.6152873 2.2466216c-.2298377.4022161-.4647345.6958371-.6409943.8720968-.3417087.3417088-.8957281.3417088-1.2374368 0-.3417088-.3417087-.3417088-.8957281 0-1.2374368.0737402-.0737403.2138434-.2488693.3590057-.5029032C16.4820642 12.9552687 16.625 12.4907274 16.625 12s-.1429358-.9552687-.3847127-1.3783784c-.1451623-.2540339-.2852655-.4291629-.3590057-.5029032zm3-1.99999997c-.3417088-.34170875-.3417088-.89572811 0-1.23743686.3417087-.34170876.8957281-.34170876 1.2374368 0 .2637116.26371158.6207023.73969919.9665078 1.43131016.5167785 1.03355701.842501 2.25503497.8892639 3.71655167-.0467629 1.4032299-.3724854 2.6247079-.8892639 3.6582649-.3458055.6916109-.7027962 1.1675985-.9665078 1.4313101-.3417087.3417088-.8957281.3417088-1.2374368 0-.3417088-.3417087-.3417088-.8957281 0-1.2374368.1375896-.1375897.3825507-.4642045.638697-.9764971.4071252-.8142505.6673665-1.7901701.7054825-2.8756411-.038116-1.1437578-.2983573-2.11967743-.7054825-2.93392787-.2561463-.51229266-.5011074-.83890747-.638697-.9764971z"/>\n    <path class="_wave1" d="M12.980843 18.8227621c-.032051 1.2070086-.6704932 1.608931-1.8287519.6202507-1.7185995-1.4687545-3.60887471-3.1942931-4.24215929-3.7215065-.63217937-.528454-1.64491897-.6202511-3.07284859-.6202511-1.42682441 0-1.81505873-.6202511-1.81505873-1.2405016s-.01369327-1.8288162-.01369327-2.001246c0-.0549443.00464608-.085056.01369327-.1291845.01954957-.0953551-.05817756-.9728525 0-1.591076.08510106-.90556663.38823432-1.24050252 1.81505873-1.24050252 1.42792962 0 2.44066922-.09179716 3.07284859-.62025109.63328458-.52845393 2.52355979-2.25275186 4.24215929-3.72150644 1.1582587-.98868024 1.7967003-.58675756 1.8287514.62025106.0431031 1.60645033 5e-7 3.85020301 5e-7 6.68226949 0 2.8295855.0431032 5.3568042 0 6.9632545zm2.9004386-8.7040437c-.3417088-.34170872-.3417088-.89572808 0-1.23743683.3417087-.34170876.8957281-.34170876 1.2374368 0 .1762598.17625972.4111566.46988072.6409943.87209686C18.1429358 10.4240187 18.375 11.1782274 18.375 12s-.2320642 1.5759813-.6152873 2.2466216c-.2298377.4022161-.4647345.6958371-.6409943.8720968-.3417087.3417088-.8957281.3417088-1.2374368 0-.3417088-.3417087-.3417088-.8957281 0-1.2374368.0737402-.0737403.2138434-.2488693.3590057-.5029032C16.4820642 12.9552687 16.625 12.4907274 16.625 12s-.1429358-.9552687-.3847127-1.3783784c-.1451623-.2540339-.2852655-.4291629-.3590057-.5029032z"/>\n    <path class="_cross" d="M20 10.7625631l2.3812816-2.38128153c.3417087-.34170876.8957281-.34170876 1.2374368 0 .3417088.34170875.3417088.89572811 0 1.23743686L21.2374369 12l2.3812815 2.3812816c.3417088.3417087.3417088.8957281 0 1.2374368-.3417087.3417088-.8957281.3417088-1.2374368 0L20 13.2374369l-2.3812816 2.3812815c-.3417087.3417088-.8957281.3417088-1.2374368 0-.3417088-.3417087-.3417088-.8957281 0-1.2374368L18.7625631 12l-2.3812815-2.38128157c-.3417088-.34170875-.3417088-.89572811 0-1.23743686.3417087-.34170876.8957281-.34170876 1.2374368 0zm-7.019157 8.060199c-.032051 1.2070086-.6704932 1.608931-1.8287519.6202507-1.7185995-1.4687545-3.60887471-3.1942931-4.24215929-3.7215065-.63217937-.528454-1.64491897-.6202511-3.07284859-.6202511-1.42682441 0-1.81505873-.6202511-1.81505873-1.2405016s-.01369327-1.8288162-.01369327-2.001246c0-.0549443.00464608-.085056.01369327-.1291845.01954957-.0953551-.05817756-.9728525 0-1.591076.08510106-.90556663.38823432-1.24050252 1.81505873-1.24050252 1.42792962 0 2.44066922-.09179716 3.07284859-.62025109.63328458-.52845393 2.52355979-2.25275186 4.24215929-3.72150644 1.1582587-.98868024 1.7967003-.58675756 1.8287514.62025106.0431031 1.60645033 5e-7 3.85020301 5e-7 6.68226949 0 2.8295855.0431032 5.3568042 0 6.9632545z"/>\n  </g>\n</svg>\n  `}function l(e=""){return`\n<svg class="${e}" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">\n  <path class="max" d="M18.59 28l5 5c.64.64 1.5 1 2.41 1a2 2 0 002-2V16a2 2 0 00-2-2c-.9 0-1.77.36-2.41 1l-5 5h-2.13A2.46 2.46 0 0014 22.46v3.08C14 26.9 15.1 28 16.46 28zm-2.13-2a.46.46 0 01-.46-.46v-3.08c0-.25.2-.46.46-.46H19a1 1 0 00.7-.3l5.3-5.29c.27-.26.62-.41 1-.41v16c-.38 0-.73-.15-1-.41l-5.3-5.3A1 1 0 0019 26zm18.82 4.56a9.28 9.28 0 000-13.12 1 1 0 00-1.42 1.41 7.28 7.28 0 010 10.3 1 1 0 001.42 1.41zM32.3 27.6a5.08 5.08 0 000-7.18 1 1 0 00-1.42 1.41 3.08 3.08 0 010 4.36 1 1 0 101.42 1.41z" fill="currentColor"/>\n  <g class="mid">\n    <path d="M18.59 28l5 5c.64.64 1.5 1 2.41 1a2 2 0 002-2V16a2 2 0 00-2-2c-.9 0-1.77.36-2.41 1l-5 5h-2.13A2.46 2.46 0 0014 22.46v3.08C14 26.9 15.1 28 16.46 28zm-2.13-2a.46.46 0 01-.46-.46v-3.08c0-.25.2-.46.46-.46H19a1 1 0 00.7-.3l5.3-5.29c.27-.26.62-.41 1-.41v16c-.38 0-.73-.15-1-.41l-5.3-5.3A1 1 0 0019 26zm15.85-5.6a5.08 5.08 0 010 7.2 1 1 0 01-1.42-1.42 3.08 3.08 0 000-4.36 1 1 0 111.42-1.41z" fill-rule="evenodd" fill="currentColor"/>\n    <path d="M35.28 30.56a9.28 9.28 0 000-13.12 1 1 0 00-1.42 1.41 7.28 7.28 0 010 10.3 1 1 0 001.42 1.41z" fill-opacity=".4" fill="currentColor"/>\n  </g>\n  <g class="min">\n    <path d="M23.59 33l-5-5h-2.13A2.46 2.46 0 0114 25.54v-3.08C14 21.1 15.1 20 16.46 20h2.13l5-5c.64-.64 1.5-1 2.41-1a2 2 0 012 2v16a2 2 0 01-2 2c-.9 0-1.77-.36-2.41-1zM16 25.54c0 .25.2.46.46.46H19a1 1 0 01.7.3l5.3 5.29c.27.26.62.41 1 .41V16c-.38 0-.73.15-1 .41l-5.3 5.3a1 1 0 01-.7.29h-2.54c-.25 0-.46.2-.46.46z" fill-rule="evenodd" fill="currentColor"/>\n    <g fill-opacity=".4">\n      <path d="M35.28 30.56a9.28 9.28 0 000-13.12 1 1 0 00-1.42 1.41 7.28 7.28 0 010 10.3 1 1 0 001.42 1.41z" fill="currentColor"/>\n      <path d="M32.3 27.6a5.08 5.08 0 000-7.2 1 1 0 00-1.4 1.42 3.08 3.08 0 010 4.36 1 1 0 101.4 1.41z" fill="currentColor"/>\n    </g>\n  </g>\n  <path class="off" d="M17.7 14.3l16 16a1 1 0 01-1.4 1.4L28 27.43V32a2 2 0 01-2 2 3.4 3.4 0 01-2.41-1l-5-5h-2.13A2.46 2.46 0 0114 25.54v-3.08A2.46 2.46 0 0116.46 20h2.13l1-1-3.3-3.3c-.4-.4-.36-1.04 0-1.4a1 1 0 011.42 0zM21 20.4l-1.3 1.3a1 1 0 01-.7.29h-2.54a.46.46 0 00-.46.46v3.08c0 .27.22.46.46.46H19a1 1 0 01.7.3l5.3 5.29c.27.27.64.41 1 .41v-6.58zM26 14a2 2 0 012 2v4a1 1 0 11-2 0v-4c-.39 0-.73.14-1 .41l-.8.8c-.92.76-2.2-.4-1.4-1.42l.79-.79c.64-.64 1.5-1 2.41-1z" fill="currentColor"/>\n</svg>\n  `}function d(e=""){return`\n<svg class="${e}" viewBox="729 480 16 16" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <path d="M729 481.994c0-1.1.895-1.994 1.994-1.994h12.012c1.1 0 1.994.895 1.994 1.994v12.012c0 1.1-.895 1.994-1.994 1.994h-12.012c-1.1 0-1.994-.895-1.994-1.994v-12.012zm2 4.004c0-.55.456-.998 1.002-.998h9.996c.553 0 1.002.446 1.002.998v7.004c0 .55-.456.998-1.002.998h-9.996c-.553 0-1.002-.446-1.002-.998v-7.004z" fill="#FFF" fill-rule="evenodd"/>\n</svg>\n  `}function h(e=""){return`\n<svg class="${e}" xmlns="http://www.w3.org/2000/svg">\n  <g fill="#fff" fill-rule="evenodd">\n    <path class="_enter" d="M10.5 19c0 .5522847-.4477153 1-1 1H5c-.55228475 0-1-.4477153-1-1v-4.5c0-.5522847.44771525-1 1-1s1 .4477153 1 1v2.0715l3.36290054-3.3643932.00012963-.0001296c.39052429-.3905243 1.02368923-.3905243 1.41421353 0l.0157791.0157791.0001297.0001296c.3904527.3905959.3903366 1.0237609-.0002593 1.4142136L7.4285 18H9.5c.5522847 0 1 .4477153 1 1zM18 7.4285l-3.3629005 3.3643932c-.0000432.0000432-.0000865.0000864-.0001297.0001296-.3905243.3905243-1.0236892.3905243-1.4142135 0l-.0157791-.0157791c-.0000433-.0000432-.0000865-.0000864-.0001297-.0001296-.3904527-.3905959-.3903366-1.02376087.0002593-1.41421356L16.5715 6H14.5c-.5522847 0-1-.44771525-1-1s.4477153-1 1-1H19c.5522847 0 1 .44771525 1 1v4.5c0 .5522847-.4477153 1-1 1s-1-.4477153-1-1z"/>\n    <path class="_exit" d="M4.57969048 13.9787492c0-.5464165.44295809-.9893746.9893746-.9893746h4.45218572c.5464165 0 .9893746.4429581.9893746.9893746v4.4521857c0 .5464165-.4429581.9893746-.9893746.9893746-.54641651 0-.98937461-.4429581-.98937461-.9893746v-2.0494895l-3.3196551 3.3211319-.00012963.0001297c-.39052429.3905243-1.02368927.3905243-1.41421356 0l-.00058487-.0005849-.00012964-.0001297c-.39045268-.3905958-.3903366-1.0237608.00025929-1.4142135l3.32113189-3.3196551H5.56906508c-.54641651 0-.9893746-.4429581-.9893746-.9893746zM14.9681238 7.61855457l3.3196551-3.32113189.0001296-.00012966c.3905243-.39052429 1.0236893-.39052429 1.4142136 0l.0005849.00058488.0001296.00012965c.3904527.39059589.3903366 1.02376086-.0002593 1.41421354l-3.3211319 3.3196551h2.0494895c.5464165 0 .9893746.4429581.9893746.98937461 0 .5464165-.4429581.9893746-.9893746.9893746h-4.4415603c-.5522847 0-1-.4477153-1-1V5.56906508c0-.54641651.4429581-.9893746.9893746-.9893746s.9893746.44295809.9893746.9893746z"/>\n  </g>\n</svg>\n  `}function c(e=""){return`\n<svg class="${e}" viewBox="5 8 26 22" xmlns="http://www.w3.org/2000/svg">\n  <path d="M21 21v-8h-2v8h-2v2h2v2h2v-2h3v-2h-3zm2-3.077V20s3 0 3-3.5-3-3.5-3-3.5v2.087C22.725 15 22.5 15 22.5 15H21v3h1.5c.17 0 .34-.026.5-.077V20h-2v-7h2v2.087c.436.138 1 .493 1 1.413 0 .77-.45 1.246-1 1.423zM21.5 28c-5.247 0-9.5-4.253-9.5-9.5S16.253 9 21.5 9s9.5 4.253 9.5 9.5-4.253 9.5-9.5 9.5z" fill="#FFF" fill-rule="evenodd"/>\n  <path d="M15.818 27.995c-.106.003-.212.005-.318.005-5.247 0-9.5-4.253-9.5-9.5S10.253 9 15.5 9c.446 0 .884.03 1.314.09C12.844 10.503 10 14.294 10 18.75c0 4.073 2.376 7.592 5.818 9.245z" fill="#FFF" fill-rule="evenodd" />\n</svg>\n  `}function p(e=""){return`\n<svg class="${e}" viewBox="10 11 17 15" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <path d="M18.5 13.922c-1.7-3.4-5.097-3.393-7.042-1.43-1.944 1.96-1.944 5.147 0 7.11.608.612 5.834 5.76 5.834 5.76.608.613 1.702.613 2.31 0l5.833-5.76c2.066-1.963 2.066-5.15.12-7.11-1.943-1.84-5.355-1.97-7.055 1.43z" fill="#FFF" fill-rule="evenodd"/>\n</svg>\n  `}function u(e=""){return`\n<svg class="${e}" viewBox="11 11 14 15" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <path d="M14.16 21h-.637C12.077 21 11 19.39 11 18.09v-1.18c0-1.3 1.077-2.91 2.523-2.91H17c1.358 0 1.694.31 3.712-.99 1.387-.946 2.9-2.01 2.9-2.01H25v13h-1.26s-1.767-1.182-3.154-2.127c-1.46-.948-2.088-.9-3.166-.878.11.784.315 2.057.58 2.734 0 1.475-.133 2.27-2.667 2.27l-1.174-5z" fill="#FFF" fill-rule="evenodd"/>\n</svg>\n  `}function v(e=""){return`\n<svg class="${e}" viewBox="10 11 17 15" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <path d="M20 17v-4.993C20 11.45 19.553 11 19 11h-1c-.557 0-1 .45-1 1.007V17h-4.993C11.45 17 11 17.447 11 18v1c0 .557.45 1 1.007 1H17v4.993c0 .558.447 1.007 1 1.007h1c.557 0 1-.45 1-1.007V20h4.993C25.55 20 26 19.553 26 19v-1c0-.557-.45-1-1.007-1H20z" fill="#FFF" fill-rule="evenodd" class="_plus"/>\n  <path stroke="#FFF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none" d="M11.5 18.5L16 23l9.5-9.5" class="_mark"/>\n</svg>\n  `}function _(e=""){return`\n<svg class="${e}" viewBox="0 2 12 8" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <path d="M7 5V2H5v3H2v2h3v3h2V7h3V5H7z" fill="#FFF" fill-rule="evenodd" class="_plus"/>\n  <path stroke="#FFF" stroke-width="1.5" fill="none" d="M2 6l2.5 2.5L10 3" class="_mark"/>\n  <path d="M3 3l6 6M9 3L3 9" stroke="#FFF" stroke-width="1.5" fill="none" class="_cancel"/>\n</svg>\n  `}function g(e=""){return`\n<svg class="${e}" viewBox="163 11 8 15" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <path stroke="#FFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none" d="M165 13l5 5.5-5 5.5"/>\n</svg>\n  `}function y(e=""){return`\n<svg class="${e}" viewBox="0 0 7 10" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <path d="M2.587 2.587L0 0h7v7L4.61 4.61c-.564.644-1.144 1.47-1.408 2.367C2.865 8.652 4.135 10 4.135 10S1 9.66 1 5.965c0-1.355.797-2.538 1.587-3.378z" fill="#FFF" fill-rule="evenodd"/>\n</svg>\n  `}function m(e=""){return`\n<svg class="${e}" viewBox="230 33 12 16" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <g fill="#99C5FF" fill-rule="evenodd">\n    <path d="M234.665 47.746c-.367.416-.563.32-.435-.22L236.006 40h4.478c.556 0 .712.333.34.754l-6.16 6.992z"/>\n    <path d="M237.337 34.254c.366-.416.56-.32.433.22L235.998 42h-4.466c-.554 0-.7-.344-.34-.754l6.145-6.992z"/>\n  </g>\n</svg>\n  `}function f(e,t=""){let i="";switch(e){case 2:i="M16.283 20.264c.14-.225.396-.53.765-.91l3.278-3.533c.487-.52.834-.966 1.042-1.335.208-.37.312-.735.312-1.098 0-.328-.076-.62-.23-.875-.15-.255-.364-.452-.636-.593-.272-.142-.587-.212-.945-.212-.446 0-.83.12-1.157.36-.325.24-.572.592-.742 1.055-.14.275-.29.475-.452.598-.16.124-.356.185-.584.185-.293 0-.532-.095-.717-.285-.184-.19-.277-.432-.277-.725 0-.528.176-1.032.528-1.512.35-.48.838-.87 1.46-1.165.62-.296 1.31-.444 2.073-.444.763 0 1.447.147 2.053.44.607.293 1.08.7 1.424 1.217.343.52.514 1.104.514 1.755 0 .404-.065.794-.197 1.17-.13.374-.345.77-.64 1.185-.297.416-.7.89-1.21 1.424l-2.795 2.988v.114h4.123c.346 0 .617.087.813.26.197.173.295.41.295.716 0 .3-.098.533-.295.703-.196.17-.467.255-.812.255h-5.923c-.387 0-.696-.097-.928-.29-.232-.193-.348-.45-.348-.773 0-.223.07-.447.21-.673z";break;case 3:i="M16.107 18.783c.176-.18.4-.272.668-.272.194 0 .368.052.523.155.156.102.315.27.48.505.257.404.578.712.962.923.384.21.822.316 1.314.316.433 0 .814-.076 1.142-.225.328-.15.582-.36.76-.633.18-.272.27-.587.27-.945 0-.357-.092-.675-.274-.953-.18-.28-.435-.494-.76-.646-.325-.153-.702-.23-1.13-.23h-.86c-.265 0-.483-.088-.656-.267-.172-.177-.26-.402-.26-.67 0-.265.088-.485.26-.66.173-.176.39-.264.655-.264h.82c.356 0 .677-.072.96-.215.285-.143.508-.342.67-.597.16-.255.24-.54.24-.857 0-.316-.078-.598-.237-.844-.158-.246-.38-.438-.668-.575-.287-.138-.615-.207-.984-.207-.872 0-1.543.4-2.012 1.195-.13.217-.272.375-.43.475-.16.1-.343.15-.554.15-.28 0-.513-.09-.694-.27-.182-.177-.273-.41-.273-.697 0-.47.176-.91.527-1.323.352-.413.834-.746 1.446-.998.613-.252 1.29-.378 2.035-.378.797 0 1.51.135 2.136.405.628.268 1.117.645 1.468 1.128.352.484.528 1.033.528 1.648 0 .428-.098.836-.295 1.226-.195.39-.46.714-.794.97-.334.26-.7.417-1.1.476v.15c.482.046.917.204 1.306.474.39.27.696.618.92 1.046.222.428.333.89.333 1.39 0 .69-.192 1.307-.576 1.85-.385.54-.918.962-1.6 1.264-.683.302-1.46.453-2.334.453-.767 0-1.472-.13-2.114-.39-.64-.262-1.148-.606-1.52-1.034-.372-.427-.558-.88-.558-1.36 0-.277.088-.505.263-.687z";break;case 4:i="M17.048 19.776c-.45 0-.804-.114-1.06-.342-.254-.23-.382-.548-.382-.958 0-.194.03-.392.093-.594.06-.202.173-.467.337-.795.527-.996 1.055-1.935 1.582-2.817.526-.882 1.168-1.88 1.924-2.993.37-.54.716-.914 1.04-1.125.327-.21.718-.316 1.175-.316.59 0 1.055.15 1.392.448.337.3.505.71.505 1.23v6.33h.59c.316 0 .565.088.746.267.182.18.273.418.273.717 0 .293-.09.525-.268.694-.18.17-.43.256-.752.256h-.59V20.9c0 .376-.098.67-.298.885-.2.214-.47.32-.817.32-.345 0-.616-.106-.812-.32-.196-.214-.294-.51-.294-.884v-1.124h-4.386zm4.386-7.9h-.123c-.486.737-1.086 1.707-1.8 2.908-.716 1.2-1.293 2.2-1.733 2.997v.063h3.657v-5.968z";break;case 5:i="M16.393 18.814c.18-.202.412-.303.7-.303.186 0 .355.045.504.133.15.087.295.234.435.44.557.825 1.275 1.238 2.154 1.238.44 0 .83-.094 1.173-.284.342-.19.61-.456.803-.796.193-.34.29-.73.29-1.17 0-.42-.092-.796-.277-1.124-.184-.328-.442-.583-.773-.764-.33-.182-.705-.273-1.12-.273-.294 0-.587.052-.88.157-.293.106-.568.26-.826.466-.252.21-.455.355-.61.43-.156.077-.32.115-.488.115-.365 0-.655-.12-.872-.365-.216-.243-.313-.564-.29-.962l.326-4.517c.03-.416.17-.726.42-.93.253-.206.623-.31 1.11-.31h4.973c.352 0 .626.088.822.26.196.173.294.412.294.717 0 .304-.097.54-.29.707-.194.167-.47.25-.827.25h-4.543l-.247 3.103h.123c.206-.28.53-.51.976-.685.445-.176.926-.264 1.44-.264.757 0 1.427.165 2.01.493.583.328 1.037.788 1.362 1.38.325.592.488 1.27.488 2.03 0 .844-.19 1.588-.57 2.233-.382.644-.918 1.145-1.61 1.503-.69.356-1.485.535-2.382.535-.767 0-1.462-.13-2.083-.387-.62-.258-1.106-.593-1.458-1.006-.35-.413-.527-.845-.527-1.297 0-.298.09-.55.268-.75z";break;case 6:i="M16.244 12.714c.378-.958.93-1.686 1.656-2.184.727-.498 1.61-.747 2.646-.747.52 0 1.018.065 1.49.194.47.128.89.313 1.252.553.305.205.545.435.72.69.177.255.264.5.264.734 0 .264-.084.478-.254.642-.17.164-.393.246-.668.246-.164 0-.318-.03-.462-.092-.143-.062-.318-.175-.523-.34-.304-.257-.602-.446-.892-.566-.29-.12-.602-.18-.936-.18-.855 0-1.504.365-1.947 1.094-.442.73-.67 1.792-.68 3.186h.078c.135-.345.35-.652.642-.918.293-.267.637-.473 1.033-.62.395-.146.81-.22 1.243-.22.727 0 1.374.165 1.943.493.567.327 1.01.785 1.33 1.374.32.59.48 1.26.48 2.017 0 .827-.182 1.557-.546 2.19-.363.633-.874 1.123-1.533 1.472-.66.35-1.416.523-2.27.523-.763 0-1.446-.147-2.05-.44-.603-.293-1.104-.72-1.502-1.283-.72-1.013-1.08-2.458-1.08-4.333 0-1.366.188-2.528.566-3.486zm2.223 6.592c.185.337.44.6.765.79.325.192.693.287 1.103.287.404 0 .763-.092 1.077-.277.313-.185.556-.445.73-.782.172-.337.258-.725.258-1.165 0-.434-.087-.818-.263-1.152-.176-.334-.422-.592-.74-.774-.315-.18-.68-.272-1.097-.272-.404 0-.768.094-1.09.28-.322.19-.573.448-.752.78-.178.33-.268.707-.268 1.128 0 .434.093.82.277 1.156z";break;case 7:i="M17.452 20.356l4.122-8.35v-.07h-4.922c-.363 0-.646-.086-.848-.26-.202-.172-.303-.405-.303-.697 0-.294.102-.53.304-.71.202-.178.485-.267.848-.267h6.153c.357 0 .65.108.88.325.227.217.34.504.34.86 0 .23-.038.475-.117.735-.08.26-.2.556-.365.884l-4.14 8.578c-.13.252-.278.44-.448.567-.17.126-.375.19-.615.19-.317 0-.58-.1-.787-.3-.208-.2-.312-.454-.312-.765 0-.21.072-.45.212-.72z";break;case 8:i="M21.53 20.286c.346-.17.617-.404.813-.703.197-.3.295-.636.295-1.01 0-.382-.098-.723-.295-1.025-.196-.3-.467-.537-.813-.707-.345-.17-.738-.254-1.177-.254-.44 0-.832.085-1.178.255-.346.17-.617.407-.813.708-.196.302-.295.643-.295 1.024 0 .375.1.712.295 1.01.196.3.467.534.813.704.346.17.738.255 1.178.255.44 0 .832-.084 1.177-.254zm-.197-5.572c.29-.147.515-.352.676-.615.16-.265.24-.564.24-.898 0-.328-.08-.62-.24-.88-.162-.257-.387-.46-.677-.605-.29-.147-.617-.22-.98-.22-.364 0-.69.073-.98.22-.29.146-.516.348-.677.606-.16.258-.242.55-.242.88 0 .327.08.623.242.887.16.264.387.47.677.62.29.15.616.224.98.224.363 0 .69-.074.98-.22zm-3.428 7.1c-.7-.292-1.242-.705-1.626-1.238-.385-.533-.577-1.148-.577-1.846 0-.492.104-.946.312-1.362.208-.416.503-.766.883-1.05.38-.284.82-.476 1.32-.576v-.132c-.64-.2-1.138-.533-1.495-1.002-.358-.468-.536-1.022-.536-1.66 0-.616.175-1.164.527-1.644.35-.48.844-.856 1.476-1.125.633-.27 1.354-.406 2.163-.406.808 0 1.53.135 2.162.405.632.268 1.125.643 1.476 1.124.353.48.53 1.028.53 1.643 0 .633-.182 1.185-.542 1.657-.36.472-.86.807-1.5 1.006v.132c.5.1.938.292 1.315.576.378.284.673.634.884 1.05.21.416.316.867.316 1.354 0 .69-.196 1.305-.59 1.84-.39.537-.94.953-1.647 1.25-.706.295-1.516.443-2.43.443-.914 0-1.72-.147-2.42-.44z";break;case 9:i="M21.838 12.72c-.176-.34-.422-.606-.738-.797-.317-.19-.677-.285-1.08-.285-.4 0-.756.093-1.07.28-.313.188-.556.452-.73.792-.172.34-.258.727-.258 1.16 0 .434.086.816.26 1.147.172.33.415.59.73.774.312.185.67.277 1.075.277.405 0 .764-.092 1.077-.276.313-.184.558-.442.734-.773.176-.33.264-.71.264-1.138 0-.435-.088-.82-.264-1.16zm-5.498 6.727c.173-.167.39-.25.655-.25.147 0 .284.027.413.083.13.055.284.157.466.303.3.264.598.46.897.584.3.126.64.19 1.02.19.86 0 1.518-.37 1.97-1.112.45-.742.676-1.798.676-3.17h-.08c-.216.558-.584.997-1.103 1.32-.518.322-1.117.483-1.797.483-.732 0-1.383-.167-1.95-.5-.57-.335-1.012-.804-1.328-1.407-.317-.603-.475-1.288-.475-2.056 0-.82.182-1.545.545-2.175.363-.63.876-1.12 1.538-1.465s1.424-.518 2.285-.518c.974 0 1.803.24 2.49.72.684.48 1.207 1.18 1.567 2.1.36.92.54 2.03.54 3.332 0 1.364-.187 2.52-.562 3.462-.375.943-.925 1.658-1.652 2.145-.726.486-1.61.73-2.654.73-.51 0-.996-.06-1.456-.177-.46-.117-.868-.287-1.226-.51-.322-.2-.576-.426-.76-.68-.185-.255-.277-.512-.277-.77 0-.275.087-.496.26-.663z"}return`\n<svg class="${t}" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M8.832 19.334c-.2 0-.38-.08-.54-.24-.17-.168-.253-.35-.253-.546 0-.215.088-.406.266-.575l1.6-1.6-1.6-1.6c-.178-.186-.267-.382-.267-.587 0-.196.074-.37.225-.52.155-.154.33-.232.526-.232.21 0 .404.09.582.267l1.607 1.6 1.59-1.592c.184-.183.38-.274.59-.274.195 0 .375.082.54.246.16.16.238.34.238.54 0 .21-.088.404-.266.582l-1.6 1.6 1.6 1.606c.182.177.273.37.273.58 0 .192-.077.365-.232.52-.155.155-.33.233-.526.233-.21 0-.404-.088-.582-.266l-1.6-1.606-1.6 1.6c-.176.177-.368.266-.573.266z" fill="#000"/>\n    <path d="${i}" fill="#000"/>\n  </g>\n</svg>\n  `}function w(e=""){return`\n<svg class="${e}" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <path d="M5 3.69L1.578.27C1.22-.09.635-.09.273.272-.09.637-.09 1.22.27 1.578L3.69 5 .27 8.422c-.358.357-.358.943.003 1.305.364.364.946.363 1.305.004L5 6.31l3.422 3.42c.357.358.943.358 1.305-.003.364-.364.363-.946.004-1.305L6.31 5l3.42-3.422c.358-.357.358-.943-.003-1.305C9.363-.09 8.78-.09 8.422.27L5 3.69z" fill="#FFF" fill-rule="evenodd"/>\n</svg>\n  `}function x(e=""){return`\n<svg class="${e}" viewBox="0 0 26 28" xmlns="http://www.w3.org/2000/svg" focusable="false">\n  <path d="M26 10.109c0 0.281-0.203 0.547-0.406 0.75l-5.672 5.531 1.344 7.812c0.016 0.109 0.016 0.203 0.016 0.313 0 0.406-0.187 0.781-0.641 0.781-0.219 0-0.438-0.078-0.625-0.187l-7.016-3.687-7.016 3.687c-0.203 0.109-0.406 0.187-0.625 0.187-0.453 0-0.656-0.375-0.656-0.781 0-0.109 0.016-0.203 0.031-0.313l1.344-7.812-5.688-5.531c-0.187-0.203-0.391-0.469-0.391-0.75 0-0.469 0.484-0.656 0.875-0.719l7.844-1.141 3.516-7.109c0.141-0.297 0.406-0.641 0.766-0.641s0.625 0.344 0.766 0.641l3.516 7.109 7.844 1.141c0.375 0.063 0.875 0.25 0.875 0.719z"></path>\n</svg>\n  `}function b(e,t=""){switch(e){case n.ChromecastState.AVAILABLE:return`\n        <svg class="${t}" width="22" height="22" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n          <g fill="none" fill-rule="evenodd">\n            <path d="M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="#fff"/>\n            <path d="M0 0h24v24H0z"/>\n          </g>\n        </svg>`;case n.ChromecastState.CONNECTED:return`\n        <svg class="${t}" width="22" height="22" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n          <g fill="none" fill-rule="evenodd">\n            <path d="M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="#fff"/>\n            <path d="M0 0h24v24H0z"/>\n          </g>\n        </svg>`;case n.ChromecastState.CONNECTING:return`\n        <svg class="${t}" width="22" height="22" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n          <g fill="none" fill-rule="evenodd">\n            <path class="videoplayer_btn_chromecast__wave videoplayer_btn_chromecast__wave1" d="M1 18v3h3c0-1.66-1.34-3-3-3z" opacity=".3" fill="#fff"/>\n            <path class="videoplayer_btn_chromecast__wave videoplayer_btn_chromecast__wave2" d="M1 14v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7z" opacity=".3" fill="#fff"/>\n            <path class="videoplayer_btn_chromecast__wave videoplayer_btn_chromecast__wave3" d="M1 10v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11z" opacity=".3" fill="#fff"/>\n            <path d="M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="#fff"/>\n            <path d="M0 0h24v24H0z"/>\n          </g>\n        </svg>`;default:return null}}function C(e=""){return`\n    <svg class="${e}" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g clip-path="url(#clip0_499_314888)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.88729 4.72436C8.52861 5.77277 8.04691 6.83216 7.43955 7.43952C6.83219 8.04688 5.7728 8.52858 4.72439 8.88726C4.65839 8.90984 4.59243 8.93193 4.52663 8.95354C4.32271 9.0205 4.12032 9.08278 3.9229 9.1404C3.82924 9.16774 3.7367 9.19403 3.64564 9.21927C3.26453 9.32493 3.26453 10.0349 3.64564 10.1405C3.7367 10.1658 3.82924 10.192 3.9229 10.2194C4.12032 10.277 4.32271 10.3393 4.52663 10.4062C4.59243 10.4278 4.65839 10.4499 4.72439 10.4725C5.7728 10.8312 6.83219 11.3129 7.43955 11.9203C8.04691 12.5276 8.52861 13.587 8.88729 14.6354C8.90987 14.7014 8.93196 14.7674 8.95357 14.8332C9.02053 15.0371 9.08281 15.2395 9.14043 15.4369C9.16777 15.5306 9.19406 15.6231 9.2193 15.7142C9.32496 16.0953 10.0349 16.0953 10.1405 15.7142C10.1658 15.6231 10.1921 15.5306 10.2194 15.4369C10.277 15.2395 10.3393 15.0371 10.4063 14.8332C10.4279 14.7674 10.45 14.7014 10.4726 14.6354C10.8312 13.587 11.3129 12.5276 11.9203 11.9203C12.5277 11.3129 13.587 10.8312 14.6355 10.4725C14.7015 10.4499 14.7674 10.4278 14.8332 10.4062C15.0371 10.3393 15.2395 10.277 15.4369 10.2194C15.5306 10.192 15.6231 10.1658 15.7142 10.1405C16.0953 10.0349 16.0953 9.32493 15.7142 9.21927C15.6231 9.19403 15.5306 9.16774 15.4369 9.1404C15.2395 9.08278 15.0371 9.0205 14.8332 8.95354C14.7674 8.93193 14.7015 8.90984 14.6355 8.88726C13.587 8.52858 12.5277 8.04688 11.9203 7.43952C11.3129 6.83216 10.8312 5.77277 10.4726 4.72436C10.45 4.65836 10.4279 4.5924 10.4063 4.5266C10.3393 4.32268 10.277 4.12029 10.2194 3.92287C10.1921 3.82921 10.1658 3.73667 10.1405 3.64561C10.0349 3.2645 9.32496 3.2645 9.2193 3.64561C9.19406 3.73667 9.16777 3.82921 9.14043 3.92287C9.08281 4.12029 9.02053 4.32268 8.95357 4.5266C8.93196 4.5924 8.90987 4.65836 8.88729 4.72436Z" fill="white"/>\n        <path d="M3.53091 0.274781C3.40878 -0.0915937 2.89056 -0.0915936 2.76843 0.274781L2.46272 1.19192C2.26272 1.79191 1.79191 2.26272 1.19192 2.46272L0.274781 2.76843C-0.0915937 2.89056 -0.0915936 3.40878 0.274781 3.53091L1.19192 3.83662C1.79191 4.03662 2.26272 4.50743 2.46272 5.10742L2.76843 6.02456C2.89056 6.39093 3.40878 6.39093 3.53091 6.02456L3.83662 5.10742C4.03662 4.50743 4.50743 4.03662 5.10742 3.83662L6.02456 3.53091C6.39093 3.40878 6.39093 2.89056 6.02456 2.76843L5.10742 2.46272C4.50743 2.26272 4.03662 1.79191 3.83662 1.19192L3.53091 0.274781Z" fill="white"/>\n      </g>\n      <defs>\n        <clipPath id="clip0_499_314888">\n          <rect width="16" height="16" fill="white"/>\n        </clipPath>\n      </defs>\n    </svg>`}function k(e=""){return`\n    <svg class="${e}" width="61" height="61" viewBox="0 0 61 61" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g>\n        <path d="M0 20.4736C0 3.61359 3.61359 0 20.4736 0H35.5264C52.3864 0 56 3.61359 56 20.4736V35.5264C56 52.3864 52.3864 56 35.5264 56H20.4736C3.61359 56 0 52.3864 0 35.5264V20.4736Z" fill="#0077FF"/>\n        <path d="M30.0906 56H35.4294C51.9723 56 55.8225 52.5538 55.9939 36.6902C55.998 36.3094 56 35.9216 56 35.5264V20.4736C56 20.0474 55.9977 19.6298 55.9929 19.2204C55.808 3.43322 51.9411 0 35.4294 0H30.0906C13.1507 0 9.52 3.61359 9.52 20.4736V35.5264C9.52 52.3864 13.1507 56 30.0906 56Z" fill="#FF2B42"/>\n        <path d="M39.5151 23.1552C42.3461 24.7897 43.7616 25.607 44.2367 26.6739C44.651 27.6046 44.651 28.6673 44.2367 29.598C43.7616 30.6649 42.3461 31.4822 39.5151 33.1166L31.7573 37.5956C28.9263 39.2301 27.5108 40.0473 26.3493 39.9252C25.3361 39.8188 24.4158 39.2874 23.817 38.4632C23.1305 37.5183 23.1305 35.8839 23.1305 32.6149L23.1305 23.657C23.1305 20.388 23.1305 18.7535 23.817 17.8086C24.4158 16.9845 25.3361 16.4531 26.3493 16.3466C27.5108 16.2245 28.9263 17.0418 31.7573 18.6763L39.5151 23.1552Z" fill="white"/>\n\n        <g transform="translate(35, 35)">\n          <g filter="url(#filter0_dd_784_17168)">\n            <circle cx="14" cy="14" r="12" fill="#2688EB"/>\n            <path d="M14.75 7.75C14.75 7.33579 14.4142 7 14 7C13.5858 7 13.25 7.33579 13.25 7.75V14.4393L11.0303 12.2197C10.7374 11.9268 10.2626 11.9268 9.96967 12.2197C9.67678 12.5126 9.67678 12.9874 9.96967 13.2803L13.4697 16.7803C13.6103 16.921 13.8011 17 14 17C14.1989 17 14.3897 16.921 14.5303 16.7803L18.0303 13.2803C18.3232 12.9874 18.3232 12.5126 18.0303 12.2197C17.7374 11.9268 17.2626 11.9268 16.9697 12.2197L14.75 14.4393V7.75Z" fill="white"/>\n            <path d="M8.75 18.5C8.33579 18.5 8 18.8358 8 19.25C8 19.6642 8.33579 20 8.75 20H19.25C19.6642 20 20 19.6642 20 19.25C20 18.8358 19.6642 18.5 19.25 18.5H8.75Z" fill="white"/>\n          </g>\n        </g>\n      </g>\n\n      <defs>\n        <clipPath id="clip0_104232_603">\n          <rect width="56" height="56" fill="white"/>\n        </clipPath>\n\n        <filter id="filter0_dd_784_17168" x="-2" y="-2" width="32" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n          <feOffset/>\n          <feGaussianBlur stdDeviation="1"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.03 0"/>\n          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_784_17168"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n          <feOffset dy="2"/>\n          <feGaussianBlur stdDeviation="1"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.06 0"/>\n          <feBlend mode="normal" in2="effect1_dropShadow_784_17168" result="effect2_dropShadow_784_17168"/>\n          <feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_784_17168" result="shape"/>\n        </filter>\n      </defs>\n    </svg>\n    `}function V(e=""){return`\n    <svg class="${e}" width="40" height="40" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g clip-path="url(#clip0_104232_603)">\n        <path d="M0 20.4736C0 3.61359 3.61359 0 20.4736 0H35.5264C52.3864 0 56 3.61359 56 20.4736V35.5264C56 52.3864 52.3864 56 35.5264 56H20.4736C3.61359 56 0 52.3864 0 35.5264V20.4736Z" fill="#0077FF"></path>\n        <path d="M30.0906 56H35.4294C51.9723 56 55.8225 52.5538 55.9939 36.6902C55.998 36.3094 56 35.9216 56 35.5264V20.4736C56 20.0474 55.9977 19.6298 55.9929 19.2204C55.808 3.43322 51.9411 0 35.4294 0H30.0906C13.1507 0 9.52 3.61359 9.52 20.4736V35.5264C9.52 52.3864 13.1507 56 30.0906 56Z" fill="#FF2B42"></path>\n        <path d="M39.5151 23.1552C42.3461 24.7897 43.7616 25.607 44.2367 26.6739C44.651 27.6046 44.651 28.6673 44.2367 29.598C43.7616 30.6649 42.3461 31.4822 39.5151 33.1166L31.7573 37.5956C28.9263 39.2301 27.5108 40.0473 26.3493 39.9252C25.3361 39.8188 24.4158 39.2874 23.817 38.4632C23.1305 37.5183 23.1305 35.8839 23.1305 32.6149L23.1305 23.657C23.1305 20.388 23.1305 18.7535 23.817 17.8086C24.4158 16.9845 25.3361 16.4531 26.3493 16.3466C27.5108 16.2245 28.9263 17.0418 31.7573 18.6763L39.5151 23.1552Z" fill="white"></path>\n      </g>\n      <defs>\n        <clipPath id="clip0_104232_603">\n          <rect width="56" height="56" fill="white"></rect>\n        </clipPath>\n      </defs>\n    </svg>\n    `}},795168:(e,t,i)=>{i.d(t,{Tooltip:()=>a});var n=i(898848),s=i(754866);const o=10;class a{show({el:e,text:t,toDown:i=!1,offsetXpercent:a=.5,offsetY:r=9,offsetX:l=0}){if(!(t=(0,n.isFunction)(t)?t():t))return;(0,s.show)(this.root),(0,s.val)(this._text,t);const d=this.container.getBoundingClientRect(),h=e.getBoundingClientRect(),c=this.root.getBoundingClientRect();let p,u=h.left-d.left+Math.round(h.width*a)+l-Math.round(c.width/2),v=(i?h.bottom:h.top)-d.top-(i?0:c.height)+r*(i?1:-1);u<o?(p=u-o-5,u=o):u+c.width>d.width-o&&(p=u+c.width-(d.width-o)-5,u=d.width-c.width-o),(0,s.setStyle)(this.root,{left:u+"px",top:v+"px"}),(0,s.setStyle)(this._arrow,{marginLeft:p?p+"px":null}),(0,s.toggleClass)(this._arrow,"_arrow_up",i),this.undelay(this._hideDelayedTimeout),this.undelay(this._hideTimeout),this._hideTimeout=this.delay(this.hide,3e3),this._shown=!0}hide(){this._shown&&(this._shown=!1,(0,s.hide)(this.root),this.lastShown=Date.now())}hideWithDelay(e=0){this._shown&&(this._hideDelayedTimeout=this.delay(this.hide,e))}isVisible(){return this._shown}delay(e,t,...i){const n=setTimeout((()=>{e.apply(this,i)}),t);return this._componentTimeouts.push(n),n}undelay(e){if(!e)return;clearTimeout(e);const t=this._componentTimeouts.indexOf(e);t>=0&&this._componentTimeouts.splice(t,1)}constructor(e){this.container=e,this._componentTimeouts=[],this.root=(0,s.se)('\n<div class="videoplayer_tooltip">\n  <div class="_text"></div>\n  <div class="_arrow"></div>\n</div>\n    '),this._styles=document.createElement("style"),this._styles.innerText="\n  .videoplayer_tooltip {\n    --tooltip-arrow-size: 5px;\n    display: none;\n    position: absolute;\n    z-index: 100;\n    background: var(--black_alpha88);\n    border-radius: 4px;\n    padding: 4.5px 9px;\n    pointer-events: none;\n    font-size: 12.5px;\n    line-height: 15px;\n  }\n\n  .videoplayer_ui._fullscreen .videoplayer_tooltip {\n    font-size: 16px;\n    line-height: 22px;\n  }\n\n  .videoplayer_tooltip ._text {\n    color: var(--white);\n    white-space: nowrap;\n  }\n\n  .videoplayer_tooltip ._arrow {\n    position: absolute;\n    left: 50%;\n    top: 100%;\n    border-top: var(--tooltip-arrow-size) solid var(--black_alpha88);\n    border-left: var(--tooltip-arrow-size) solid transparent;\n    border-right: var(--tooltip-arrow-size) solid transparent;\n    margin-left: calc(-1 * var(--tooltip-arrow-size));\n  }\n\n  .videoplayer_tooltip ._arrow_up {\n    top: calc(-1 * var(--tooltip-arrow-size));\n    border-top: 0;\n    border-bottom: var(--tooltip-arrow-size) solid var(--black_alpha88);\n  }\n",this._text=(0,s.domByClass)(this.root,"_text"),this._arrow=(0,s.domByClass)(this.root,"_arrow"),this._shown=!1,this.el=document.createDocumentFragment(),this.el.append(this._styles),this.el.append(this.root)}}},618144:(e,t,i)=>{i.d(t,{fetchVideoLiveStatus:()=>o});var n=i(957994),s=i(538522);const o=(e,t,i)=>(0,n.api)("video.getLiveStatus",{video_ids:(0,s.joinRawId)({ownerId:e,itemId:t,externalId:i})})},477808:(e,t,i)=>{i.d(t,{PlayerLive:()=>d});var n=i(957994),s=i(317929),o=i(618144),a=i(1100),r=i(897976),l=i(859738);class d{init({status:e,startTime:t,ownerId:i,videoId:n,accessKey:s,refDomain:o,callbacks:a}){this.ownerId=parseInt(i,10),this.videoId=parseInt(n,10),this.accessKey=s,this.refDomain=o,this.startTime=t,this.callbacks=a,this.isUpcoming(e)||this.isWaiting(e)?this.checkStarted():this.isStarted(e)&&(this.checkFinished(),this.startLiveHeartbeat())}destroy(){window.clearTimeout(this.timeoutIdStart),window.clearTimeout(this.timeoutIdFinish),this.stopLiveHeartbeat()}isUpcoming(e){return"upcoming"===e}isWaiting(e){return"waiting"===e}isStarted(e){return"started"===e}isFinished(e){return"finished"===e}isPostLive(e){return"postlive"===e}async asyncWrapper(e,...t){let i;try{i=await e(...t)}catch(e){(0,l.trackOneStatError)(e)}return i}async checkStarted(){const e=await this.asyncWrapper(o.fetchVideoLiveStatus,this.ownerId,this.videoId,this.accessKey),t=e?.[0]?.live_status;if(this.isStarted(t)){const e=await(0,a.fetchVideo)(this.ownerId,this.videoId,this.accessKey),t=(0,r.constructVideoData)(e.items[0]||{});if(t.sources&&Object.keys(t.sources).length>0)return this.callbacks?.onLiveStart?.(t),this.checkFinished(),void this.startLiveHeartbeat()}else this.isWaiting(t)&&this.callbacks?.onLiveWaitingRecover?.();const i=this.startTime?15e3:3e3;this.timeoutIdStart=window.setTimeout((()=>this.checkStarted()),i)}async checkFinished(){const e=await this.asyncWrapper(o.fetchVideoLiveStatus,this.ownerId,this.videoId,this.accessKey),t=e?.[0]?.live_status;if(this.isWaiting(t))return this.callbacks?.onLiveWaitingRecover?.(),this.stopLiveHeartbeat(),void this.checkStarted();if(this.isFinished(t)||this.isPostLive(t)){this.stopLiveHeartbeat();const e=await(0,a.fetchVideo)(this.ownerId,this.videoId,this.accessKey),t=(0,r.constructVideoData)(e.items[0]||{});if(t.sources&&Object.keys(t.sources).length>0&&(t.sources[s.VideoFormat.DASH_ONDEMAND]||t.sources[s.VideoFormat.HLS_ONDEMAND]))return void this.callbacks?.onLiveEnd?.(t);this.callbacks?.onLiveWaitingRecord?.()}this.timeoutIdFinish=window.setTimeout((()=>this.checkFinished()),6e3)}async startLiveHeartbeat(){await this.asyncWrapper(n.api,"video.liveHeartbeat",{owner_id:this.ownerId,video_id:this.videoId,access_key:this.accessKey,ref_domain:this.refDomain});this.timeoutIdLiveHeartBeat=window.setTimeout((()=>this.startLiveHeartbeat()),5e3)}async stopLiveHeartbeat(){this.isSentLiveStopHeartBeat||(window.clearTimeout(this.timeoutIdLiveHeartBeat),this.isSentLiveStopHeartBeat=!0,await this.asyncWrapper(n.api,"video.liveStopHeartbeat",{owner_id:this.ownerId,video_id:this.videoId}))}}},870257:(e,t,i)=>{i.r(t),i.d(t,{renderControlPreviewCard:()=>l});var n=i(474848),s=i(649360),o=i(205338),a=i(369370),r=i(856289);const l=(e,t)=>{const i=(0,o.createRoot)(e),l={...(0,a.mapVideoFullToVideoCardItem)(t.video),thumbSrc:(0,r.getThumbSrcFromImages)(t.video.thumb),owner:t.video.owner};"blurred"===l.restriction?.mode&&(l.restriction.title=void 0);const d={...t,video:l};i.render((0,n.jsx)(s.MiniVideoCard,{...d}))}},584602:(e,t,i)=>{i.d(t,{PlayerV3:()=>M});var n=i(317929),s=i(897976),o=i(916497),a=i(636576),r=i(251703),l=i(48921),d=i(34692),h=i(712714),c=i(663939),p=i(461388),u=i(825127),v=i(540462),_=i(564324),g=i(970466),y=i(773439),m=i(694990),f=i(890162),w=i(977780),x=i(604958),b=i(403788),C=i(98354),k=i(477808),V=i(841315),E=i(102088),A=i(826981),L=i(561157),S=i(837759),I=i(856289),P=i(870257);const T=`position.${window.vk.id}`,B="vk-video-player";window.customElements.get(B)||(0,n.registerPlayerWebComponent)();class M extends L.PlayerV3CompatibilityObject{get langVars(){return this.i18n}get videoLiked(){return this.stateCache.videoLiked}get preferredVolume(){const e=x.default.getPref("volume");return"number"==typeof e?0===e?1:Math.min(1,Math.max(0,e)):1}set preferredVolume(e){x.default.savePref("volume",e)}get preferMute(){return x.default.getPref("muted")}set preferMute(e){x.default.savePref("muted",e)}get forceMuted(){return this.getVar("need_mute")}get el(){return this.rootEl}mount(e){e.innerHTML="",e.appendChild(this.el)}setVars(e){this.vars=e,e.interactive_info&&(this.projectVars=e.interactive_info.project)}getVar(e){return this.vars?this.vars[e]:null}trigger(e,...t){e&&this.eventBus.emit(e,...t)}on(e,t){return this.eventBus.on(e,t)}off(e,t){return this.eventBus.off(e,t)}changeState(e,t=!1){if(this.isInited()||t||this.interactive&&(!this.interactive||e===c.ERROR)){if(e===this.state){if(e!=c.ERROR)return}else this.prevState=this.state,this.state=e,e!=c.ERROR&&(this.errorData=null);this.eventBus.emit(d.STATE_CHANGE,e,this.prevState)}}getState(){return this.state}isInited(){return this.getState()!==c.EMPTY}togglePlay(e){void 0===e&&(e=this.getState()!==c.PLAYING),e?this.play():this.pause()}likeVideo(e){this.externalCall("onLike",e)}shareVideo(e){this.isFullscreen()&&this.toggleFullscreen(),this.externalCall("onShare",e)}toggleFullscreen(){_.screenfull&&(this.isFullscreen()?_.screenfull.exit(this.container):_.screenfull.request(this.container))}isFullscreen(){return _.screenfull&&_.screenfull.isFullscreen}addVideo(e){this.onAdded(),this.videoAdded?this.interactive?this.externalCall("onAdd",this.getVideoId(this.projectVars),this.projectVars.add_hash,e):this.externalCall("onAdd",this.getVideoId(),this.vars.add_hash,e):this.externalCall("onRemove",e)}onAdded(){this.videoAdded=!this.videoAdded,(0,v.partConfigEnabled)("video_modal_refactoring_of_info")&&window.dispatchEvent(new CustomEvent(w.VideoPlayerSyncEvents.TOGGLE_ADDING_TO_MY_VIDEOS,{detail:{isAdded:!this.videoAdded}})),this.eventBus.emit(d.VIDEO_ADD,this.videoAdded)}subscribeToAuthor(e){const t=!this.isSubscribed;this.externalCall("onSubscribe",t,e)}getVideoId(e=this.vars){return e?`${e.oid}_${e.vid}`:null}nextVideo(e,t,i,n,s){if(this.isVideoPage){const t=window.VideoPageHistory?.getNextVideo(),i=window.VideoPageHistory?.shiftNextVideo(n);if(!i&&!e)return;if(t){const{module:e,context:i}=window.VideoShowcase?.getVideoPageOpts()||{};window.VideoShowcase?.setVideoPageOpts({module:e,trackCode:t.track_code,context:i})}return window.nav.setLoc(e??i),void(s&&s())}this.mountEndScreen(),this.showVideoActions(),this.externalCall("onVideoNext",e,t,i)}play(){const e=this.getState();if(this.interactive?.isGraphOpen||this.interactive?.isExpect)return;if(e===c.PLAYING||e===c.ERROR||!this.isInited()||this.hasDisclaimer)return;this.changeState(c.PLAYING);const t=this.getLivePhase();t!==p.UPCOMING&&t!==p.WAITING&&(this.player.play(),this.externalCall("onVideoStreamPlaying",this.vars.oid,this.vars.vid))}getLivePhase(){return this.livePhase}isActiveLive(){const e=this.getLivePhase();return e===p.WAITING||e===p.STARTED}getInitialTime(){if(this.isActiveLive()||this.interactive)return 0;if(this.vars.t){const e=A.fromString(this.vars.t);if(!this.vars.duration||e<this.vars.duration)return e}else{const e=x.default.getPref(`${T}.${this.getVideoId()}`);if(e&&this.vars.duration-e.pos>30)return e.pos}return 0}isUpcomingLive(){return this.getLivePhase()===p.UPCOMING}pause(){if(this.getState()!==c.PLAYING)return;this.changeState(c.PAUSED);const e=this.getLivePhase();e!==p.UPCOMING&&e!==p.WAITING&&this.player.pause()}getSize(e=!1){if(!this.size||e){let e=this.player.getBoundingClientRect();this.size=[e.width,e.height]}return this.size}onSuggestionsShown(e=!1){this.externalCall("onSuggestionsShown",this.getVideoId(),e)}onTouchedByUser(){this.isTouchedByUser()||(this.touchedByUser=!0,this.isFromAutoplay()&&(this.eventBus.emit(d.UI_TOUCHED_BY_USER),this.isAutoplaySound()||this.timeouts.setTimeout((()=>{this.toggleMute(!1)}),0)))}isFromAutoplay(){return this.isInited()&&!!this.vars.from_autoplay}isTouchedByUser(){return!!this.touchedByUser}isAutoplay(){return this.isFromAutoplay()&&!this.isTouchedByUser()}isAutoplaySound(){return!!this.vars.autoplay_sound}toggleMute(e=!this.isMuted(),t=!0){if(this.isForceMuted())return!1;const i=e?0:this.preferredVolume;this.player.setMuted(e),this.stateCache.isMuted=e,e||(this.player.setVolume(i),0===i&&(this.stateCache.isMuted=!0)),t&&(this.preferMute=e)}isMuted(){return this.stateCache.isMuted}isForceMuted(){return!!this.forceMuted}onSuggestionsReplayClicked(){this.togglePlay(),this.externalCall("onSuggestionsReplayClicked")}externalCall(e,...t){return window.videoCallback&&window.videoCallback([e,...t])}getNextVideos(){return this.isInLayer()||this.isInline()?window.Videoview?window.Videoview.getNextVideosData():[]:window.VideoPageHistory?!window.VideoPageHistory.isActivePlaylist&&window.VideoPageHistory.getRecomVideos().length?window.VideoPageHistory.getRecomVideos().map(S.mapVideoHistoryToLegacyVideo):window.VideoPageHistory.getNextVideos().slice(0,3).map(S.mapVideoHistoryToLegacyVideo):[]}getNextVideo(){return this.getNextVideos()[0]??null}nextTimerEnabled(){return!!window.VideoPlaylist&&window.VideoPlaylist.isAutoplayEnabled()}getNextOtherVideos(){const e=window.Videoview.getMvData();return e&&e.next_other_videos||[]}resize(){this.player.classList.add("no_transition");let e=this.getSize(!0);this.trigger(d._RESIZE,...e),setTimeout((()=>{this.player.classList.remove("no_transition")}))}setVideo(e,t){t&&this.setVars(t),this.video=e;const i=Boolean(e.live_status)&&(0,v.partConfigEnabled)("video_player_mvk_waiting_live");this.initPlayer(e,{preload:!i}),i?(this.playerLive=new k.PlayerLive,this.playerLive.init({status:e.live_status,startTime:e.live_start_time,ownerId:String(e.owner_id),videoId:String(e.id),accessKey:e.access_key,callbacks:{onLiveStart:e=>{this.player.setLiveStart(e),this.mountVideoActions()},onLiveEnd:e=>{this.player.setLiveEnd(e)}}}),this.unmountVideoActions()):this.isAutoplaySound()&&this.play(),this.stateCache.videoLiked=1===e.likes?.user_likes,this.stateCache.videoAdded=1===e.added||!1,this.stateCache.videoBookmarked=e.is_favorite||!1,t&&Object.keys(t).map((e=>{if(e.startsWith("lang_")){const i=e.replace("lang_","");this.i18n[i]=t[e],window.cur.lang[i]=t[e]}})),this.videoActions.setI18n(this.i18n),this.video&&this.videoActions.update(this.gatherVideoActionsState(this.video,this.vars)),this.expandHint.setText((0,E.getLang)("autoplay_expand_hint"))}stop(){this.player.stop()}setMuted(e){this.player.setMuted(e)}setVolume(e){this.player.setVolume(e)}setRepeat(e){this.player.setRepeat(e)}seekTo(e){this.player.seekTime(e)}createPlayerConfig(e={}){return{...e,videos:[],autoplay:this.nextTimerEnabled(),showEndScreen:!1,showAutoplayNext:!0,showThumbTimer:this.isInline(),logoHidden:!0,callbacks:{...e.callbacks||{},onPlay:()=>{this.videoEnded&&(this.unmountEndScreen(),this.mountVideoActions(),this.videoActions.show())},onFullscreenEnter:this.onFullscreenEnter.bind(this),onFullscreenExit:this.onFullscreenExit.bind(this),onTimeupdate:this.onTimeupdate.bind(this),onPlaybackStateChanged:this.onPlaybackStateChanged.bind(this),onEpisodeClicked:this.onEpisodeClicked.bind(this),onEnded:this.onEnded.bind(this),onCopyVideoLink:this.onCopyVideoLink.bind(this),onAudioDisabledHint:this.onAudioDisabledHint.bind(this),onAudioDoesNotExistHint:this.onAudioDisabledHint.bind(this),onNextVideoClick:this.onNextVideoClick.bind(this),onPrevVideoClick:this.onPrevVideoClick.bind(this),onSetAutoplayNextEnabled:this.handleAutoplayChanged.bind(this),uiInfo:{onControlsVisibleChanged:this.onControlsVisibleChanged.bind(this)}}}}showPrevVideoPreview(e){const t=document.createElement("div");t.style.position="absolute",t.style.bottom="50px",t.style.left=`${e.left}px`,t.style.maxHeight="200px";const i={video:(window.VideoPageHistory?.getPrevVideos()||[])[0]};try{this.player.annotationsApi?.add("prev-preview",t)}catch(e){}(0,P.renderControlPreviewCard)(t,i)}hidePrevVideoPreview(){try{this.player.annotationsApi?.remove("prev-preview")}catch(e){}}showNextVideoPreview(e){const t=document.createElement("div");t.style.position="absolute",t.style.bottom="50px",t.style.left=`${e.left}px`,t.style.maxHeight="200px";const i={video:(window.VideoPageHistory?.getNextVideos()||[])[0]};try{this.player.annotationsApi?.add("next-preview",t)}catch(e){}(0,P.renderControlPreviewCard)(t,i)}hideNextVideoPreview(){try{this.player.annotationsApi?.remove("next-preview")}catch(e){}}onFullscreenEnter(){this.stateCache.isFullscreen=!0,this.videoActions.update({isFullscreen:!0})}onFullscreenExit(){this.stateCache.isFullscreen=!1,this.videoActions.update({isFullscreen:!1})}onTimeupdate(e,t){this.stateCache.duration=e,this.stateCache.position=t,this.isActiveLive()||this.savePosition()}savePosition(){const e=this.stateCache.duration;if(0===e)return;let t=this.stateCache.position;const i=`${T}.${this.getVideoId()}`;e-t<Math.max(.01*e,1)?x.default.deletePref(i):x.default.savePref(i,{date:Date.now(),pos:t})}onPlaybackStateChanged(e){e&&(this.stateCache.playbackState=e)}onEpisodeClicked(){this.isInline()?(this.onExpandClick(),this.externalCall("openTimeCodesList",!0)):this.isInLayer()?window.Videoview?.openTimeCodesList():window.dispatchEvent(new CustomEvent(w.VideoEvents.OPEN_EPISODE_LIST))}onEnded(){this.unmountVideoActions(),this.unmountExpandHint(),this.autoplayEnabled&&this.mountEndScreen(),this.videoEnded=!0}onControlsVisibleChanged(e){e?(this.videoActions?.show(),this.showExpandHint()):(this.videoActions?.hide(),this.hideExpandHint())}onCopyVideoLink(){const e=this.getCurrentVideo();return e?(0,V.getVideoCopyLink)(e,this.stateCache.position):""}onAudioDisabledHint(){this.exitFullscreen().then((()=>{this.externalCall("showVideoMutePopup",this.getVar("mute_faq_link"),(0,E.getLang)("video_mute_popup_title"),(0,E.getLang)("video_mute_popup_text"),(0,E.getLang)("video_mute_popup_button_text"))}))}onPrevVideoClick(){if(this.isVideoPage){const e=window.VideoPageHistory?.shiftPrevVideo();return!!e&&(window.nav.setLoc(e),!1)}return!1}onNextVideoClick(){if(this.isVideoPage){const e=window.VideoPageHistory?.shiftNextVideo();return!!e&&(window.nav.setLoc(e),!1)}return this.unmountEndScreen(),this.showVideoActions(),this.externalCall("onVideoNext",null,!1,!1),!1}createVideoActions(){const e=new o.VideoActions,t=this.onGoodsButtonClick.bind(this),i=this.onDonatButtonClick.bind(this),n=this.onLikeButtonClick.bind(this),s=this.onShareButtonClick.bind(this),a=this.onFavButtonClick.bind(this),r=this.onAddButtonClick.bind(this);return e.on(o.VideoActionsEvents.GOODS_BUTTON_CLICKED,t),e.on(o.VideoActionsEvents.DONAT_BUTTON_CLICKED,i),e.on(o.VideoActionsEvents.LIKE_BUTTON_CLICKED,n),e.on(o.VideoActionsEvents.SHARE_BUTTON_CLICKED,s),e.on(o.VideoActionsEvents.BOOKMARK_BUTTON_CLICKED,a),e.on(o.VideoActionsEvents.ADD_BUTTON_CLICKED,r),this.destroyVideoActions=()=>{e.off(o.VideoActionsEvents.GOODS_BUTTON_CLICKED,t),e.off(o.VideoActionsEvents.DONAT_BUTTON_CLICKED,i),e.off(o.VideoActionsEvents.LIKE_BUTTON_CLICKED,n),e.off(o.VideoActionsEvents.SHARE_BUTTON_CLICKED,s),e.off(o.VideoActionsEvents.BOOKMARK_BUTTON_CLICKED,a),e.off(o.VideoActionsEvents.ADD_BUTTON_CLICKED,r)},e}mountEndScreen(){try{this.player.annotationsApi?.add("end-screen",this.endScreen.render())}catch(e){}}unmountEndScreen(){try{this.player.annotationsApi?.remove("end-screen")}catch(e){}}mountVideoActions(){try{this.player.annotationsApi?.add("video-actions",this.videoActions.el)}catch(e){}}unmountVideoActions(){try{this.player.annotationsApi?.remove("video-actions")}catch(e){}}mountExpandHint(){try{this.player.annotationsApi?.add("video-expand-hint",this.expandHint.render())}catch(e){}this.expandHint.el&&(this.expandHint.el.onclick=this.onExpandClick.bind(this))}unmountExpandHint(){this.expandHint.el&&(this.expandHint.el.onclick=null);try{this.player.annotationsApi?.remove("video-expand-hint")}catch(e){}}showVideoActions(){this.videoActions.show()}hideVideoActions(){this.videoActions.hide()}showExpandHint(){this.expandHint.show()}hideExpandHint(){this.expandHint.hide()}initPlayer(e,t={}){const i=window.VideoPageHistory?.getPrevVideos().map(S.mapVideoHistoryToLegacyVideo)||[],n=(0,s.constructConfig)([...i,e]),o=this.getInitialTime(),a=this.isInline(),r={...this.playerConfig,...n,fromTime:o,muted:a,...t,videoIndex:window.VideoPageHistory?.getCurrentPosition()??0,additionalButtons:this.isInline()?[this.buildExpandButton()]:[]};this.player.initPlayer(r,this.tuningConfig),this.updateNextVideos(),window.VideoPlaylist?.events.on("playlistorderchange",this.onPlaylistOrderChangeHandler),this.isInline()?(this.mountExpandHint(),this.mountVideoActions()):this.isInLayer()&&this.mountVideoActions()}onExpandClick(){this.isAutoplay()&&(this.expandFromAutoplay=!0,this.pause());const e=this.interactive?this.projectVars.list_id:this.vars.list_id,t=A.toString(this.stateCache.position),i=this.interactive?this.getVideoId(this.projectVars):this.getVideoId();this.externalCall("onOpenInPopup",i,e,t)}buildExpandButton(){return{id:"expand-button",weight:320,type:n.ControlButtonType.DESKTOP_CONTROL_PANEL_RIGHT,iconUrl:"",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iNzI4IDQ4MCAxOCAxNiI+PHBhdGggZD0iTTcyOSA0ODEuOTk0YzAtMS4xLjg5NS0xLjk5NCAxLjk5NC0xLjk5NGgxMi4wMTJjMS4xIDAgMS45OTQuODk1IDEuOTk0IDEuOTk0djEyLjAxMmMwIDEuMS0uODk1IDEuOTk0LTEuOTk0IDEuOTk0aC0xMi4wMTJjLTEuMSAwLTEuOTk0LS44OTUtMS45OTQtMS45OTR6bTIgNC4wMDRjMC0uNTUuNDU2LS45OTggMS4wMDItLjk5OGg5Ljk5NmExIDEgMCAwIDEgMS4wMDIuOTk4djcuMDA0YzAgLjU1LS40NTYuOTk4LTEuMDAyLjk5OGgtOS45OTZhMSAxIDAgMCAxLTEuMDAyLS45OTh6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",ariaLabel:(0,E.getLang)("autoplay_expand_hint"),tooltipText:(0,E.getLang)("autoplay_expand_hint"),onClick:this.onExpandClick.bind(this)}}handleAutoplayChanged(e){this.autoplayEnabled=e}updateNextVideos(){if(this.isVideoPage){const e=window.VideoPageHistory?.getNextVideos().map(S.mapVideoHistoryToLegacyVideo);return void this.player.updateNextVideos(e)}const e=[],t=window.VideoPlaylist?.getNextVideoData();t&&t.title&&t.thumbUrl&&e.push({sources:{},...t}),this.player.updateNextVideos(e)}updatePrevVideos(){const e=window.VideoPageHistory?.getPrevVideos().map(S.mapVideoHistoryToLegacyVideo);this.player&&e&&this.player.updatePrevVideos(e)}gatherVideoActionsState(e,t){return{isVisible:!0,isFullscreen:this.stateCache.isFullscreen,isGoodsVisible:!!t.enable_goods_recognition&&!this.isInline(),isDonatVisible:!!t.can_donate,isLikeVisible:!!e.can_like,isShareVisible:!!e.can_repost,isFavVisible:!!e.can_add_to_faves,isAddVisible:!!e.can_add,shared:1===e.reposts?.user_reposted,liked:this.stateCache.videoLiked,bookmarked:this.stateCache.videoBookmarked,added:this.stateCache.videoAdded}}isInLayer(){return this.vars.inLayer}isInline(){return this.vars.inline}updateStateCache(e){this.stateCache={...this.stateCache,...e},this.video&&this.videoActions.update(this.gatherVideoActionsState(this.video,this.vars))}async exitFullscreen(){try{await document.exitFullscreen()}catch(e){}}isBookmarked(){return this.stateCache.videoBookmarked}isAdded(){return this.stateCache.videoAdded}onGoodsButtonClick(){this.pause(),this.isFullscreen()&&this.exitFullscreen(),(0,a.statlogsValueEvent)("video_goods_recognition","","start"),(0,r.tmrTrackCustomGoal)("click_check_items"),window.dispatchEvent(new CustomEvent(l.CustomEventName,{detail:{eventType:"START",data:{frame_time:Math.floor(1e3*this.stateCache.position),owner_id:this.vars.oid,video_id:this.vars.vid}}}))}onDonatButtonClick(){this.isFullscreen()&&this.exitFullscreen(),this.externalCall("onDonate",this.getActionsType())}onLikeButtonClick(){this.updateStateCache({videoLiked:!this.stateCache.videoLiked}),this.externalCall("onLike",this.getActionsType())}onShareButtonClick(){this.isFullscreen()&&this.exitFullscreen(),this.externalCall("onShare",this.getActionsType())}onFavButtonClick(){this.isBookmarked()?(this.updateStateCache({videoBookmarked:!1}),this.externalCall("onRemoveBookmark",this.getActionsType())):(this.updateStateCache({videoBookmarked:!0}),this.externalCall("onAddBookmark",this.getActionsType())),(0,v.partConfigEnabled)("video_modal_refactoring_of_info")&&g.videoModalFaveService.toggleFaveEvent({ownerId:this.vars.oid,id:this.vars.vid}),this.eventBus.emit(d.VIDEO_BOOKMARK,this.stateCache.videoBookmarked)}onAddButtonClick(){this.isAdded()?(this.updateStateCache({videoAdded:!1}),this.externalCall("onRemove",this.getActionsType())):(this.updateStateCache({videoAdded:!0}),this.externalCall("onAdd",this.getVideoId(),this.vars.add_hash,this.getActionsType())),(0,v.partConfigEnabled)("video_modal_refactoring_of_info")&&g.videoModalAlbumsService.playerAddEvent({isAdded:this.stateCache.videoAdded}),this.eventBus.emit(d.VIDEO_ADD,this.stateCache.videoAdded)}getActionsType(){return this.stateCache.playbackState===y.PlaybackState.STOPPED?h.END_SMALL:h.INLINE}getTimeCodes(){return this.interactive?.movikaInteractive?this.getInteractiveTimeCodes(this.interactive):this.getCurrentVideo()?.episodes||[]}getCurrentTimeCode(e){const t=this.getTimeCodes();let i="",n=0;if(t)for(let s=0;s<t.length&&(t?.[s]?.time||0)<=e;s++)i=t?.[s]?.text||"",n=s;return{text:i,index:n}}getCurrentVideo(){return this.video}getThumbFromTime(e,t=150){const i=this.getCurrentVideo();if(i&&i.timeline_thumbs){const n=e/this.stateCache.duration,s={countPerImage:i.timeline_thumbs.count_per_image||0,countPerRow:i.timeline_thumbs.count_per_row||0,countTotal:i.timeline_thumbs.count_total||0,frameHeight:i.timeline_thumbs.frame_height||0,frameWidth:i.timeline_thumbs.frame_width||0,frequency:i.timeline_thumbs.frequency||0,isUV:i.timeline_thumbs.is_uv||!1,links:i.timeline_thumbs.links||[]};return(0,C.getEpisodeThumb)(s,n,this.stateCache.duration,t)}return{}}onPlaylistOrderChange(){this.updateNextVideos()}onViewport(e){this.trigger(d.UI_IN_VIEWPORT,e)}deinitVideo(){this.destroy()}setVideoPagePlaylist(e){if(this.isVideoPage){if(!e)return window.VideoPageHistory?.setIsActivePlaylist(!1),void window.VideoPageHistory?.setPlaylist({videos:[],currentPosition:-1,isReversed:!1});window.VideoPageHistory?.setIsActivePlaylist(!0),window.VideoPageHistory?.setPlaylist(e),this.updatePrevVideos(),this.updateNextVideos()}}onExternalAdded(){this.trigger(d.VIDEO_ADD,this.videoAdded)}getProjectId(){return this.getVideoId()}destroy(){this.pause(),this.player.remove(),this.el.remove(),this.destroyVideoActions?.(),this.unmountEndScreen(),this.unmountExpandHint(),window.VideoPlaylist?.events.off("playlistorderchange",this.onPlaylistOrderChangeHandler),super.destroy()}constructor(e,t={},i={}){super(e),this.video=null,this.videoEnded=!1,this.isVideoPage=(0,I.isVideoPageOpen)(),this.stateCache={isMuted:!1,isFullscreen:!1,playbackState:y.PlaybackState.READY,duration:0,position:0,videoBookmarked:!1,videoAdded:!1,videoLiked:!1},this.timeouts=new b.TimeoutStore,this.state="",this.prevState="",this.livePhase=0,this.container=null,this.nextTimerStopped=!1,this.projectVars={},this.size=[0,0],this.videoAdded=!1,this.isSubscribed=!1,this.touchedByUser=!1,this.hasDisclaimer=!1,this.playerLive=null,this.autoplayEnabled=JSON.parse(localStorage.getItem("vk_player_preferred_autoplay_next")??"false"),this.destroyVideoActions=()=>{},M.instanceCount=(M.instanceCount+1)%Number.MAX_SAFE_INTEGER,this.$uid=M.instanceCount,this.playerConfig=this.createPlayerConfig(t),this.tuningConfig=i,this.eventBus=new u.default,this.rootEl=document.createElement("div"),this.rootEl.setAttribute("id","video_player"),this.rootEl.setAttribute("preventhide","1"),this.rootEl.classList.add("uv_player_wrapper"),this.i18n={},this.player=document.createElement(B),this.rootEl.appendChild(this.player),this.videoActions=this.createVideoActions(),this.endScreen=new m.VideoEndScreen(this),this.expandHint=new f.VideoExpandHint((0,E.getLang)("autoplay_expand_hint")),this.hasDisclaimer=!!this.vars.restriction,this.liveStartTime=this.vars.live_start?1e3*this.getVar("live_start"):0,this.onPlaylistOrderChangeHandler=this.onPlaylistOrderChange.bind(this)}}M.instanceCount=0},561157:(e,t,i)=>{i.d(t,{PlayerV3CompatibilityObject:()=>s});var n=i(403788);class s{canExpand(){return!0}destroy(){this._timeouts.clearAll()}onExpanded(){}onLiked(){}getInteractiveTimeCodes(e){const t=e.interactiveRanges;if(t.length<1)return[];t.sort(((e,t)=>e.range[0]-t.range[0]));let i=[t[0]];for(let e=1;e<t.length;e++){let n=i[i.length-1];t[e].range[0]<=n.range[1]?(n.range[1]=Math.max(n.range[1],t[e].range[1]),n.subjects=[...new Set([...n.subjects,...t[e].subjects])]):i.push(t[e])}return i.reduce(((e,{range:[t,i],subjects:n},s)=>(0===s&&t>0&&e.push({time:0,isInteractive:!1,subjects:[],midTime:t/1e3}),isFinite(t)&&e.push({time:t/1e3,isInteractive:!0,subjects:n,midTime:i/1e3}),isFinite(i)&&e.push({time:i/1e3,isInteractive:!1,subjects:[],midTime:i/1e3}),e)),[])}constructor(e){this._timeouts=new n.TimeoutStore,this.expandFromAutoplay=!1,this.vars=e}}},128378:(e,t,i)=>{i.d(t,{VideoPlayerService:()=>r});var n=i(584602),s=i(1100),o=i(957994),a=i(768035);const r=new class{async createPlayer(e,t={}){return[this.playerClass,this.tuningConfig]=await Promise.all([this.playerClass?this.promisify(this.playerClass):this.loadPlayerClass(),this.tuningConfig?this.promisify(this.tuningConfig):this.loadPlayerConfig()]),new n.PlayerV3(e,t,this.tuningConfig)}async promisify(e){return e}killPlayer(e){e.destroy(),window.mvcur&&window.mvcur.player===e&&(window.mvcur.player=void 0)}killCurrentPlayer(){const e=this.getActivePlayer();e&&this.killPlayer(e)}async playVideo(e,t,i,n={}){this.activePlayer&&this.activePlayer.destroy();const s=await this.loadVideo(e);if(!s)throw new Error("Video not found");const o=await this.createPlayer(i,n);return o.mount(t),this.setActivePlayer(o,window.mvLayer?.contains(t)),o.setVideo(s,i),o}getActivePlayer(){return this.activePlayer}setActivePlayer(e,t=!1){this.activePlayer=e,t?(i._dG("mvcur",window.mvcur||{}),window.mvcur.player=e):(i._dG("cur",window.cur||{}),window.cur.videoInlinePlayer=e)}async loadPlayerConfig(){const e=await(0,o.api)("video.getPlayerConfig",{module:"web"});if(Object.hasOwn(e,"error")||!e.config)throw new Error("Error while fetching config");return e.config||{}}async loadVideo(e){const{id:t,ownerId:i,accessKey:n}=(0,a.parseRawId)(e);return(await(0,s.fetchVideo)(i,t,n)).items[0]}async loadPlayerClass(){const{PlayerV3:e}=await Promise.resolve().then(i.bind(i,584602));return e}constructor(){this.playerClass=void 0,this.activePlayer=void 0,this.tuningConfig=void 0}};i._dG("VideoPlayerService",r)},916497:(e,t,i)=>{i.d(t,{VideoActions:()=>m,VideoActionsEvents:()=>y});var n=i(994781),s=i(938307),o=i(573046),a=i(230337),r=i(876838),l=i(863404),d=i(453829),h=i(101594),c=i(38050),p=i(784394),u=i(977202),v=i(825127),_=i(795168),g=i(540462);var y=function(e){return e.GOODS_BUTTON_CLICKED="GoodsButtonClicked",e.DONAT_BUTTON_CLICKED="DonatButtonClicked",e.LIKE_BUTTON_CLICKED="LikeButtonClicked",e.SHARE_BUTTON_CLICKED="ShareButtonClicked",e.BOOKMARK_BUTTON_CLICKED="BookmarkButtonClicked",e.ADD_BUTTON_CLICKED="AddButtonClicked",e}({});class m{get el(){return this.root}update(e){const t=Object.assign({...this.state},e);this.applyElementVisibility(this.root,t.isVisible),this.applyElementClass(this.root,t.isFullscreen,"fullscreen"),this.goodsButton&&this.applyElementVisibility(this.goodsButton,t.isGoodsVisible),this.donatButton&&this.applyElementVisibility(this.donatButton,t.isDonatVisible),this.likeButton&&this.applyElementVisibility(this.likeButton,t.isLikeVisible),this.shareButton&&this.applyElementVisibility(this.shareButton,t.isShareVisible),this.favButton&&this.applyElementVisibility(this.favButton,t.isFavVisible),this.addButton&&this.applyElementVisibility(this.addButton,t.isAddVisible),this.goodsButton&&this.setButtonText(this.goodsButton,this.localize("goods_in_frame")),this.likeButton&&this.setButtonIcon(this.likeButton,t.liked?(0,n.getIcon24Like)().icon:(0,s.getIcon24LikeOutline)().icon),this.favButton&&this.setButtonIcon(this.favButton,this.getBookmarkIcon(t.bookmarked)),this.addButton&&this.setButtonIcon(this.addButton,t.added?(0,o.getIcon24DoneOutline)().icon:(0,a.getIcon24AddOutline)().icon),t.liked?this.likeButton&&!this.likeButton.classList.contains("m-red")&&this.likeButton.classList.add("m-red"):this.likeButton&&this.likeButton.classList.remove("m-red"),(0,g.partConfigEnabled)("video_bookmarks_renaming_to_watch_later"),this.state=t}show(){this.showElement(this.root)}hide(){this.hideElement(this.root)}on(e,t){if(void 0!==e)return this.eventBus.on(e,t);this.debugLog(["trying to set listener to undefined event"])}off(e,t){if(void 0!==e)return this.eventBus.off(e,t);this.debugLog(["trying to unset listener from undefined event"])}setI18n(e){this.i18n=e}applyElementClass(e,t,i){t?e.classList.add(i):e.classList.remove(i)}applyElementVisibility(e,t){t?this.showElement(e):this.hideElement(e)}hideElement(e){e.classList.add("m-hidden")}showElement(e){e.classList.remove("m-hidden")}render(){this.root=this.createRootElement(),this.tooltip=new _.Tooltip(this.root),this.styleSheet=this.createStyles(),this.goodsButton=this.createButton({classes:["m-goods"],icon:(0,r.getIcon24ScanViewfinderOutline)().icon,innerText:this.localize("goods_in_frame"),handler:()=>{this.eventBus.emit("GoodsButtonClicked")}}),this.donatButton=this.createButton({icon:(0,l.getIcon24GiftOutline)().icon,tooltipText:()=>this.localize("donate"),handler:()=>{this.eventBus.emit("DonatButtonClicked")}}),this.likeButton=this.createButton({icon:(0,s.getIcon24LikeOutline)().icon,tooltipText:()=>this.localize("like"),classes:this.state.liked?["m-red"]:[],handler:()=>{this.eventBus.emit("LikeButtonClicked")}}),this.shareButton=this.createButton({icon:(0,d.getIcon24ShareOutline)().icon,tooltipText:()=>this.localize("share"),handler:()=>{this.eventBus.emit("ShareButtonClicked")}}),this.favButton=this.createButton({icon:this.getBookmarkIcon(this.state.bookmarked),tooltipText:()=>this.localize(this.state.bookmarked?"video_remove_from_watch_later":"video_catalog_showcase_section_my_watch_later_title"),handler:()=>{this.eventBus.emit("BookmarkButtonClicked")}}),this.addButton=this.createButton({icon:(0,a.getIcon24AddOutline)().icon,tooltipText:()=>this.localize(this.state.added?"added":"add"),handler:()=>{this.eventBus.emit("AddButtonClicked")}}),this.root.append(this.styleSheet),this.root.append(this.goodsButton),this.root.append(this.donatButton),this.root.append(this.likeButton),this.root.append(this.shareButton),this.root.append(this.favButton),this.root.append(this.addButton),this.root.appendChild(this.tooltip.el)}localize(e){const t=this.i18n[e];return Array.isArray(t)?t[0]:t}setButtonIcon(e,t){e.firstChild?e.replaceChild(this.compileSVGString(t),e.firstChild):e.appendChild(this.compileSVGString(t))}setButtonText(e,t){const i=e.querySelector(".videoplayer_share_action_text");i&&(i.innerHTML=t)}createRootElement(){const e=document.createElement("div");return e.classList.add("videoplayer_share_actions"),e}createStyles(){const e=document.createElement("style");return e.innerText="\n  .videoplayer_share_actions {\n    top: 0;\n    right: 0;\n    padding: 10px;\n    transition-property: transform, visibility, opacity;\n    transition-duration: 0.25s;\n    transition-timing-function: cubic-bezier(0.455, 0.03, 0.515, 0.955);\n    will-change: transform, opacity;\n  }\n\n  .videoplayer_ui._fullscreen .videoplayer_share_actions {\n    padding: 15px;\n  }\n\n  .videoplayer_ui[data-state='ended'] .videoplayer_share_actions {\n    padding: 15px;\n  }\n\n  .videoplayer_ui._fullscreen[data-state='ended'] .videoplayer_share_actions {\n    padding: 30px 40px 0 0;\n  }\n\n  .videoplayer_share_actions.m-hidden {\n    visibility: hidden;\n    transform: translateY(-50px);\n    opacity: 0;\n  }\n\n  .videoplayer_share_action {\n    position: relative;\n    overflow: hidden;\n    float: left;\n    width: 40px;\n    height: 40px;\n    margin-left: 8px;\n    border-radius: 8px;\n    background-color: var(--black_alpha72);\n    background-size: 24px;\n    line-height: 40px;\n    color: var(--white_alpha72);\n    font-size: 13px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .videoplayer_share_action:hover {\n    background-color: var(--black_alpha56);\n    color: var(--white);\n  }\n  \n  .videoplayer_share_action.m-goods {\n    width: auto;\n    padding: 0 16px 0 12px;\n  }\n  \n  .videoplayer_share_action.m-red {\n    color: var(--red_nice);\n  }\n  \n  .videoplayer_share_action_icon {\n    display: flex;\n    opacity: 0.8;\n  }\n  \n  .videoplayer_share_action.m-hidden {\n    display: none;\n  }\n  \n  .videoplayer_share_action:hover .videoplayer_share_action_icon {\n    opacity: 1;\n  }\n   \n  .videoplayer_share_actions ._bookmarked {\n    color: var(--white);\n  }\n  \n  .videoplayer_share_action_text {\n    margin-left: 8px;\n  }\n",e}createButton(e){const t=document.createElement("div");if(e.classes&&e.classes.length&&t.classList.add(...e.classes),e.icon&&(t.classList.add("videoplayer_share_action"),t.appendChild(this.createIcon(e.icon))),e.activeIcon&&(t.classList.add("videoplayer_share_action"),t.appendChild(this.createIcon(e.activeIcon))),e.innerText){const i=document.createElement("div");i.classList.add("videoplayer_share_action_text"),i.innerHTML=e.innerText,t.appendChild(i)}return e.tooltipText&&this.attachTooltip({el:t,text:e.tooltipText,toDown:!0,hideDelay:200}),e.handler&&t.addEventListener("click",e.handler),t}getBookmarkIcon(e=!1){return(0,g.partConfigEnabled)("video_bookmarks_renaming_to_watch_later")?e?(0,h.getIcon24Clock)().icon:(0,c.getIcon24ClockOutline)().icon:e?(0,p.getIcon24Favorite)().icon:(0,u.getIcon24FavoriteOutline)().icon}attachTooltip(e){let t=0;e.el.addEventListener("mouseenter",(()=>{this.tooltip?.isVisible()||Date.now()-(this.tooltip?.lastShown||0)<100?this.tooltip?.show(e):t=window.setTimeout((()=>this.tooltip?.show(e)),1e3)})),e.el.addEventListener("mouseleave",(()=>{clearTimeout(t),e.hideDelay?this.tooltip?.hideWithDelay(e.hideDelay):this.tooltip?.hide()})),e.el.addEventListener("click",(()=>{clearTimeout(t),e.hideOnClick?this.tooltip?.hide():setTimeout((()=>this.tooltip?.show(e)),0)}))}createIcon(e){const t=document.createElement("div");return t.classList.add("videoplayer_share_action_icon"),t.appendChild(this.compileSVGString(e)),t}compileSVGString(e){const t=document.createElement("div");t.innerHTML=e;const i=t.firstChild;return t.remove(),i}debugLog(e){if(window?.videoPlayerConfig.debugLogs)try{window.console.warn(...["%c videoplayer ","background:#9ddcf7;"].concat(e))}catch(e){}}constructor(e={}){this.styleSheet=null,this.goodsButton=null,this.donatButton=null,this.likeButton=null,this.shareButton=null,this.favButton=null,this.addButton=null,this.tooltip=null,this.state={isVisible:!1,isFullscreen:!1,isGoodsVisible:!1,isDonatVisible:!1,isLikeVisible:!1,isShareVisible:!1,isFavVisible:!1,isAddVisible:!1,liked:!1,shared:!1,bookmarked:!1,added:!1},this.eventBus=new v.default,this.i18n={},Object.assign(this.state,e),this.root=this.createRootElement(),this.render()}}},694990:(e,t,i)=>{i.d(t,{VideoEndScreen:()=>r});var n=i(91997),s=i(301740),o=i(592250);const a="mv_end_screen_wrapper";class r{show(){const e=document.getElementById(a);e&&(e.style.display="block",e.appendChild(this.render()))}hide(){const e=document.getElementById(a);e&&(e.firstChild?.remove(),e.style.display="none")}render(){let e=[],t=!1;e=this.player.getNextVideos(),e.length&&(t=this.player.nextTimerEnabled()),window.VideoPlaylist.getCurList()||e.length||(e=this.player.getNextOtherVideos(),e.length&&(t=this.player.nextTimerEnabled())),this.adsSnippetsVideo?this.endScreen=new n.EndScreenAdsSnippetVideo(this.player):e.length?this.endScreen=new s.EndScreenNext(this.player,e,t):this.endScreen=new o.EndScreen(this.player);const i=document.createElement("style");i.innerText="\n.videoplayer_end_screen {\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  visibility: visible;\n  background: var(--black_alpha72);\n}\n\n.videoplayer_end_info {\n  position: absolute;\n  left: 15px;\n  top: 15px;\n  right: 15px;\n}\n\n.videoplayer_end_info._right_offset {\n  right: 160px;\n}\n\n.videoplayer_ui._minimized .videoplayer_end_info {\n  display: none;\n}\n\n.videoplayer_ui._fullscreen .videoplayer_end_info {\n  display: block;\n  left: 40px;\n  top: 30px;\n  right: 40px;\n}\n\n.videoplayer_ui._fullscreen .videoplayer_end_info._right_offset {\n  right: 240px;\n}\n\n.videoplayer_end_info_author_photo {\n  float: left;\n  use-legacy-mixin: thumb-circle(37px, transparent, transparent);\n  width: 37px;\n  height: 37px;\n  border-radius: 50%;\n}\n\n.videoplayer_ui._fullscreen .videoplayer_end_info_author_photo {\n  width: 48px;\n  height: 48px;\n}\n\n.videoplayer_end_info_title {\n  margin-left: 49px;\n  font-size: 13px;\n  line-height: 18px;\n  font-weight: bold;\n  use-legacy-mixin: line-cut();\n  display: block;\n  color: var(--white);\n  cursor: default;\n}\n\n.videoplayer_ui._fullscreen .videoplayer_end_info_title {\n  font-size: 16px;\n  line-height: 22px;\n  margin-left: 63px;\n}\n\n.videoplayer_end_info_author_name {\n  margin-left: 49px;\n  margin-top: 1px;\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.videoplayer_ui._fullscreen .videoplayer_end_info_author_name {\n  margin-left: 63px;\n  margin-top: 3px;\n}\n\n.videoplayer_end_info_author_link {\n  use-legacy-mixin: line-cut(100%);\n  font-size: 13px;\n  color: var(--white);\n  opacity: 0.7;\n  text-decoration: none;\n}\n\n.videoplayer_end_info_author_link:hover {\n  text-decoration: none;\n  opacity: 1;\n}\n\n.videoplayer_end_info_subscribe {\n  position: relative;\n  margin-left: 5px;\n  width: 12px;\n  height: 12px;\n  display: inline-block;\n  vertical-align: middle;\n  border-radius: 1.5px;\n  background: var(--black_alpha40);\n  cursor: pointer;\n}\n\n.videoplayer_end_info_subscribe:hover {\n  background: var(--black_alpha72);\n}\n\n.videoplayer_end_info_subscribe ._icon_subscribe {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 12px;\n  height: 12px;\n}\n\n.videoplayer_end_info_subscribe ._icon_subscribe ._mark,\n.videoplayer_end_info_subscribe ._icon_subscribe ._cancel {\n  visibility: hidden;\n}\n\n.videoplayer_end_info_subscribe._subscribed ._plus {\n  visibility: hidden;\n}\n\n.videoplayer_end_info_subscribe._subscribed ._mark {\n  visibility: visible;\n}\n\n.videoplayer_end_actions {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50%;\n  margin-top: -20px;\n  text-align: center;\n  font-size: 0;\n  color: var(--white);\n}\n\n.videoplayer_end_actions ._like,\n.videoplayer_end_actions ._share,\n.videoplayer_end_actions ._add,\n.videoplayer_end_actions ._replay,\n.videoplayer_end_actions ._go {\n  display: inline-block;\n  position: relative;\n  width: 40px;\n  height: 40px;\n  margin-left: 15px;\n  background: var(--black_alpha72);\n  border-radius: 8px;\n  cursor: pointer;\n}\n\n.videoplayer_end_actions ._like::after,\n.videoplayer_end_actions ._share::after,\n.videoplayer_end_actions ._add::after,\n.videoplayer_end_actions ._replay::after,\n.videoplayer_end_actions ._go::after {\n  content: '';\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  width: 24px;\n  height: 24px;\n  background: no-repeat center;\n  opacity: 0.8;\n  transition: 150ms ease-in-out;\n}\n\n.videoplayer_end_actions ._like:first-child,\n.videoplayer_end_actions ._share:first-child,\n.videoplayer_end_actions ._add:first-child,\n.videoplayer_end_actions ._replay:first-child,\n.videoplayer_end_actions ._go:first-child {\n  margin-left: 0;\n}\n\n.videoplayer_end_actions ._like:hover,\n.videoplayer_end_actions ._share:hover,\n.videoplayer_end_actions ._add:hover,\n.videoplayer_end_actions ._replay:hover,\n.videoplayer_end_actions ._go:hover {\n  background: var(--black_alpha56);\n}\n\n.videoplayer_end_actions ._like:hover::after,\n.videoplayer_end_actions ._share:hover::after,\n.videoplayer_end_actions ._add:hover::after,\n.videoplayer_end_actions ._replay:hover::after,\n.videoplayer_end_actions ._go:hover::after {\n  opacity: 1;\n}\n\n.videoplayer_end_actions ._liked {\n  /* stylelint-disable-next-line plugin/only-tokens-are-allowed */\n  color: var(--red_nice);\n}\n\n.videoplayer_end_action_icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  opacity: 0.8;\n}\n\n.videoplayer_end_action:hover .videoplayer_end_action_icon {\n  opacity: 1;\n}\n\n.videoplayer_end_actions ._replay::after {\n  background-image: inline('images/svg_icons/videoplayer/replay.svg');\n}\n\n.videoplayer_end_actions ._replay,\n.videoplayer_end_actions ._go {\n  vertical-align: top;\n}\n\n.videoplayer_end_actions ._go {\n  width: 205px;\n  padding: 8px 8px 8px 48px;\n  box-sizing: border-box;\n  text-align: left;\n  color: inherit;\n}\n\n.videoplayer_end_actions ._go:hover {\n  text-decoration: none;\n}\n\n.videoplayer_end_actions ._go .go_button_title {\n  font-weight: 600;\n  /* stylelint-disable-next-line property-disallowed-list */\n  letter-spacing: -0.1px;\n  font-size: 13px;\n  use-legacy-mixin: line-cut(150px);\n  display: block;\n}\n\n.videoplayer_end_actions ._go .go_button_domain {\n  font-size: 12.5px;\n  opacity: 0.7;\n  use-legacy-mixin: line-cut(130px);\n  display: block;\n}\n\n.videoplayer_end_actions ._go::after {\n  background-image: inline('images/svg_icons/videoplayer/go.svg');\n}\n\n.videoplayer_end_actions._no_add ._add {\n  display: none;\n}\n\n.videoplayer_ui._minimized .videoplayer_end_actions {\n  margin-top: -32px;\n}\n\n.videoplayer_end_actions._large {\n  position: absolute;\n  left: 50%;\n  right: auto;\n  width: 250px;\n  margin-left: -125px;\n  margin-top: calc(-1 * 95px / 2);\n}\n\n.videoplayer_end_actions._large ._like {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 195px;\n}\n\n.videoplayer_end_actions._large._no_add ._like {\n  width: 250px;\n}\n\n.videoplayer_end_actions._large ._share {\n  position: absolute;\n  left: 0;\n  top: 55px;\n  width: 250px;\n  margin: 0;\n}\n\n.videoplayer_end_actions._large ._like,\n.videoplayer_end_actions._large ._share {\n  box-sizing: border-box;\n  font-size: 13px;\n  line-height: 40px;\n  text-align: left;\n  use-legacy-mixin: line-cut();\n  color: var(--white);\n  display: flex;\n}\n\n.videoplayer_end_actions._large ._like > .videoplayer_end_action_icon,\n.videoplayer_end_actions._large ._share > .videoplayer_end_action_icon {\n  margin-left: 13px;\n  margin-right: 13px;\n}\n\n.videoplayer_end_actions._large ._add {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.videoplayer_end_next_block {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 362px;\n  height: 102px;\n  margin-left: -181px;\n  margin-top: -25px;\n  background: rgba(48, 48, 48, .8);\n  cursor: pointer;\n}\n\n.videoplayer_end_next_block ._caption {\n  position: absolute;\n  bottom: 100%;\n  margin-bottom: 5px;\n  font-size: 11px;\n  font-weight: bold;\n  color: var(--white);\n  text-transform: uppercase;\n  opacity: 0.8;\n}\n\n.videoplayer_end_next_block ._thumb {\n  position: absolute;\n  width: 181px;\n  height: 102px;\n  background: no-repeat center;\n  background-size: cover;\n}\n\n.videoplayer_end_next_block ._thumb_darken {\n  position: absolute;\n  width: 181px;\n  height: 102px;\n  background: var(--black);\n  opacity: 0.3;\n}\n\n.videoplayer_end_next_block ._timer {\n  position: absolute;\n  left: calc(181px / 2 - 25px);\n  top: calc(102px / 2 - 25px);\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: rgba(31, 31, 31, .65);\n  transition: background 0.2s;\n}\n\n.videoplayer_end_next_block ._timer:hover {\n  background: rgba(31, 31, 31, .85);\n}\n\n.videoplayer_end_next_block ._timer_canvas {\n  width: 50px;\n  height: 50px;\n}\n\n.videoplayer_end_next_block ._timer_play_icon {\n  width: 22px;\n  height: 26px;\n  position: absolute;\n  left: 14px;\n  top: 12px;\n}\n\n.videoplayer_end_next_block ._timer_play_icon ._pause,\n.videoplayer_end_next_block ._timer_play_icon ._replay {\n  display: none;\n}\n\n.videoplayer_end_next_block ._description {\n  margin-left: 181px;\n  padding: 10px 15px;\n}\n\n.videoplayer_end_next_block ._title {\n  font-size: 12px;\n  font-weight: bold;\n  color: var(--white);\n  line-height: 1.6;\n  max-height: 57px;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.videoplayer_end_next_block ._views {\n  margin-top: 5px;\n  font-size: 11px;\n  /* stylelint-disable-next-line plugin/only-tokens-are-allowed */\n  color: var(--steel_gray_80);\n  opacity: 0.7;\n}\n\n.videoplayer_end_next_block ._cancel {\n  position: absolute;\n  width: 30px;\n  height: 26px;\n  top: -26px;\n  right: -7px;\n  opacity: 0.8;\n  transition: opacity 0.2s;\n}\n\n.videoplayer_end_next_block ._cancel:hover {\n  opacity: 1;\n}\n\n.videoplayer_end_next_block ._cancel::before {\n  content: '';\n  width: 16px;\n  height: 2px;\n  position: absolute;\n  left: 7px;\n  top: 12px;\n  /* stylelint-disable-next-line plugin/only-tokens-are-allowed */\n  background: var(--gray_300);\n  transform: rotate(45deg);\n}\n\n.videoplayer_end_next_block ._cancel::after {\n  content: '';\n  width: 2px;\n  height: 16px;\n  position: absolute;\n  left: 14px;\n  top: 5px;\n  /* stylelint-disable-next-line plugin/only-tokens-are-allowed */\n  background: var(--gray_300);\n  transform: rotate(45deg);\n}\n\n.videoplayer_end_suggestions {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50%;\n  margin-top: -25px;\n  text-align: center;\n  white-space: nowrap;\n  transition: transform 0.4s, opacity 0.4s;\n}\n\n.videoplayer_end_suggestions._before_intro {\n  transform: translateY(50px);\n  opacity: 0;\n  visibility: hidden;\n}\n\n.videoplayer_end_suggestions ._item {\n  display: inline-block;\n  vertical-align: top;\n  width: 180px;\n  padding: 0 10px;\n  color: var(--white);\n  text-align: left;\n  cursor: pointer;\n  transition: transform 0.2s;\n  text-decoration: none;\n}\n\n.videoplayer_end_suggestions ._item:hover {\n  transform: translateY(-8px);\n}\n\n.videoplayer_end_suggestions ._item_thumb {\n  height: 100px;\n  background: no-repeat center;\n  background-size: cover;\n  position: relative;\n}\n\n.videoplayer_end_suggestions ._item_replay {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.5);\n}\n\n.videoplayer_end_suggestions ._item_replay_icon {\n  width: 21px;\n  height: 18px;\n  display: inline-block;\n  vertical-align: middle;\n  margin-top: -2px;\n  margin-right: 5px;\n}\n\n.videoplayer_end_suggestions ._item_replay_icon ._play,\n.videoplayer_end_suggestions ._item_replay_icon ._pause {\n  display: none;\n}\n\n.videoplayer_end_suggestions ._item_replay_text {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50%;\n  line-height: 20px;\n  margin-top: -10px;\n  text-align: center;\n  use-legacy-mixin: line-cut(100%);\n}\n\n.videoplayer_end_suggestions ._item_title {\n  margin-top: 7px;\n  font-weight: bold;\n  use-legacy-mixin: line-cut();\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.videoplayer_end_suggestions ._item_views {\n  margin-top: 1px;\n  font-size: 12px;\n  color: var(--white);\n  opacity: 0.7;\n  use-legacy-mixin: line-cut();\n  display: block;\n}\n\n\n.VideoOwnerInfo--fullscreenMode {\n  display: flex;\n  top: 70px;\n  left: 20px;\n}\n\n.VideoOwnerInfo__coverWrapper {\n  flex-shrink: 0;\n  width: 48px;\n  height: 48px;\n  margin-right: 12px;\n}\n\n.VideoOwnerInfo__cover {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  transition: opacity .15s;\n  opacity: .72;\n}\n\n.VideoOwnerInfo:hover .VideoOwnerInfo__cover {\n  opacity: 1;\n}\n",this.endScreen?.el?.append(i);const a=this.player.getSize(!0);return this.endScreen?.resize(...a),this.endScreen?.el}constructor(e){this.adsSnippetsVideo=!1,this.player=e}}},890162:(e,t,i)=>{i.d(t,{VideoExpandHint:()=>n});class n{setText(e){this.text=e,this.textWrapper&&(this.textWrapper.innerText=this.text)}show(){this.el?.classList.remove("m-hidden")}hide(){this.el?.classList.add("m-hidden")}render(){this.el=document.createElement("div"),this.el.classList.add("video_expand_hint"),this.textWrapper=document.createElement("span"),this.textWrapper.innerText=this.text,this.el.append(this.textWrapper);const e=document.createElement("style");return e.innerText="\n  .video_expand_hint {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    padding-top: 60px;\n    text-align: center;\n    сolor: var(--white);\n    font-size: 13px;\n    font-weight: 700;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    text-shadow: 0 0 5px var(--black_alpha72);\n    cursor: pointer;\n    transition: visibility .2s, opacity .2s, top var(--videoplayer-controls-transition-duration) var(--videoplayer-controls-transition-fn);\n  }\n\n  .video_expand_hint.m-hidden {\n    display: none\n  }\n",this.el.append(e),this.el}constructor(e){this.text="",this.el=null,this.textWrapper=null,this.setText(e)}}},837759:(e,t,i)=>{i.d(t,{VideoPageHistory:()=>d,getVideoHistoryUrl:()=>h,mapVideoHistoryToLegacyVideo:()=>c,mapVideoOtherLegacyToVideoHistory:()=>u,mapVideoPlaylistLegacyToVideoHistory:()=>p});var n=i(8520),s=i(873900),o=i(768035),a=i(856289),r=i(841315),l=i(540462);const d={recommendations:[],history:{videos:[],currentPosition:-1},playlist:{videos:[],currentPosition:-1,isReversed:!1,repeat:"",firstVideo:null,lastVideo:null},isActivePlaylist:!1,getRecomVideos(){return this.recommendations},getRepeatVideo(e){if(!this.isActivePlaylist)return;return(this.playlist.isReversed?"prev"===e:"next"===e)?this.playlist.firstVideo??this.playlist.videos.at(0):this.playlist.lastVideo??this.playlist.videos.at(-1)},getOutOfPlaylistPrevVideo(){return"all"!==this.playlist.repeat?null:this.getRepeatVideo("prev")},getOutOfPlaylistNextVideo(){return"all"!==this.playlist.repeat?this.recommendations[0]:this.getRepeatVideo("next")},getNextVideo(){if(this.isActivePlaylist){const e=this.playlist.isReversed?-1:1,t=this.playlist.currentPosition+e;return this.playlist.videos[t]??this.getOutOfPlaylistNextVideo()??null}return this.history.videos[this.history.currentPosition+1]??this.recommendations[0]??null},getPrevVideo(){if(this.isActivePlaylist){const e=this.playlist.isReversed?-1:1,t=this.playlist.currentPosition-e;return this.playlist.videos[t]??this.getOutOfPlaylistPrevVideo()??null}return this.history.videos[this.history.currentPosition-1]??null},getCurrentVideo(){return this.history.videos[this.history.currentPosition]??null},getCurrentPosition(){return this.isActivePlaylist?this.playlist.currentPosition:this.history.currentPosition},shiftNextVideo(e){if(this.isActivePlaylist){const e=this.playlist.isReversed?-1:1;return this.playlist.currentPosition+=e,this.playlist.videos[this.playlist.currentPosition]??this.getOutOfPlaylistNextVideo()??null}e&&this.getCurrentVideo()&&this.history.videos.splice(this.history.currentPosition+1);let t=this.recommendations[0];return this.history.currentPosition<this.history.videos.length-1&&(this.history.currentPosition++,t=this.history.videos[this.history.currentPosition]??t),t??null},setRecomVideos(e){this.recommendations=e},setPlaylist(e){this.playlist=e},setIsActivePlaylist(e){this.isActivePlaylist=e},getPrevVideos(){const e=this.history.videos.slice(0,this.history.currentPosition);if(!this.isActivePlaylist)return e;const t=this.playlist.isReversed?this.playlist.videos.slice(this.playlist.currentPosition+1).reverse():this.playlist.videos.slice(0,this.playlist.currentPosition);return"all"!==this.playlist.repeat||t.length||t.push(this.getRepeatVideo("prev")),[...e,...t]},getNextVideos(){if(this.isActivePlaylist){const e=this.playlist.isReversed?this.playlist.videos.slice(0,this.playlist.currentPosition).reverse():this.playlist.videos.slice(this.playlist.currentPosition+1);return"all"!==this.playlist.repeat||e.length||e.push(this.getRepeatVideo("next")),[...e,...this.recommendations]}const e=this.history.videos.slice(this.history.currentPosition+1);return(0,l.partConfigEnabled)("use_uv_videoplayer_on_web")&&!e.length&&e.push(...this.recommendations),e},shiftPrevVideo(){if(this.isActivePlaylist){const e=this.playlist.isReversed?-1:1;return this.playlist.currentPosition-=e,this.playlist.videos[this.playlist.currentPosition]??this.getOutOfPlaylistPrevVideo()??this.history.videos[this.history.currentPosition-1]??null}return 0===this.history.currentPosition?null:(this.history.currentPosition--,this.history.videos[this.history.currentPosition]??null)},pushVideoToHistory(e){const t=this.findVideoInHistory(e);null!==t&&t>=-1&&t<=1?this.history.currentPosition+=t:(e.playlistId&&this.history.videos[this.history.currentPosition]?.playlistId||this.history.currentPosition++,this.history.videos.splice(this.history.currentPosition),this.history.videos.push(e))},findVideoInHistory(e){const t=this.history.videos.findIndex((t=>e.id===t.id));return-1===t?null:t-this.history.currentPosition},clearHistory(){this.history={videos:[],currentPosition:-1},this.setIsActivePlaylist(!1);this.playlist={videos:[],currentPosition:-1,isReversed:!1,repeat:""}}};function h(e,t=!0){return(0,l.partConfigEnabled)("vkvideo_sport_domain")?e.href:(0,r.getVideoUrl)({id:e.id,owner_id:e.owner_id},{playlistId:e.playlistId,isAbsolute:t,isLinkedPlaylist:!0})}const c=e=>({vid:(0,s.getIdentityRawId)({id:e.id,ownerId:e.owner_id}),thumb:(0,a.getThumbSrcFromImages)(e.thumb),title:e.title,views:(0,a.getFormattedFullVideoViews)(e.views),link:e.href,ownerHref:e.owner.href,ownerName:e.owner.name,trackCode:e.track_code,playlistId:e.playlistId}),p=e=>{const{vid:t,title:i,link:s,thumb:r,trackCode:l,restrictionBlock:d,ownerName:h,ownerHref:c,duration:p,playlistId:u}=e,{id:v,ownerId:_}=(0,o.parseRawId)(t),g=(0,a.getThumbFromUrl)(r),y=g?[g]:[];return{id:v,href:s,title:(0,n.decodeHTMLEntities)(i),views:-1,thumb:y,duration:(0,a.parseDuration)(p),owner_id:_,playlistId:u,track_code:l,restriction:d?{title:"Возможно, это неприятный контент",blur:1,icon_name:"hide_outline"}:void 0,owner:{name:(0,n.decodeHTMLEntities)(h),href:c,verified:!1}}},u=e=>{const{vid:t,link:i,title:s,thumb:r,track_code:l,owner_name:d,owner_href:h,duration:c}=e,{id:p,ownerId:u}=(0,o.parseRawId)(t),v=(0,a.getThumbFromUrl)(r),_=v?[v]:[];return{id:p,href:i,title:(0,n.decodeHTMLEntities)(s),views:-1,thumb:_,duration:(0,a.parseDuration)(c),owner_id:u,playlistId:"",track_code:l,owner:{name:(0,n.decodeHTMLEntities)(d),href:h,verified:!1}}}},48921:(e,t,i)=>{i.d(t,{CARD_GAP:()=>s,CARD_WIDTH:()=>n,CustomEventName:()=>o});const n=128,s=12,o="VideoCustomEvent/GoodRecognition"}}]);try{stManager?.done("dist/web/chunks/2dca7225.3212d74d.js")}catch(e){}