"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[2027],{897976:(e,t,i)=>{i.d(t,{constructConfig:()=>u,constructSources:()=>l,constructVideoData:()=>d});var n=i(317929),a=i(1100),o=i(807978),r=i(540462);const s={"144p":"mp4_144","240p":"mp4_240","360p":"mp4_360","480p":"mp4_480","720p":"mp4_720","1080p":"mp4_1080","1440p":"mp4_1440","2160p":"mp4_2160"};function l({files:e,live_settings:t}){const i={};let a=t?.playback_duration??t?.max_rewind_duration;a&&(a*=o.SECOND);const l=(0,r.partConfigEnabled)("video_player_support_new_live_links")&&Boolean(t),d=(0,r.partConfigEnabled)("video_player_support_new_live_links")&&!a;if(!e)return i;const u={};for(const[t,i]of Object.entries(s))i in e&&(u[t]=e[i]);return Object.keys(u).length>0?i.MPEG=u:e.src&&(i.MPEG={"Invariant quality":e.src}),e.dash_sep&&(i[n.VideoFormat.DASH_SEP]={type:"url",url:e.dash_sep}),e.dash_webm&&(i[n.VideoFormat.DASH_WEBM]={type:"url",url:e.dash_webm}),e.dash_webm_av1&&(i[n.VideoFormat.DASH_WEBM_AV1]={type:"url",url:e.dash_webm_av1}),e.dash_streams&&(i[n.VideoFormat.DASH_STREAMS]={type:"url",url:e.dash_streams}),e.cmaf&&(i[n.VideoFormat.DASH_LIVE_CMAF]={type:"url",url:e.cmaf}),e.hls&&!l&&(i[n.VideoFormat.HLS]={type:"url",url:e.hls}),e.dash_live&&d&&(i[n.VideoFormat.DASH_LIVE]={type:"url",url:e.dash_live}),!e.dash_live_playback||d&&e.dash_live||(i[n.VideoFormat.DASH_LIVE]={type:"url",url:e.dash_live_playback}),e.hls_live&&d&&(i[n.VideoFormat.HLS_LIVE]={type:"url",url:e.hls_live}),!e.hls_live_playback||d&&e.hls_live||(i[n.VideoFormat.HLS_LIVE]={type:"url",url:e.hls_live_playback,maxSeekBackTime:a}),e.dash_ondemand&&(i[n.VideoFormat.DASH_ONDEMAND]={type:"url",url:e.dash_ondemand}),e.hls_ondemand&&(i[n.VideoFormat.HLS_ONDEMAND]={type:"url",url:e.hls_ondemand}),e.hls_live_ondemand&&(i[n.VideoFormat.HLS_LIVE_CMAF]={type:"url",url:e.hls_live_ondemand,maxSeekBackTime:a}),e.ws&&(i[n.VideoFormat.WEB_RTC_LIVE]={type:"url",url:e.ws}),i}function d(e){const t=l(e),i={status:e.live_status,startTime:e.live_start_time},n=e.image?.sort(((e,t)=>e.height-t.height))??[],a=n.find((({height:e})=>e>500))??n.at(-1),o=e.restriction?{restriction:e.restriction}:{};return{...Object.keys(t).length>0?{sources:t}:{live:i},title:e.title??"",thumbUrl:a?.url,unitedVideoId:parseInt(e.ov_id??"0",10),duration:e.duration??0,videoEpisodes:e.episodes?.map((({time:e,text:t})=>({time:e??0,text:t??""}))),previewThumbsData:e.timeline_thumbs?{countPerImage:e.timeline_thumbs.count_per_image??1,countPerRow:e.timeline_thumbs.count_per_row??1,countTotal:e.timeline_thumbs.count_total??1,frameHeight:e.timeline_thumbs.frame_height??0,frameWidth:e.timeline_thumbs.frame_width??0,frequency:e.timeline_thumbs.frequency??1,isUV:e.timeline_thumbs.is_uv??!1,links:e.timeline_thumbs.links??[]}:void 0,subtitles:e.subtitles?.filter((e=>Boolean(e.url))).map((({is_auto:e,title:t,lang:i,manifest_name:n,url:a,storage_index:o})=>({isAuto:e,id:[t,i,o].filter(Boolean).join("_"),language:i,label:n,url:a}))),...o}}function u(e,t){const i=e.map((e=>d(e))),n=e[0],o={videos:i??[]};return t&&(o.interactiveData={...t,videoLoader:async(e,i)=>{const n=t?.accessKeysMap||{};return u((await(0,a.fetchVideo)(parseInt(e,10),parseInt(i,10),n[i]||"")).items)}}),n?.album_id&&(o.albumId=n.album_id.toString(10)),n?.uv_stats_place&&(o.statPlace=n.uv_stats_place),n?.track_code&&(o.statTrackCode=n.track_code),2===n?.can_download&&(o.canDownload=!0),n?.files?.failover_host&&(o.failoverHosts=[n?.files?.failover_host]),n?.restriction?.mute_info_link&&(o.isAudioDisabled=Boolean(n?.restriction?.mute_info_link)),n?.volume_multiplier&&(o.volumeMultiplier=n?.volume_multiplier),o}},1100:(e,t,i)=>{i.d(t,{fetchVideo:()=>o});var n=i(538522),a=i(805658);const o=async(e,t,i,o={})=>(0,a.apiWithPrefetch)("video.get",{owner_id:e,videos:(0,n.joinRawId)({ownerId:e,itemId:t,externalId:i}),extended:1,...o})},89923:(e,t,i)=>{i.d(t,{ApiEnv:()=>ui,InteractiveInterfaceClick:()=>gi,OneStat:()=>en,SeekAction:()=>hi,VERSION:()=>_i});var n,a,o,r,s,l,d=i(819705),u=i(773439),c=Object.create,p=Object.defineProperty,v=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,g=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b=(e,t,i)=>(i=null!=e?c(g(e)):{},((e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of h(t))!f.call(e,a)&&a!==i&&p(e,a,{get:()=>t[a],enumerable:!(n=v(t,a))||n.enumerable});return e})(!t&&e&&e.__esModule?i:p(i,"default",{value:e,enumerable:!0}),e)),y=m(((e,t)=>{var i=function(e){return e&&e.Math===Math&&e};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof global&&global)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()})),_=m(((e,t)=>{t.exports=function(e){try{return!!e()}catch{return!0}}})),w=m(((e,t)=>{var i=_();t.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))})),x=m(((e,t)=>{var i=w(),n=Function.prototype,a=n.apply,o=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(a):function(){return o.apply(a,arguments)})})),k=m(((e,t)=>{var i=w(),n=Function.prototype,a=n.call,o=i&&n.bind.bind(a,a);t.exports=i?o:function(e){return function(){return a.apply(e,arguments)}}})),$=m(((e,t)=>{var i=k(),n=i({}.toString),a=i("".slice);t.exports=function(e){return a(n(e),8,-1)}})),S=m(((e,t)=>{var i=$(),n=k();t.exports=function(e){if("Function"===i(e))return n(e)}})),C=m(((e,t)=>{var i="object"==typeof document&&document.all;t.exports=typeof i>"u"&&void 0!==i?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}})),A=m(((e,t)=>{var i=_();t.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))})),T=m(((e,t)=>{var i=w(),n=Function.prototype.call;t.exports=i?n.bind(n):function(){return n.apply(n,arguments)}})),P=m((e=>{var t={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!t.call({1:2},1);e.f=n?function(e){var t=i(this,e);return!!t&&t.enumerable}:t})),E=m(((e,t)=>{t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}})),I=m(((e,t)=>{var i=k(),n=_(),a=$(),o=Object,r=i("".split);t.exports=n((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?r(e,""):o(e)}:o})),L=m(((e,t)=>{t.exports=function(e){return null==e}})),M=m(((e,t)=>{var i=L(),n=TypeError;t.exports=function(e){if(i(e))throw new n("Can't call method on "+e);return e}})),V=m(((e,t)=>{var i=I(),n=M();t.exports=function(e){return i(n(e))}})),N=m(((e,t)=>{var i=C();t.exports=function(e){return"object"==typeof e?null!==e:i(e)}})),R=m(((e,t)=>{t.exports={}})),B=m(((e,t)=>{var i=R(),n=y(),a=C(),o=function(e){return a(e)?e:void 0};t.exports=function(e,t){return arguments.length<2?o(i[e])||o(n[e]):i[e]&&i[e][t]||n[e]&&n[e][t]}})),O=m(((e,t)=>{var i=k();t.exports=i({}.isPrototypeOf)})),D=m(((e,t)=>{var i=y().navigator,n=i&&i.userAgent;t.exports=n?String(n):""})),z=m(((e,t)=>{var i,n,a=y(),o=D(),r=a.process,s=a.Deno,l=r&&r.versions||s&&s.version,d=l&&l.v8;d&&(n=(i=d.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&o&&((!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&((i=o.match(/Chrome\/(\d+)/))&&(n=+i[1]))),t.exports=n})),q=m(((e,t)=>{var i=z(),n=_(),a=y().String;t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))})),H=m(((e,t)=>{var i=q();t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator})),j=m(((e,t)=>{var i=B(),n=C(),a=O(),o=H(),r=Object;t.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return n(t)&&a(t.prototype,r(e))}})),F=m(((e,t)=>{var i=String;t.exports=function(e){try{return i(e)}catch{return"Object"}}})),U=m(((e,t)=>{var i=C(),n=F(),a=TypeError;t.exports=function(e){if(i(e))return e;throw new a(n(e)+" is not a function")}})),W=m(((e,t)=>{var i=U(),n=L();t.exports=function(e,t){var a=e[t];return n(a)?void 0:i(a)}})),Q=m(((e,t)=>{var i=T(),n=C(),a=N(),o=TypeError;t.exports=function(e,t){var r,s;if("string"===t&&n(r=e.toString)&&!a(s=i(r,e))||n(r=e.valueOf)&&!a(s=i(r,e))||"string"!==t&&n(r=e.toString)&&!a(s=i(r,e)))return s;throw new o("Can't convert object to primitive value")}})),K=m(((e,t)=>{t.exports=!0})),G=m(((e,t)=>{var i=y(),n=Object.defineProperty;t.exports=function(e,t){try{n(i,e,{value:t,configurable:!0,writable:!0})}catch{i[e]=t}return t}})),Z=m(((e,t)=>{var i=K(),n=y(),a=G(),o="__core-js_shared__",r=t.exports=n[o]||a(o,{});(r.versions||(r.versions=[])).push({version:"3.38.0",mode:i?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"})})),Y=m(((e,t)=>{var i=Z();t.exports=function(e,t){return i[e]||(i[e]=t||{})}})),X=m(((e,t)=>{var i=M(),n=Object;t.exports=function(e){return n(i(e))}})),J=m(((e,t)=>{var i=k(),n=X(),a=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(e,t){return a(n(e),t)}})),ee=m(((e,t)=>{var i=k(),n=0,a=Math.random(),o=i(1..toString);t.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++n+a,36)}})),te=m(((e,t)=>{var i=y(),n=Y(),a=J(),o=ee(),r=q(),s=H(),l=i.Symbol,d=n("wks"),u=s?l.for||l:l&&l.withoutSetter||o;t.exports=function(e){return a(d,e)||(d[e]=r&&a(l,e)?l[e]:u("Symbol."+e)),d[e]}})),ie=m(((e,t)=>{var i=T(),n=N(),a=j(),o=W(),r=Q(),s=te(),l=TypeError,d=s("toPrimitive");t.exports=function(e,t){if(!n(e)||a(e))return e;var s,u=o(e,d);if(u){if(void 0===t&&(t="default"),s=i(u,e,t),!n(s)||a(s))return s;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),r(e,t)}})),ne=m(((e,t)=>{var i=ie(),n=j();t.exports=function(e){var t=i(e,"string");return n(t)?t:t+""}})),ae=m(((e,t)=>{var i=y(),n=N(),a=i.document,o=n(a)&&n(a.createElement);t.exports=function(e){return o?a.createElement(e):{}}})),oe=m(((e,t)=>{var i=A(),n=_(),a=ae();t.exports=!i&&!n((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))})),re=m((e=>{var t=A(),i=T(),n=P(),a=E(),o=V(),r=ne(),s=J(),l=oe(),d=Object.getOwnPropertyDescriptor;e.f=t?d:function(e,t){if(e=o(e),t=r(t),l)try{return d(e,t)}catch{}if(s(e,t))return a(!i(n.f,e,t),e[t])}})),se=m(((e,t)=>{var i=_(),n=C(),a=/#|\.prototype\./,o=function(e,t){var a=s[r(e)];return a===d||a!==l&&(n(t)?i(t):!!t)},r=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",d=o.POLYFILL="P";t.exports=o})),le=m(((e,t)=>{var i=S(),n=U(),a=w(),o=i(i.bind);t.exports=function(e,t){return n(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}})),de=m(((e,t)=>{var i=A(),n=_();t.exports=i&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))})),ue=m(((e,t)=>{var i=N(),n=String,a=TypeError;t.exports=function(e){if(i(e))return e;throw new a(n(e)+" is not an object")}})),ce=m((e=>{var t=A(),i=oe(),n=de(),a=ue(),o=ne(),r=TypeError,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",u="configurable",c="writable";e.f=t?n?function(e,t,i){if(a(e),t=o(t),a(i),"function"==typeof e&&"prototype"===t&&"value"in i&&c in i&&!i[c]){var n=l(e,t);n&&n[c]&&(e[t]=i.value,i={configurable:u in i?i[u]:n[u],enumerable:d in i?i[d]:n[d],writable:!1})}return s(e,t,i)}:s:function(e,t,n){if(a(e),t=o(t),a(n),i)try{return s(e,t,n)}catch{}if("get"in n||"set"in n)throw new r("Accessors not supported");return"value"in n&&(e[t]=n.value),e}})),pe=m(((e,t)=>{var i=A(),n=ce(),a=E();t.exports=i?function(e,t,i){return n.f(e,t,a(1,i))}:function(e,t,i){return e[t]=i,e}})),ve=m(((e,t)=>{var i=y(),n=x(),a=S(),o=C(),r=re().f,s=se(),l=R(),d=le(),u=pe(),c=J();Z();var p=function(e){var t=function(i,a,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(i);case 2:return new e(i,a)}return new e(i,a,o)}return n(e,this,arguments)};return t.prototype=e.prototype,t};t.exports=function(e,t){var n,v,h,g,f,m,b,y,_,w=e.target,x=e.global,k=e.stat,$=e.proto,S=x?i:k?i[w]:i[w]&&i[w].prototype,C=x?l:l[w]||u(l,w,{})[w],A=C.prototype;for(g in t)v=!(n=s(x?g:w+(k?".":"#")+g,e.forced))&&S&&c(S,g),m=C[g],v&&(e.dontCallGetSet?b=(_=r(S,g))&&_.value:b=S[g]),f=v&&b?b:t[g],(n||$||typeof m!=typeof f)&&(y=e.bind&&v?d(f,i):e.wrap&&v?p(f):$&&o(f)?a(f):f,(e.sham||f&&f.sham||m&&m.sham)&&u(y,"sham",!0),u(C,g,y),$&&(c(l,h=w+"Prototype")||u(l,h,{}),u(l[h],g,f),e.real&&A&&(n||!A[g])&&u(A,g,f)))}})),he=m(((e,t)=>{var i=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(e){var t=+e;return(t>0?n:i)(t)}})),ge=m(((e,t)=>{var i=he();t.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}})),fe=m(((e,t)=>{var i=ge(),n=Math.max,a=Math.min;t.exports=function(e,t){var o=i(e);return o<0?n(o+t,0):a(o,t)}})),me=m(((e,t)=>{var i=ge(),n=Math.min;t.exports=function(e){var t=i(e);return t>0?n(t,9007199254740991):0}})),be=m(((e,t)=>{var i=me();t.exports=function(e){return i(e.length)}})),ye=m(((e,t)=>{var i=V(),n=fe(),a=be(),o=function(e){return function(t,o,r){var s=i(t),l=a(s);if(0===l)return!e&&-1;var d,u=n(r,l);if(e&&o!=o){for(;l>u;)if((d=s[u++])!=d)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===o)return e||u||0;return!e&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}})),_e=m(((e,t)=>{t.exports=function(){}})),we=m((()=>{var e=ve(),t=ye().includes,i=_(),n=_e();e({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")})),xe=m(((e,t)=>{var i=B();t.exports=i})),ke=m(((e,t)=>{we();var i=xe();t.exports=i("Array","includes")})),$e=m(((e,t)=>{var i=ke();t.exports=i})),Se=m(((e,t)=>{var i=$e();t.exports=i})),Ce=m((()=>{})),Ae=m(((e,t)=>{var i=y(),n=D(),a=$(),o=function(e){return n.slice(0,e.length)===e};t.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":i.Bun&&"string"==typeof Bun.version?"BUN":i.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(i.process)?"NODE":i.window&&i.document?"BROWSER":"REST"})),Te=m(((e,t)=>{var i=Ae();t.exports="NODE"===i})),Pe=m(((e,t)=>{var i=pe();t.exports=function(e,t,n,a){return a&&a.enumerable?e[t]=n:i(e,t,n),e}})),Ee=m(((e,t)=>{var i=k(),n=U();t.exports=function(e,t,a){try{return i(n(Object.getOwnPropertyDescriptor(e,t)[a]))}catch{}}})),Ie=m(((e,t)=>{var i=N();t.exports=function(e){return i(e)||null===e}})),Le=m(((e,t)=>{var i=Ie(),n=String,a=TypeError;t.exports=function(e){if(i(e))return e;throw new a("Can't set "+n(e)+" as a prototype")}})),Me=m(((e,t)=>{var i=Ee(),n=N(),a=M(),o=Le();t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=i(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch{}return function(i,r){return a(i),o(r),n(i)&&(t?e(i,r):i.__proto__=r),i}}():void 0)})),Ve=m(((e,t)=>{var i={};i[te()("toStringTag")]="z",t.exports="[object z]"===String(i)})),Ne=m(((e,t)=>{var i=Ve(),n=C(),a=$(),o=te()("toStringTag"),r=Object,s="Arguments"===a(function(){return arguments}());t.exports=i?a:function(e){var t,i,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch{}}(t=r(e),o))?i:s?a(t):"Object"===(l=a(t))&&n(t.callee)?"Arguments":l}})),Re=m(((e,t)=>{var i=Ve(),n=Ne();t.exports=i?{}.toString:function(){return"[object "+n(this)+"]"}})),Be=m(((e,t)=>{var i=Ve(),n=ce().f,a=pe(),o=J(),r=Re(),s=te()("toStringTag");t.exports=function(e,t,l,d){var u=l?e:e&&e.prototype;u&&(o(u,s)||n(u,s,{configurable:!0,value:t}),d&&!i&&a(u,"toString",r))}})),Oe=m(((e,t)=>{var i=ce();t.exports=function(e,t,n){return i.f(e,t,n)}})),De=m(((e,t)=>{var i=B(),n=Oe(),a=te(),o=A(),r=a("species");t.exports=function(e){var t=i(e);o&&t&&!t[r]&&n(t,r,{configurable:!0,get:function(){return this}})}})),ze=m(((e,t)=>{var i=O(),n=TypeError;t.exports=function(e,t){if(i(t,e))return e;throw new n("Incorrect invocation")}})),qe=m(((e,t)=>{var i=k(),n=C(),a=Z(),o=i(Function.toString);n(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),t.exports=a.inspectSource})),He=m(((e,t)=>{var i=k(),n=_(),a=C(),o=Ne(),r=B(),s=qe(),l=function(){},d=r("Reflect","construct"),u=/^\s*(?:class|function)\b/,c=i(u.exec),p=!u.test(l),v=function(e){if(!a(e))return!1;try{return d(l,[],e),!0}catch{return!1}},h=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!c(u,s(e))}catch{return!0}};h.sham=!0,t.exports=!d||n((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?h:v})),je=m(((e,t)=>{var i=He(),n=F(),a=TypeError;t.exports=function(e){if(i(e))return e;throw new a(n(e)+" is not a constructor")}})),Fe=m(((e,t)=>{var i=ue(),n=je(),a=L(),o=te()("species");t.exports=function(e,t){var r,s=i(e).constructor;return void 0===s||a(r=i(s)[o])?t:n(r)}})),Ue=m(((e,t)=>{var i=B();t.exports=i("document","documentElement")})),We=m(((e,t)=>{var i=k();t.exports=i([].slice)})),Qe=m(((e,t)=>{var i=TypeError;t.exports=function(e,t){if(e<t)throw new i("Not enough arguments");return e}})),Ke=m(((e,t)=>{var i=D();t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)})),Ge=m(((e,t)=>{var i,n,a,o,r=y(),s=x(),l=le(),d=C(),u=J(),c=_(),p=Ue(),v=We(),h=ae(),g=Qe(),f=Ke(),m=Te(),b=r.setImmediate,w=r.clearImmediate,k=r.process,$=r.Dispatch,S=r.Function,A=r.MessageChannel,T=r.String,P=0,E={},I="onreadystatechange";c((function(){i=r.location}));var L=function(e){if(u(E,e)){var t=E[e];delete E[e],t()}},M=function(e){return function(){L(e)}},V=function(e){L(e.data)},N=function(e){r.postMessage(T(e),i.protocol+"//"+i.host)};(!b||!w)&&(b=function(e){g(arguments.length,1);var t=d(e)?e:S(e),i=v(arguments,1);return E[++P]=function(){s(t,void 0,i)},n(P),P},w=function(e){delete E[e]},m?n=function(e){k.nextTick(M(e))}:$&&$.now?n=function(e){$.now(M(e))}:A&&!f?(o=(a=new A).port2,a.port1.onmessage=V,n=l(o.postMessage,o)):r.addEventListener&&d(r.postMessage)&&!r.importScripts&&i&&"file:"!==i.protocol&&!c(N)?(n=N,r.addEventListener("message",V,!1)):n=I in h("script")?function(e){p.appendChild(h("script"))[I]=function(){p.removeChild(this),L(e)}}:function(e){setTimeout(M(e),0)}),t.exports={set:b,clear:w}})),Ze=m(((e,t)=>{var i=y(),n=A(),a=Object.getOwnPropertyDescriptor;t.exports=function(e){if(!n)return i[e];var t=a(i,e);return t&&t.value}})),Ye=m(((e,t)=>{var i=function(){this.head=null,this.tail=null};i.prototype={add:function(e){var t={item:e,next:null},i=this.tail;i?i.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},t.exports=i})),Xe=m(((e,t)=>{var i=D();t.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"})),Je=m(((e,t)=>{var i=D();t.exports=/web0s(?!.*chrome)/i.test(i)})),et=m(((e,t)=>{var i,n,a,o,r,s,l,d=y(),u=Ze(),c=le(),p=Ge().set,v=Ye(),h=Ke(),g=Xe(),f=Je(),m=Te(),b=d.MutationObserver||d.WebKitMutationObserver,_=d.document,w=d.process,x=d.Promise,k=u("queueMicrotask");k||(s=new v,l=function(){var e,t;for(m&&(e=w.domain)&&e.exit();t=s.get();)try{t()}catch(e){throw s.head&&i(),e}e&&e.enter()},h||m||f||!b||!_?!g&&x&&x.resolve?((o=x.resolve(void 0)).constructor=x,r=c(o.then,o),i=function(){r(l)}):m?i=function(){w.nextTick(l)}:(p=c(p,d),i=function(){p(l)}):(n=!0,a=_.createTextNode(""),new b(l).observe(a,{characterData:!0}),i=function(){a.data=n=!n}),k=function(e){s.head||i(),s.add(e)}),t.exports=k})),tt=m(((e,t)=>{t.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch{}}})),it=m(((e,t)=>{t.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}})),nt=m(((e,t)=>{var i=y(),n=C(),a=i.WeakMap;t.exports=n(a)&&/native code/.test(String(a))})),at=m(((e,t)=>{var i=Y(),n=ee(),a=i("keys");t.exports=function(e){return a[e]||(a[e]=n(e))}})),ot=m(((e,t)=>{t.exports={}})),rt=m(((e,t)=>{var i,n,a,o,r,s=nt(),l=y(),d=N(),u=pe(),c=J(),p=Z(),v=at(),h=ot(),g="Object already initialized",f=l.TypeError,m=l.WeakMap;s||p.state?((o=p.state||(p.state=new m)).get=o.get,o.has=o.has,o.set=o.set,i=function(e,t){if(o.has(e))throw new f(g);return t.facade=e,o.set(e,t),t},n=function(e){return o.get(e)||{}},a=function(e){return o.has(e)}):(h[r=v("state")]=!0,i=function(e,t){if(c(e,r))throw new f(g);return t.facade=e,u(e,r,t),t},n=function(e){return c(e,r)?e[r]:{}},a=function(e){return c(e,r)}),t.exports={set:i,get:n,has:a,enforce:function(e){return a(e)?n(e):i(e,{})},getterFor:function(e){return function(t){var i;if(!d(t)||(i=n(t)).type!==e)throw new f("Incompatible receiver, "+e+" required");return i}}}})),st=m(((e,t)=>{var i=y();t.exports=i.Promise})),lt=m(((e,t)=>{var i=y(),n=st(),a=C(),o=se(),r=qe(),s=te(),l=Ae(),d=K(),u=z(),c=n&&n.prototype,p=s("species"),v=!1,h=a(i.PromiseRejectionEvent),g=o("Promise",(function(){var e=r(n),t=e!==String(n);if(!t&&66===u||d&&(!c.catch||!c.finally))return!0;if(!u||u<51||!/native code/.test(e)){var i=new n((function(e){e(1)})),a=function(e){e((function(){}),(function(){}))};if((i.constructor={})[p]=a,!(v=i.then((function(){}))instanceof a))return!0}return!(t||"BROWSER"!==l&&"DENO"!==l||h)}));t.exports={CONSTRUCTOR:g,REJECTION_EVENT:h,SUBCLASSING:v}})),dt=m(((e,t)=>{var i=U(),n=TypeError,a=function(e){var t,a;this.promise=new e((function(e,i){if(void 0!==t||void 0!==a)throw new n("Bad Promise constructor");t=e,a=i})),this.resolve=i(t),this.reject=i(a)};t.exports.f=function(e){return new a(e)}})),ut=m((()=>{var e,t,i,n=ve(),a=K(),o=Te(),r=y(),s=T(),l=Pe(),d=Me(),u=Be(),c=De(),p=U(),v=C(),h=N(),g=ze(),f=Fe(),m=Ge().set,b=et(),_=tt(),w=it(),x=Ye(),k=rt(),$=st(),S=lt(),A=dt(),P="Promise",E=S.CONSTRUCTOR,I=S.REJECTION_EVENT,L=S.SUBCLASSING,M=k.getterFor(P),V=k.set,R=$&&$.prototype,B=$,O=R,D=r.TypeError,z=r.document,q=r.process,H=A.f,j=H,F=!!(z&&z.createEvent&&r.dispatchEvent),W="unhandledrejection",Q=function(e){var t;return!(!h(e)||!v(t=e.then))&&t},G=function(e,t){var i,n,a,o=t.value,r=1===t.state,l=r?e.ok:e.fail,d=e.resolve,u=e.reject,c=e.domain;try{l?(r||(2===t.rejection&&ee(t),t.rejection=1),!0===l?i=o:(c&&c.enter(),i=l(o),c&&(c.exit(),a=!0)),i===e.promise?u(new D("Promise-chain cycle")):(n=Q(i))?s(n,i,d,u):d(i)):u(o)}catch(e){c&&!a&&c.exit(),u(e)}},Z=function(e,t){e.notified||(e.notified=!0,b((function(){for(var i,n=e.reactions;i=n.get();)G(i,e);e.notified=!1,t&&!e.rejection&&X(e)})))},Y=function(e,t,i){var n,a;F?((n=z.createEvent("Event")).promise=t,n.reason=i,n.initEvent(e,!1,!0),r.dispatchEvent(n)):n={promise:t,reason:i},!I&&(a=r["on"+e])?a(n):e===W&&_("Unhandled promise rejection",i)},X=function(e){s(m,r,(function(){var t,i=e.facade,n=e.value;if(J(e)&&(t=w((function(){o?q.emit("unhandledRejection",n,i):Y(W,i,n)})),e.rejection=o||J(e)?2:1,t.error))throw t.value}))},J=function(e){return 1!==e.rejection&&!e.parent},ee=function(e){s(m,r,(function(){var t=e.facade;o?q.emit("rejectionHandled",t):Y("rejectionhandled",t,e.value)}))},te=function(e,t,i){return function(n){e(t,n,i)}},ie=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,Z(e,!0))},ne=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw new D("Promise can't be resolved itself");var n=Q(t);n?b((function(){var i={done:!1};try{s(n,t,te(ne,i,e),te(ie,i,e))}catch(t){ie(i,t,e)}})):(e.value=t,e.state=1,Z(e,!1))}catch(t){ie({done:!1},t,e)}}};if(E&&(O=(B=function(t){g(this,O),p(t),s(e,this);var i=M(this);try{t(te(ne,i),te(ie,i))}catch(e){ie(i,e)}}).prototype,(e=function(e){V(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=l(O,"then",(function(e,t){var i=M(this),n=H(f(this,B));return i.parent=!0,n.ok=!v(e)||e,n.fail=v(t)&&t,n.domain=o?q.domain:void 0,0===i.state?i.reactions.add(n):b((function(){G(n,i)})),n.promise})),t=function(){var t=new e,i=M(t);this.promise=t,this.resolve=te(ne,i),this.reject=te(ie,i)},A.f=H=function(e){return e===B||undefined===e?new t(e):j(e)},!a&&v($)&&R!==Object.prototype)){i=R.then,L||l(R,"then",(function(e,t){var n=this;return new B((function(e,t){s(i,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete R.constructor}catch{}d&&d(R,O)}n({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:B}),u(B,P,!1,!0),c(P)})),ct=m(((e,t)=>{t.exports={}})),pt=m(((e,t)=>{var i=te(),n=ct(),a=i("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||o[a]===e)}})),vt=m(((e,t)=>{var i=Ne(),n=W(),a=L(),o=ct(),r=te()("iterator");t.exports=function(e){if(!a(e))return n(e,r)||n(e,"@@iterator")||o[i(e)]}})),ht=m(((e,t)=>{var i=T(),n=U(),a=ue(),o=F(),r=vt(),s=TypeError;t.exports=function(e,t){var l=arguments.length<2?r(e):t;if(n(l))return a(i(l,e));throw new s(o(e)+" is not iterable")}})),gt=m(((e,t)=>{var i=T(),n=ue(),a=W();t.exports=function(e,t,o){var r,s;n(e);try{if(!(r=a(e,"return"))){if("throw"===t)throw o;return o}r=i(r,e)}catch(e){s=!0,r=e}if("throw"===t)throw o;if(s)throw r;return n(r),o}})),ft=m(((e,t)=>{var i=le(),n=T(),a=ue(),o=F(),r=pt(),s=be(),l=O(),d=ht(),u=vt(),c=gt(),p=TypeError,v=function(e,t){this.stopped=e,this.result=t},h=v.prototype;t.exports=function(e,t,g){var f,m,b,y,_,w,x,k=g&&g.that,$=!(!g||!g.AS_ENTRIES),S=!(!g||!g.IS_RECORD),C=!(!g||!g.IS_ITERATOR),A=!(!g||!g.INTERRUPTED),T=i(t,k),P=function(e){return f&&c(f,"normal",e),new v(!0,e)},E=function(e){return $?(a(e),A?T(e[0],e[1],P):T(e[0],e[1])):A?T(e,P):T(e)};if(S)f=e.iterator;else if(C)f=e;else{if(!(m=u(e)))throw new p(o(e)+" is not iterable");if(r(m)){for(b=0,y=s(e);y>b;b++)if((_=E(e[b]))&&l(h,_))return _;return new v(!1)}f=d(e,m)}for(w=S?e.next:f.next;!(x=n(w,f)).done;){try{_=E(x.value)}catch(e){c(f,"throw",e)}if("object"==typeof _&&_&&l(h,_))return _}return new v(!1)}})),mt=m(((e,t)=>{var i,n,a=te()("iterator"),o=!1;try{i=0,(n={next:function(){return{done:!!i++}},return:function(){o=!0}})[a]=function(){return this},Array.from(n,(function(){throw 2}))}catch{}t.exports=function(e,t){try{if(!t&&!o)return!1}catch{return!1}var i=!1;try{var n={};n[a]=function(){return{next:function(){return{done:i=!0}}}},e(n)}catch{}return i}})),bt=m(((e,t)=>{var i=st(),n=mt(),a=lt().CONSTRUCTOR;t.exports=a||!n((function(e){i.all(e).then(void 0,(function(){}))}))})),yt=m((()=>{var e=ve(),t=T(),i=U(),n=dt(),a=it(),o=ft();e({target:"Promise",stat:!0,forced:bt()},{all:function(e){var r=this,s=n.f(r),l=s.resolve,d=s.reject,u=a((function(){var n=i(r.resolve),a=[],s=0,u=1;o(e,(function(e){var i=s++,o=!1;u++,t(n,r,e).then((function(e){o||(o=!0,a[i]=e,--u||l(a))}),d)})),--u||l(a)}));return u.error&&d(u.value),s.promise}})})),_t=m((()=>{var e,t=ve(),i=K(),n=lt().CONSTRUCTOR,a=st(),o=B(),r=C(),s=Pe(),l=a&&a.prototype;t({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&r(a)&&(e=o("Promise").prototype.catch,l.catch!==e&&s(l,"catch",e,{unsafe:!0}))})),wt=m((()=>{var e=ve(),t=T(),i=U(),n=dt(),a=it(),o=ft();e({target:"Promise",stat:!0,forced:bt()},{race:function(e){var r=this,s=n.f(r),l=s.reject,d=a((function(){var n=i(r.resolve);o(e,(function(e){t(n,r,e).then(s.resolve,l)}))}));return d.error&&l(d.value),s.promise}})})),xt=m((()=>{var e=ve(),t=dt();e({target:"Promise",stat:!0,forced:lt().CONSTRUCTOR},{reject:function(e){var i=t.f(this);return(0,i.reject)(e),i.promise}})})),kt=m(((e,t)=>{var i=ue(),n=N(),a=dt();t.exports=function(e,t){if(i(e),n(t)&&t.constructor===e)return t;var o=a.f(e);return(0,o.resolve)(t),o.promise}})),$t=m((()=>{var e=ve(),t=B(),i=K(),n=st(),a=lt().CONSTRUCTOR,o=kt(),r=t("Promise"),s=i&&!a;e({target:"Promise",stat:!0,forced:i||a},{resolve:function(e){return o(s&&this===r?n:this,e)}})})),St=m((()=>{ut(),yt(),_t(),wt(),xt(),$t()})),Ct=m((()=>{var e,t=ve(),i=K(),n=st(),a=_(),o=B(),r=C(),s=Fe(),l=kt(),d=Pe(),u=n&&n.prototype;t({target:"Promise",proto:!0,real:!0,forced:!!n&&a((function(){u.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=s(this,o("Promise")),i=r(e);return this.then(i?function(i){return l(t,e()).then((function(){return i}))}:e,i?function(i){return l(t,e()).then((function(){throw i}))}:e)}}),!i&&r(n)&&(e=o("Promise").prototype.finally,u.finally!==e&&d(u,"finally",e,{unsafe:!0}))})),At=m(((e,t)=>{Ce(),St(),Ct();var i=xe();t.exports=i("Promise","finally")})),Tt=m(((e,t)=>{var i=At();t.exports=i})),Pt=m(((e,t)=>{var i=Tt();t.exports=i})),Et=m(((e,t)=>{var i=_();t.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))})),It=m(((e,t)=>{var i=J(),n=C(),a=X(),o=at(),r=Et(),s=o("IE_PROTO"),l=Object,d=l.prototype;t.exports=r?l.getPrototypeOf:function(e){var t=a(e);if(i(t,s))return t[s];var o=t.constructor;return n(o)&&t instanceof o?o.prototype:t instanceof l?d:null}})),Lt=m(((e,t)=>{var i=k(),n=J(),a=V(),o=ye().indexOf,r=ot(),s=i([].push);t.exports=function(e,t){var i,l=a(e),d=0,u=[];for(i in l)!n(r,i)&&n(l,i)&&s(u,i);for(;t.length>d;)n(l,i=t[d++])&&(~o(u,i)||s(u,i));return u}})),Mt=m(((e,t)=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]})),Vt=m(((e,t)=>{var i=Lt(),n=Mt();t.exports=Object.keys||function(e){return i(e,n)}})),Nt=m(((e,t)=>{var i=A(),n=_(),a=k(),o=It(),r=Vt(),s=V(),l=a(P().f),d=a([].push),u=i&&n((function(){var e=Object.create(null);return e[2]=2,!l(e,2)})),c=function(e){return function(t){for(var n,a=s(t),c=r(a),p=u&&null===o(a),v=c.length,h=0,g=[];v>h;)n=c[h++],(!i||(p?n in a:l(a,n)))&&d(g,e?[n,a[n]]:a[n]);return g}};t.exports={entries:c(!0),values:c(!1)}})),Rt=m((()=>{var e=ve(),t=Nt().entries;e({target:"Object",stat:!0},{entries:function(e){return t(e)}})})),Bt=m(((e,t)=>{Rt();var i=R();t.exports=i.Object.entries})),Ot=m(((e,t)=>{var i=Bt();t.exports=i})),Dt=m(((e,t)=>{var i=Ot();t.exports=i})),zt=m(((e,t)=>{var i=A(),n=J(),a=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,r=n(a,"name"),s=r&&"something"===function(){}.name,l=r&&(!i||i&&o(a,"name").configurable);t.exports={EXISTS:r,PROPER:s,CONFIGURABLE:l}})),qt=m((e=>{var t=A(),i=de(),n=ce(),a=ue(),o=V(),r=Vt();e.f=t&&!i?Object.defineProperties:function(e,t){a(e);for(var i,s=o(t),l=r(t),d=l.length,u=0;d>u;)n.f(e,i=l[u++],s[i]);return e}})),Ht=m(((e,t)=>{var i,n=ue(),a=qt(),o=Mt(),r=ot(),s=Ue(),l=ae(),d=at(),u="prototype",c="script",p=d("IE_PROTO"),v=function(){},h=function(e){return"<"+c+">"+e+"</"+c+">"},g=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{i=new ActiveXObject("htmlfile")}catch{}f=typeof document<"u"?document.domain&&i?g(i):function(){var e,t=l("iframe"),i="java"+c+":";return t.style.display="none",s.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F}():g(i);for(var e=o.length;e--;)delete f[u][o[e]];return f()};r[p]=!0,t.exports=Object.create||function(e,t){var i;return null!==e?(v[u]=n(e),i=new v,v[u]=null,i[p]=e):i=f(),void 0===t?i:a.f(i,t)}})),jt=m(((e,t)=>{var i,n,a,o=_(),r=C(),s=N(),l=Ht(),d=It(),u=Pe(),c=te(),p=K(),v=c("iterator"),h=!1;[].keys&&("next"in(a=[].keys())?(n=d(d(a)))!==Object.prototype&&(i=n):h=!0),!s(i)||o((function(){var e={};return i[v].call(e)!==e}))?i={}:p&&(i=l(i)),r(i[v])||u(i,v,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}})),Ft=m(((e,t)=>{var i=jt().IteratorPrototype,n=Ht(),a=E(),o=Be(),r=ct(),s=function(){return this};t.exports=function(e,t,l,d){var u=t+" Iterator";return e.prototype=n(i,{next:a(+!d,l)}),o(e,u,!1,!0),r[u]=s,e}})),Ut=m(((e,t)=>{var i=ve(),n=T(),a=K(),o=zt(),r=C(),s=Ft(),l=It(),d=Me(),u=Be(),c=pe(),p=Pe(),v=te(),h=ct(),g=jt(),f=o.PROPER,m=o.CONFIGURABLE,b=g.IteratorPrototype,y=g.BUGGY_SAFARI_ITERATORS,_=v("iterator"),w="keys",x="values",k="entries",$=function(){return this};t.exports=function(e,t,o,v,g,S,C){s(o,t,v);var A,T,P,E=function(e){if(e===g&&N)return N;if(!y&&e&&e in M)return M[e];switch(e){case w:case x:case k:return function(){return new o(this,e)}}return function(){return new o(this)}},I=t+" Iterator",L=!1,M=e.prototype,V=M[_]||M["@@iterator"]||g&&M[g],N=!y&&V||E(g),R="Array"===t&&M.entries||V;if(R&&((A=l(R.call(new e)))!==Object.prototype&&A.next&&(!a&&l(A)!==b&&(d?d(A,b):r(A[_])||p(A,_,$)),u(A,I,!0,!0),a&&(h[I]=$))),f&&g===x&&V&&V.name!==x&&(!a&&m?c(M,"name",x):(L=!0,N=function(){return n(V,this)})),g)if(T={values:E(x),keys:S?N:E(w),entries:E(k)},C)for(P in T)(y||L||!(P in M))&&p(M,P,T[P]);else i({target:t,proto:!0,forced:y||L},T);return(!a||C)&&M[_]!==N&&p(M,_,N,{name:g}),h[t]=N,T}})),Wt=m(((e,t)=>{t.exports=function(e,t){return{value:e,done:t}}})),Qt=m(((e,t)=>{var i=V(),n=_e(),a=ct(),o=rt(),r=ce().f,s=Ut(),l=Wt(),d=K(),u=A(),c="Array Iterator",p=o.set,v=o.getterFor(c);t.exports=s(Array,"Array",(function(e,t){p(this,{type:c,target:i(e),index:0,kind:t})}),(function(){var e=v(this),t=e.target,i=e.index++;if(!t||i>=t.length)return e.target=void 0,l(void 0,!0);switch(e.kind){case"keys":return l(i,!1);case"values":return l(t[i],!1)}return l([i,t[i]],!1)}),"values");var h=a.Arguments=a.Array;if(n("keys"),n("values"),n("entries"),!d&&u&&"values"!==h.name)try{r(h,"name",{value:"values"})}catch{}})),Kt=m(((e,t)=>{var i=A(),n=ce(),a=E();t.exports=function(e,t,o){i?n.f(e,t,a(0,o)):e[t]=o}})),Gt=m((()=>{var e=ve(),t=ft(),i=Kt();e({target:"Object",stat:!0},{fromEntries:function(e){var n={};return t(e,(function(e,t){i(n,e,t)}),{AS_ENTRIES:!0}),n}})})),Zt=m(((e,t)=>{Qt(),Gt();var i=R();t.exports=i.Object.fromEntries})),Yt=m(((e,t)=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}})),Xt=m((()=>{Qt();var e,t=Yt(),i=y(),n=Be(),a=ct();for(e in t)n(i[e],e),a[e]=a.Array})),Jt=m(((e,t)=>{var i=Zt();Xt(),t.exports=i})),ei=m(((e,t)=>{var i=Jt();t.exports=i})),ti=m(((e,t)=>{var i=Ne(),n=String;t.exports=function(e){if("Symbol"===i(e))throw new TypeError("Cannot convert a Symbol value to a string");return n(e)}})),ii=m(((e,t)=>{var i=ge(),n=ti(),a=M(),o=RangeError;t.exports=function(e){var t=n(a(this)),r="",s=i(e);if(s<0||s===1/0)throw new o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}})),ni=m(((e,t)=>{var i=k(),n=me(),a=ti(),o=ii(),r=M(),s=i(o),l=i("".slice),d=Math.ceil,u=function(e){return function(t,i,o){var u,c,p=a(r(t)),v=n(i),h=p.length,g=void 0===o?" ":a(o);return v<=h||""===g?p:((c=s(g,d((u=v-h)/g.length))).length>u&&(c=l(c,0,u)),e?p+c:c+p)}};t.exports={start:u(!1),end:u(!0)}})),ai=m(((e,t)=>{var i=D();t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(i)})),oi=m((()=>{var e=ve(),t=ni().start;e({target:"String",proto:!0,forced:ai()},{padStart:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),ri=m(((e,t)=>{oi();var i=xe();t.exports=i("String","padStart")})),si=m(((e,t)=>{var i=ri();t.exports=i})),li=m(((e,t)=>{var i=si();t.exports=i})),di=b(Se(),1),ui=((o=ui||{}).PROD="prod",o.VK_ALIAS="vk_alias",o.VIDEOTEST="videotest",o.TEST="test",o.OKCDN="okcdn",o.AUTO="auto",o),ci=((a=ci||{}).Q144P="mobile",a.Q240P="lowest",a.Q360P="low",a.Q480P="medium",a.Q720P="high",a.Q1080P="fullhd",a.Q1440P="quadhd",a.Q2160P="ultrahd",a.UNKNOWN="unknown",a),pi=((n=pi||{}).MP4="mp4",n.DASH="dash",n.DASH_SEP="dash_sep",n.ONDEMAND_DASH="ondemand_dash",n.HLS="hls",n.ONDEMAND_HLS="ondemand_hls",n.WEBM="webm",n.AV1="av1",n.ONDEMAND_DASH_LIVE="ondemand_dash_live",n.ONDEMAND_HLS_LIVE="ondemand_hls_live",n.WEBRTC="webrtc",n.UNKNOWN="unknown",n.RTMP="rtmp",n),vi=((r=vi||{}).HTTP1="http1",r.HTTP2="http2",r.HTTP3="http3",r),hi=((l=hi||{}).SLIDER="slider",l.DOUBLE_TAP="double_tap",l.TIME_CODE="time_code",l.EPISODE="episode",l.REWIND="rewind",l.LIVE="live",l.UNKNOWN="unknown",l),gi=((s=gi||{}).GRAPH_SHOW="iGraphShow",s.GRAPH_HIDE="iGraphHide",s.NEXT_AREA="iNextChapterArea",s.NEXT_BUTTON="iNextChapterBtn",s.WATCH_AGAIN="iWatchAgainBtn",s),fi={action_play:"ap",action_play_interactive:"api",first_bytes:"fb",player_ready:"pr",first_frame:"ff",seek:"sk",watch_coverage_record:"wr",watch_coverage_live:"wl",empty_buffer:"eb",action_stop:"as",close_at_empty_buffer:"cb",content_error:"er",player_interface_click:"pc",next_movie:"nm",track_switch:"ts",failover:"fo",quality:"qt"},mi={vsid:"si",isid:"is",vid:"vi",place:"pl",quality:"qt",cdn_host:"ch",stat_type:"st",param:"pm",vk_app_id:"va",track_code:"tc",connection_type:"cnt",connection_reused:"cr",cached_data:"cd",live:"lv",muted:"mu",mode:"mo",subtitles:"sb",failover:"fo",download_speed:"ds",manual_quality:"mq",ref_domain:"rd",direct_url:"du"},bi={unknown:"un",mobile:"m",lowest:"ls",low:"l",medium:"md",high:"h",fullhd:"f",quadhd:"q",ultrahd:"u"},yi={pip:"pi",fullscreen:"fs",external:"ex",prefetch:"pr",airplay:"ap",chromecast:"cc",invisible:"iv"},_i="1.0.76",wi={prod:"https://api.ok.ru",vk_alias:"https://api.mycdn.me",videotest:"https://videotestapi.ok.ru/api",test:"https://apitest.ok.ru",okcdn:"https://api.okcdn.ru",auto:""},xi={apiEnv:"vk_alias",apiKey:"CIOPGQJGDIHBABABA",requestRetryCount:1,firstFlushTime:5e3,flushDebounceTime:1e4,flushMaxWait:6e4,storageExpiration:1296e5,watchCoverageInterval:15e3,disabledOperations:["quality"],disabledCustomFields:[],shorten:!0,maxLoops:100,embedUrlParams:[],useBeacon:!0,synchronizeTime:!0,debugLog:!1,clearStorageAtUnload:!0,useVKComIsMobileLogic:!1,backoff:{start:1e3,factor:1.5,max:3e5,random:.1}};var ki=b(Pt(),1),$i=b(Dt(),1),Si=b(ei(),1),Ci=e=>{let{operation:t,custom:i}=e,n=(0,Si.default)((0,$i.default)(i).map((([e,t])=>{let i=t;return t&&("mode"===e?i=yi[t]??t:"quality"===e&&(i=bi[t]??t)),[mi[e]??e,i]})));return{...e,operation:fi[t]??t,custom:n}},Ai=/Mobile|mini|Fennec|Android|iP(ad|od|hone)|opera (mini|mobi)/i,Ti=class{async authorize(e){return this.authToken=e??await this.refreshAuthToken(),this._authorizeWithBackoff()}logBeacon(e){let t=this.createLogParams(e),i=this.sessionKey;i&&(this.params.apiTransport.sendBeacon("log.externalLog",t,i)||this.logRequest(e).catch((()=>{})))}async logRequest(e){let t="log.externalLog",i=this.createLogParams(e),n=this.sessionKey??await this._authorizeWithBackoff();if(!n)return;let a=async(e,o=this.params.config.requestRetryCount)=>{try{return await this.params.apiTransport.sendRequest(t,i,n)}catch(i){if(!i||!("error_code"in i))return void this.params.error$.next({id:"logRequestUnknown",category:d.ErrorCategory.NETWORK,message:`Unknown ${t} error`,thrown:i});let n=i?.error_code;switch(n){case 102:case 103:case 104:return this.authorized$.next(!1),this.sessionKey=await this._authorizeWithBackoff(),o>0?a(e,o-1):void 0;case 401:return this.authorized$.next(!1),this.authToken=await this.refreshAuthToken(),this.sessionKey=await this._authorizeWithBackoff(),o>0?a(e,o-1):void 0;default:return void this.params.error$.next({id:`LogRequest#${n}`,category:d.ErrorCategory.EXTERNAL_API,message:`${t} error`,data:i})}}};return a(e)}destroy(){window.clearTimeout(this.backoffTimeoutId),this.backoffTimeoutId=0}async refreshAuthToken(){if(this.params.refreshAuthToken)return this.refreshAuthTokenPromise||(this.refreshAuthTokenPromise=(0,ki.default)(this.params.refreshAuthToken(),(()=>{this.refreshAuthTokenPromise=void 0}))),this.refreshAuthTokenPromise}createLogParams(e){let t="WEB",i=!1;if(this.params.config.useVKComIsMobileLogic){let{appVersion:e}=window.navigator;i=Ai.test(e)}else this.params.mobile&&(i=!0);return i&&(t="M_WEB"),{collector:"ok.mobile.apps.video",data:JSON.stringify({application:`@vkontakte/videoplayer-statistics:${_i}`,platform:t,items:this.params.config.shorten?e.map(Ci):e})}}_authorizeWithBackoff(){if(!this.consequentAuthErrors)return this._authorize();let e=(0,d.getExponentialDelay)(this.consequentAuthErrors,this.params.config.backoff);return new Promise((t=>{this.backoffTimeoutId||(this.backoffTimeoutId=window.setTimeout((()=>{(0,ki.default)(this._authorize().then(t).catch((e=>this.params.error$.next({id:"AuthorizeBackoff",category:d.ErrorCategory.NETWORK,message:"Otherwise unhandled error in authorization",thrown:e}))),(()=>this.backoffTimeoutId=0))}),e))}))}async _authorize(){if(this.authorizePromise)return this.authorizePromise;this.sessionKey=void 0,this.authorized$.next(!1);let e={session_data:{version:2,device_id:this.params.deviceId,client_version:_i.split("-")[0],client_type:"SDK_JS"}};return void 0!==this.authToken&&(e.session_data.auth_token=this.authToken,e.session_data.version=3),this.authorizePromise=(0,ki.default)(this.params.apiTransport.sendRequest("auth.anonymLogin",e).then((e=>((!e||!e.session_key)&&this.params.error$.next({id:"AuthorizeFailed",category:d.ErrorCategory.EXTERNAL_API,message:"No session key",data:e}),this.sessionKey=e?.session_key??void 0,this.sessionKey))).catch((async e=>{this.sessionKey=void 0;let t=e?.error_code;if(401===t)return this.authToken=await this.refreshAuthToken(),this._authorizeWithBackoff();t?this.params.error$.next({id:`Authorize#${t}`,category:d.ErrorCategory.EXTERNAL_API,message:"authorize error",data:e}):this.params.error$.next({id:"AuthorizeUnknown",category:d.ErrorCategory.NETWORK,message:"authorize error",thrown:e})})),(()=>{this.authorizePromise=void 0,this.consequentAuthErrors=this.sessionKey?0:this.consequentAuthErrors+1,this.authorized$.next(void 0!==this.sessionKey)})),this.authorizePromise}constructor(e){this.consequentAuthErrors=0,this.authorized$=new d.ValueSubject(!1),this.params=e}},Pi=class{addEventListener(e,t,i){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:i})}removeEventListener(e,t){if(!(e in this.listeners))return;let i=this.listeners[e];for(let e=0,n=i.length;e<n;e++)if(i[e].callback===t)return void i.splice(e,1)}dispatchEvent(e){if(!(e.type in this.listeners))return;let t=this.listeners[e.type].slice();for(let i=0,n=t.length;i<n;i++){let n=t[i];try{n.callback.call(this,e)}catch(e){Promise.resolve().then((()=>{throw e}))}n.options&&n.options.once&&this.removeEventListener(e.type,n.callback)}return!e.defaultPrevented}constructor(){Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}},Ei=class extends Pi{toString(){return"[object AbortSignal]"}dispatchEvent(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),super.dispatchEvent(e)}constructor(){super(),this.listeners||Pi.call(this),Object.defineProperty(this,"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(this,"reason",{value:void 0,writable:!0,configurable:!0})}},Ii=class{abort(e){let t;try{t=new Event("abort")}catch{typeof document<"u"?document.createEvent?(t=document.createEvent("Event"),t.initEvent("abort",!1,!1)):(t=document.createEventObject(),t.type="abort"):t={type:"abort",bubbles:!1,cancelable:!1}}let i=e;if(void 0===i)if(typeof document>"u")i=new Error("This operation was aborted"),i.name="AbortError";else try{i=new DOMException("signal is aborted without reason")}catch{i=new Error("This operation was aborted"),i.name="AbortError"}this.signal.reason=i,this.signal.dispatchEvent(t)}toString(){return"[object AbortController]"}constructor(){Object.defineProperty(this,"signal",{value:new Ei,writable:!0,configurable:!0})}};function Li(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}typeof Symbol<"u"&&Symbol.toStringTag&&(Ii.prototype[Symbol.toStringTag]="AbortController",Ei.prototype[Symbol.toStringTag]="AbortSignal");var Mi=Li({fetch:window.fetch,Request:window.Request,AbortController:window.AbortController}),Vi=Mi?function(e){"function"==typeof e&&(e={fetch:e});let{fetch:t,Request:i=t.Request,AbortController:n,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a=!1}=e;if(!Li({fetch:t,Request:i,AbortController:n,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:t,Request:o};let o=i;(o&&!o.prototype.hasOwnProperty("signal")||a)&&(o=function(e,t){let n;t&&t.signal&&(n=t.signal,delete t.signal);let a=new i(e,t);return n&&Object.defineProperty(a,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),a},o.prototype=i.prototype);let r=t;return{fetch:(e,t)=>{let i=o&&o.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(i){let n;try{n=new DOMException("Aborted","AbortError")}catch{n=new Error("Aborted"),n.name="AbortError"}if(i.aborted)return Promise.reject(n);let a=new Promise(((e,t)=>{i.addEventListener("abort",(()=>t(n)),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([a,r(e,t)])}return r(e,t)},Request:o}}({fetch:window.fetch,Request:window.Request,AbortController:window.AbortController}):void 0,Ni=Mi?Vi.fetch:window.fetch,Ri=(Mi?Vi.Request:window.Request,Mi||window.AbortController,Mi||window.AbortSignal,b(Se(),1)),Bi=b(Dt(),1),Oi=class{async resolveApiBaseUrl(){if("auto"!==this.apiEnv||this.isApiBaseUrlFetched)return this.apiBaseUrl;try{let e=atob("aHR0cHM6Ly9kbnMuZ29vZ2xlL3Jlc29sdmU/bmFtZT12aWRlby5fZW5kcG9pbnQub2sucnUmdHlwZT1UWFQ="),t=(await(await Ni(e,{method:"GET",mode:"cors",cache:"no-cache"})).json())?.Answer[0]?.data;if(!t)throw new Error("Wrong DNS response");return t}catch(e){return this.params.error$.next({id:"OneStat:ApiTransport:resolveApiBaseUrl",category:d.ErrorCategory.NETWORK,message:"Unhandled resolve api base url error",thrown:e}),wi.vk_alias}finally{this.isApiBaseUrlFetched=!0}}sendBeacon(e,t,i){if(!window.Blob||!window.navigator.sendBeacon)return!1;let n=this._prepareQueryParams({method:e,queryParams:t,sessionKey:i}),a=new window.Blob([n.toString()],{type:"application/x-www-form-urlencoded"});try{return window.navigator.sendBeacon(`${this.apiBaseUrl}/fb.do`,a)}catch(i){this.params.error$.next({id:"OneStat:ApiTransport:sendBeacon",category:d.ErrorCategory.NETWORK,message:"Unhandled beacon error",thrown:i,data:{method:e,params:t}})}return!1}async sendRequest(e,t,i){let n=(0,d.now)(),a=a=>{a instanceof TypeError&&(0,Ri.default)(["Failed to fetch","NetworkError when attempting to fetch resource."],a.message)?this.params.error$.next({id:"Network",category:d.ErrorCategory.NETWORK,message:"Request failed",thrown:a}):this.params.error$.next({id:"OneStat:ApiTransport:sendRequest",category:d.ErrorCategory.NETWORK,message:"Unhandled request error",thrown:a,data:{method:e,params:t,sessionKey:i,time:(0,d.now)()-n}})};return this.apiBaseUrl=await this.resolveApiBaseUrl(),Ni(`${this.apiBaseUrl}/fb.do`,{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded"},body:this._prepareQueryParams({method:e,queryParams:t,sessionKey:i})}).then((e=>{let t=0===Number(e.headers.get("content-length")),i=new Date(e.headers.get("date")??"").getTime(),o=(0,d.now)()-n;if(isFinite(i)&&this.timeSynchronisation?.addServerTime(i,o),!t)return e.json().then((e=>Object.prototype.hasOwnProperty.call(e,"error_msg")?Promise.reject(e):e),a)}),a)}_prepareQueryParams(e){let t=new URLSearchParams({format:"JSON",method:e.method,application_key:this.apiKey});return void 0!==e.sessionKey&&t.append("session_key",e.sessionKey),(0,Bi.default)(e.queryParams).forEach((([e,i])=>t.append(e,"string"==typeof i?i:JSON.stringify(i)))),t}constructor(e){this.params=e,this.apiKey=e.config.apiKey,this.apiEnv=e.config.apiEnv,this.apiBaseUrl=wi[this.apiEnv],this.timeSynchronisation=e.timeSynchronisation,this.isApiBaseUrlFetched=!1}},Di=b(Se(),1),zi=b(Dt(),1),qi="onestat_events",Hi=e=>t=>t.timestamp+e>=(0,d.now)(),ji=class{safeFlush(){try{this.flush()}catch(e){this.error$.next({id:"LoggerError",category:d.ErrorCategory.WTF,message:e?String(e):"Unknown logger error",thrown:e})}}readFromStorage(){let e=d.safeStorage.get(qi);try{return e?JSON.parse(e):{}}catch{}return{}}addToStorage(e){if(!this.userSalt)return void this.unsaltedStorage.push(e);let t=this.readFromStorage(),i=(t[this.userSalt]??[]).filter(Hi(this.params.config.storageExpiration));d.safeStorage.set(qi,JSON.stringify({...t,[this.userSalt]:[...i,e]}))}getFromStorage(){return this.userSalt?(this.readFromStorage()[this.userSalt]??[]).filter(Hi(this.params.config.storageExpiration)):this.unsaltedStorage}markStorageSent(){if(!this.userSalt)return void(this.unsaltedStorage=[]);let e=this.readFromStorage();delete e[this.userSalt],d.safeStorage.set(qi,JSON.stringify(e))}housekeepStorage(){let e=this.readFromStorage();for(let[t,i]of(0,zi.default)(e)){let n=i.filter(Hi(this.params.config.storageExpiration));n.length?e[t]=n:delete e[t],this.loggerDebugLog({message:`${i.length} retrieved from storage, ${n.length} of them actual`})}d.safeStorage.set(qi,JSON.stringify(e))}log(e){this.addToStorage(e),!this.isPaused&&(this.isUrgent(e)?this.flush():this.lastVsid!==e.custom.vsid?this.firstFlush():this.debouncedFlush(),this.lastVsid=e.custom.vsid)}flush({wantBeacon:e,clearStorage:t}={wantBeacon:!1,clearStorage:!0}){let i=this.getFromStorage();0!==i.length&&(this.api.authorized$.getValue()?(e&&this.params.config.useBeacon?(this.loggerDebugLog({message:`Flushing ${i.length} events through beacon`}),this.api.logBeacon(i)):(this.loggerDebugLog({message:`Flushing ${i.length} events`}),this.api.logRequest(i)),t&&this.markStorageSent()):this.api.authorize(),this.firstFlush.cancel(),this.debouncedFlush.cancel())}pause(){this.isPaused=!0,this.debouncedFlush.cancel()}resume(){this.isPaused=!1,this.debouncedFlush()}destroy(){this.subscription.unsubscribe(),this.firstFlush.cancel(),this.debouncedFlush.cancel()}constructor(e){this.unsaltedStorage=[],this.isPaused=!1,this.isUrgent=e=>{let{operation:t}=e;return(0,Di.default)(["action_play","watch_coverage_record","watch_coverage_live"],t)},this.params=e,this.api=e.api,this.error$=e.error$,this.userSalt=e.userSalt,this.loggerDebugLog=e.debugLogger.createComponentLog("stat logger"),this.firstFlush=(0,d.debounceFn)((()=>this.safeFlush()),this.params.config.firstFlushTime,{maxWait:this.params.config.firstFlushTime});let t=d.safeStorage.isPersistent()?this.params.config.flushMaxWait:0;this.debouncedFlush=(0,d.debounceFn)((()=>this.safeFlush()),this.params.config.flushDebounceTime,{maxWait:t}),this.subscription=this.api.authorized$.subscribe((e=>{e&&this.debouncedFlush()})),this.housekeepStorage()}},Fi=e=>e&&{[u.HttpConnectionType.HTTP1]:"http1",[u.HttpConnectionType.HTTP2]:"http2",[u.HttpConnectionType.QUIC]:"http3"}[e],Ui=e=>{if(void 0!==e)switch(e){case u.VideoFormat.MPEG:return"mp4";case u.VideoFormat.DASH:case u.VideoFormat.DASH_LIVE:case u.VideoFormat.DASH_STREAMS:return"dash";case u.VideoFormat.DASH_SEP:return"dash_sep";case u.VideoFormat.DASH_ONDEMAND:return"ondemand_dash";case u.VideoFormat.DASH_WEBM:case u.VideoFormat.DASH_LIVE_WEBM:return"webm";case u.VideoFormat.DASH_WEBM_AV1:return"av1";case u.VideoFormat.DASH_LIVE_CMAF:return"ondemand_dash_live";case u.VideoFormat.HLS:case u.VideoFormat.HLS_LIVE:return"hls";case u.VideoFormat.HLS_ONDEMAND:return"ondemand_hls";case u.VideoFormat.HLS_LIVE_CMAF:return"ondemand_hls_live";case u.VideoFormat.WEB_RTC_LIVE:return"webrtc";default:return(0,d.assertNever)(e)}},Wi=e=>{if(void 0!==e)switch(e){case u.Surface.NONE:case u.Surface.INLINE:return;case u.Surface.FULLSCREEN:return"fullscreen";case u.Surface.SECOND_SCREEN:return"chromecast";case u.Surface.PIP:return"pip";case u.Surface.INVISIBLE:return"invisible";default:return(0,d.assertNever)(e)}},Qi=e=>{switch(e){case"slow-2g":case"2g":return"poor";case"3g":return"good";case"4g":return"excellent"}},Ki=class{getOffset(){return this.offset??0}setOffset(e){this.offset=e}now(){return Date.now()+(this.offset??0)}date(e=new Date){return e.setTime(e.getTime()+(this.offset??0)),e}addServerTime(e,t){let i=e-Date.now()-t/2;Math.abs(i)<1e3?this.offset=0:void 0===this.offset?this.offset=Math.round(i):this.offset=Math.round(.2*i+.8*this.offset)}constructor(e){this.offset=void 0,this.offset=e}},Gi=b(li(),1),Zi="_one-stat_",Yi=`${Zi}uuid`,Xi=`${Zi}deviceId`,Ji=()=>{let e=new d.Subscription;return{subscription:e,subscribe:(t,i)=>{t&&e.add(t.subscribe(i))}}},en=class{updateContext(e){this.statContext={...this.statContext,...e}}attachTo(e){let t,i=new d.Subscription,n=(e,t)=>i.add(e.subscribe(t));n(e.events.willStart$,(()=>{let t=e.info.position$.getValue();this.logActionPlay({position:t}),this.statContext.projectId&&this.logActionPlayInteractive()})),n(e.events.looped$,(()=>{this.resetViewSession(),++this.loopCounter>this.config.maxLoops&&(this.disabled=!0),this.logActionPlay({position:e.info.position$.getValue()})})),n(e.events.seeked$,(()=>{this.logSeek({action:this.seekAction$.getValue(),time:e.info.position$.getValue()}),this.seekAction$.next("unknown")})),n(e.events.paused$,(()=>{this.logPause({position:e.info.position$.getValue()})})),n(e.events.willResume$,(()=>{this.logPlay()})),n(e.events.started$,(()=>{this.statContext.clip&&this.logWatchCoverageRecord({start:0,end:0})})),n(e.events.playing$,(()=>{this.logPlaying()})),n(((e,t)=>new d.Observable((i=>{let n,a=new d.Subscription,o=(0,d.merge)((0,d.fromEvent)(window,"beforeunload"),e.events.willDestruct$),r=new d.ValueSubject(void 0);a.add(e.info.isLive$.pipe((0,d.filterChanged)()).subscribe((t=>{n&&(n.unsubscribe(),r.next(void 0)),n=t?e.info.liveTime$.pipe((0,d.map)((e=>e&&e/1e3))).subscribe(r):e.info.position$.subscribe(r),a.add(n)})));let{playing$:s,paused$:l}=e.events,c=e.events.willSeek$.pipe((0,d.filter)((()=>e.info.playbackState$.getValue()===u.PlaybackState.PLAYING))),p=e.events.seeked$.pipe((0,d.filter)((()=>e.info.playbackState$.getValue()===u.PlaybackState.PLAYING))),v=!1,h=new d.Subject;a.add(c.subscribe((()=>{v||h.next(),v=!0}))),a.add(p.subscribe((()=>v=!1)));let g,f=new d.Subject,m=new d.Subject,b=(0,d.merge)(s,p,f),y=(0,d.merge)(l,h,o,e.events.looped$,m),_=()=>{m.next(),f.next()};if(a.add(b.subscribe((()=>g=r.getValue()))),a.add(y.subscribe((()=>{let e=r.getValue();(0,d.isNullable)(g)||g===e||(0,d.isNullable)(e)||(i.next({from:g,to:e}),g=void 0)}))),t.forceInterval&&isFinite(t.forceInterval)){let e=0;a.add(b.subscribe((()=>e=window.setTimeout(_,t.forceInterval)))),a.add(y.subscribe((()=>window.clearTimeout(e))))}return a})))(e,{forceInterval:this.config.watchCoverageInterval}),(t=>{let i=e.info.isLive$.getValue(),n=e.info.atLiveEdge$.getValue(),a={start:parseFloat(t.from.toFixed(3)),end:parseFloat(t.to.toFixed(3))};if(n){let t=e.info.liveLatency$.getValue()??0,i=e.info.currentBuffer$.getValue()?.end??0,n=e.info.liveBufferTime$.getValue()??0,o=Math.round(1e3*(t-(i-n))),r=Math.round(1e3*t);o&&r&&(a.latency=o,a.bufferLatency=r)}i?this.logWatchCoverageLive(a):this.logWatchCoverageRecord(a)})),n(e.info.isStalled$,(e=>{e?t=(0,d.now)():((0,d.isNonNullable)(t)&&this.logEmptyBuffer({duration:(0,d.now)()-t}),t=void 0)}));let a=!1;i.add(e.events.fatalError$.pipe((0,d.once)()).subscribe((()=>a=!0))),n(e.events.willStop$,(()=>{if(e.info.isStalled$.getValue()){let e=(0,d.isNonNullable)(t)?(0,d.now)()-t:void 0;this.logCloseAtEmptyBuffer({duration:e??0}),t=void 0}else a||this.logActionStop()})),n(e.events.managedError$,(({id:e})=>{this.logError({fatal:!1,errorType:e})})),n(e.events.fatalError$,(({id:e})=>{this.logError({fatal:!0,errorType:e})}));let o,r,s,l,c,p=!1;return n(e.events.firstBytes$,(e=>{o=(0,d.now)(),this.logFirstBytes({time:e})})),n(e.events.willStart$,(()=>r=(0,d.now)())),n(e.info.currentBuffer$,(e=>{!p&&e&&e.end-e.start>0&&(0,d.isNonNullable)(o)&&(this.logPlayerReady({duration:(0,d.now)()-o}),p=!0)})),n(e.events.firstFrame$,(()=>{(0,d.isNonNullable)(o)&&!p&&(this.logPlayerReady({duration:(0,d.now)()-o}),p=!0),(0,d.isNonNullable)(r)&&this.logFirstFrame({time:(0,d.now)()-r})})),n(e.info.currentVideoStream$,(e=>{e&&(s&&e.id!==s&&this.logTrackSwitch(e),s=e.id)})),n(e.info.currentAudioStream$,(e=>{e&&(l&&e.id!==l&&this.logTrackSwitch(e),l=e.id)})),n(e.info.atLiveEdge$,(e=>this.updateContext({liveEdge:e}))),n((0,d.combine)({muted:e.info.muted$,volume:e.info.volume$}),(({muted:e,volume:t})=>this.updateContext({audible:!e&&t>0}))),n(e.info.currentQuality$,(e=>{let t=(i=e)&&{[u.VideoQuality.INVARIANT]:"unknown",[u.VideoQuality.Q_144P]:"mobile",[u.VideoQuality.Q_240P]:"lowest",[u.VideoQuality.Q_360P]:"low",[u.VideoQuality.Q_480P]:"medium",[u.VideoQuality.Q_576P]:"unknown",[u.VideoQuality.Q_720P]:"high",[u.VideoQuality.Q_1080P]:"fullhd",[u.VideoQuality.Q_1440P]:"quadhd",[u.VideoQuality.Q_2160P]:"ultrahd",[u.VideoQuality.Q_4320P]:"unknown"}[i];var i;this.updateContext({quality:t}),t&&this.logQuality(t)})),n(e.info.isAutoQualityEnabled$,(e=>this.updateContext({autoQuality:e}))),n(e.info.currentFormat$,(e=>this.updateContext({contentType:Ui(e)}))),n(e.info.currentPlaybackRate$,(e=>this.updateContext({rate:e}))),n(e.info.is3DVideo$,(e=>this.updateContext({is3d:e}))),n(e.info.hostname$,(e=>{let t=void 0!==c&&c!==e;this.updateContext({cdnHostname:e,failover:t}),t&&this.logFailover(e),c=e})),n(e.info.throughputEstimation$,(e=>this.updateContext({downloadSpeed:e}))),n(e.info.httpConnectionType$,(e=>{this.statContext.firstConnectionType||this.updateContext({firstConnectionType:Fi(e)}),this.updateContext({connectionType:Fi(e)})})),n(e.info.httpConnectionReused$,(e=>{(0,d.isNullable)(this.statContext.firstConnectionReused)&&this.updateContext({firstConnectionReused:e}),this.updateContext({connectionReused:e})})),n(e.info.surface$,(e=>this.updateContext({mode:Wi(e)}))),n((0,d.combine)({current:e.info.currentTextTrack$,available:e.info.availableTextTracks$}),(({current:e,available:t})=>{let i=t.find((({id:t})=>t===e)),n=i&&(i.isAuto?`${i.language}_auto`:i.language);this.updateContext({subtitles:n?.split(".")[0]})})),this.player=e,this.uiEvents&&this.attachToUi(this.uiEvents),this.resubscribeBeforeunload(),this.subscription.add(i),i}attachToUi(e){this.uiEvents=e;let{subscription:t,subscribe:i}=Ji();return this.player&&(i(e.actionRewind$,(()=>{this.player&&(this.resetViewSession(),this.logActionPlay({position:this.player.info.position$.getValue()}))})),i(e.actionSeek$,this.seekAction$),i(e.inPiP$,(e=>{let t=e?"pip":Wi(this.player?.info.surface$.getValue());this.updateContext({mode:t})})),i(e.inFullscreen$,(e=>{let t=e?"fullscreen":Wi(this.player?.info.surface$.getValue());this.updateContext({mode:t})})),i(e.actionSetSubtitle$,(e=>this.updateContext({subtitles:e.split(".")[0]}))),i(e.nextMovie$,(e=>this.logNextMovie(e))),this.resubscribeBeforeunload(),this.subscription.add(t)),t}attachToAds(e){let{subscription:t,subscribe:i}=Ji();return i(e.slotRequested$,(()=>this.logAdSlotRequest())),i(e.started$,(e=>this.logAdStarted(e))),i(e.paused$,(()=>this.logAdPaused())),i(e.resumed$,(()=>this.logAdResumed())),i(e.ended$,(()=>this.logAdEnded())),i(e.skipped$,(()=>this.logAdSkipped())),i(e.clicked$,(()=>this.logAdClicked())),i(e.error$,(e=>this.logError({errorType:e,fatal:!1}))),this.resubscribeBeforeunload(),this.subscription.add(t),t}attachToInteractive(e){let{subscription:t,subscribe:i}=Ji();return i(e.click$,(e=>this.logInterfaceClick(e))),i(e.nextMovie$,(e=>this.logNextMovie(e))),this.resubscribeBeforeunload(),this.subscription.add(t),t}authorize(e){return this.api.authorize(e)}pause(){this.logger.pause(),this.oneStatDebugLog({message:"paused"})}resume(){this.logger.resume(),this.oneStatDebugLog({message:"resumed"})}destroy(){this.logger.flush(),this.subscription.unsubscribe(),this.api.destroy(),this.logger.destroy()}resetViewSession(){this.oneStatDebugLog({message:"VSID reset"}),this.vsid$.next((0,Gi.default)(Math.floor(Math.random()*2**32).toString(36),7,"0"))}getDeviceId(){return this.deviceId}setFieldBlacklist(){}logInited(){}logReady(e){this.log({operation:"player_ready",param:String(e.time)})}logStarted(...e){this.logActionPlay(...e)}logPlay(){this.log({operation:"play_toggle"})}logPlaying(){this.log({operation:"playing"})}logPause(e){this.log({operation:"pause",param:String(Math.round(e.position))})}logSeek(e){this.log({operation:"seek",param:e.action,time:e.time})}logFirstBytes(e){this.log({operation:"first_bytes",param:String(e.time)})}logFirstFrame(e){this.log({operation:"first_frame",param:String(e.time)})}logError(e){this.log({operation:"content_error",param:`${e.fatal?"fatal":"recoverable"}_${e.errorType}`})}logWatchCoverageRecord(e){this.log({operation:"watch_coverage_record",param:`${e.start}-${e.end}`},{in_history:this.statContext.inHistory?1:void 0})}logWatchCoverageLive(e){let t=this.timeSynchronisation?.getOffset()??0,i=e.start+t,n=e.end+t;this.log({operation:"watch_coverage_live",param:`${i}-${n}`},{in_history:this.statContext.inHistory?1:void 0,latency:e.latency,buffer_latency:e.bufferLatency})}logEmptyBuffer(e){this.log({operation:"empty_buffer",param:String(e.duration)})}logDownloadSpeed(){}logAdSlotRequest(){this.log({operation:"adv",param:"slot_request"})}logAdStarted(e){this.log({operation:"adv",param:e})}logAdPaused(){this.log({operation:"adv",param:"pause"})}logAdResumed(){this.log({operation:"adv",param:"resume"})}logAdEnded(){this.log({operation:"adv",param:"ended"})}logAdSkipped(){this.log({operation:"adv",param:"skip"})}logAdClicked(){this.log({operation:"adv",param:"click"})}logInterfaceClick(e){this.log({operation:"player_interface_click",param:e})}logNextMovie(e){this.log({operation:"next_movie",param:String(e)})}subscribe(){this.resubscribeBeforeunload();let e=window.navigator.connection;e&&"onchange"in e&&"effectiveType"in e&&this.subscription.add((0,d.merge)((0,d.fromEvent)(e,"change"),(0,d.observableFrom)(["init"])).subscribe((()=>this.updateContext({network:Qi(e.effectiveType)})))),this.config.debugLog&&this.debugLogger.log$.subscribe((e=>{console.debug("%c stat ","background:#fa6470;",`component: ${e.component}.`,e.message)}))}resubscribeBeforeunload(){this.beforeunloadSubscription?.unsubscribe(),this.beforeunloadSubscription=(0,d.fromEvent)(window,"beforeunload").subscribe((()=>this.logger.flush({wantBeacon:!0,clearStorage:this.config.clearStorageAtUnload}))),this.subscription.add(this.beforeunloadSubscription)}logPlayerReady(e){this.log({operation:"player_ready",param:String(Math.round(e.duration))})}logActionPlay(e){this.log({operation:"action_play",param:String(Math.round(e.position))})}logActionPlayInteractive(){this.statContext.projectId&&this.log({operation:"action_play_interactive",param:String(this.statContext.movieId)},{vid:this.statContext.projectId})}logFailover(e){this.log({operation:"failover",param:e})}logCloseAtEmptyBuffer(e){this.log({operation:"close_at_empty_buffer",param:String(Math.round(e.duration))})}logActionStop(){this.log({operation:"action_stop"})}logTrackSwitch(e){this.log({operation:"track_switch",param:e.id})}logQuality(e){this.log({operation:"quality",param:e})}log(e,t={}){if(this.disabled)return void this.oneStatDebugLog({message:`operation ${e.operation} but statistics is disabled`});if((0,di.default)(this.config.disabledOperations,e.operation))return void this.oneStatDebugLog({message:`operation ${e.operation} but it is disabled`});this.oneStatDebugLog({message:`operation ${e.operation} ${e.param}`});let i=this.createLogItem(e,t);this.logger.log(i)}createLogItem({operation:e,param:t,time:i},n={}){let a=this.timeSynchronisation?.now()??(0,d.now)(),o=this.vsid$.getValue();(0,d.assertNonNullable)(o);let r,s,l=this.isid$.getValue(),u="empty_buffer"===e||"close_at_empty_buffer"===e?this.statContext.connectionType:this.statContext.firstConnectionType,c=this.statContext.firstConnectionReused;if(this.isEmbed||"embed"===this.statContext.place){r=this.embedParent;let e=[...new URLSearchParams(location.search).entries()].filter((([e,t])=>(0,di.default)(this.config.embedUrlParams,e)));s=new URLSearchParams(e).toString()}else"direct"===this.statContext.place&&(this.statContext.refDomain?r=(0,d.createURL)(this.statContext.refDomain)?.hostname??this.statContext.refDomain:document.referrer&&(r=(0,d.createURL)(document.referrer)?.hostname??document.referrer),s=location.href.substring(0,1024));let p={vsid:o,isid:l,vid:this.statContext.movieId,uid:this.zenUid$.getValue(),ct:this.statContext.contentType,place:this.isEmbed?"embed":this.statContext.place,quality:this.statContext.quality,cdn_host:this.statContext.cdnHostname,stat_type:!0===this.statContext.autoplay?"auto":!1===this.statContext.autoplay?"":void 0,param:t,vk_app_id:this.statContext.vkAppId,track_code:this.statContext.trackCode,connection_type:u,connection_reused:!0===c?1:!1===c?0:void 0,cached_data:!0===this.statContext.cached?1:!1===this.statContext.cached?0:void 0,live:this.statContext.liveEdge?1:void 0,muted:!1===this.statContext.audible?1:void 0,mode:this.statContext.mode,subtitles:this.statContext.subtitles,download_speed:this.statContext.downloadSpeed,manual_quality:this.statContext.autoQuality?void 0:1,ref_domain:r,direct_url:s,rate:1===this.statContext.rate||(0,d.isNullable)(this.statContext.rate)?void 0:this.statContext.rate.toFixed(2),view_360:this.statContext.is3d?1:void 0,aid:this.statContext.albumId,vk_playlist_id:this.statContext.vkPlaylistId,...n};for(let e of this.config.disabledCustomFields)delete p[e];return{operation:e,type:1,time:i,network:this.statContext.network,timestamp:a,custom:p}}constructor(e,t){var i;this.subscription=new d.Subscription,this.debugLogger=new d.Logger,this.oneStatDebugLog=this.debugLogger.createComponentLog("onestat"),this.loopCounter=0,this.disabled=!1,this.vsid$=new d.ValueSubject(void 0),this.isid$=new d.ValueSubject(void 0),this.zenUid$=new d.ValueSubject(void 0),this.seekAction$=new d.ValueSubject("unknown"),this.statContext=e,this.config=(i=t.config??{},(0,d.fillWithDefault)(i,xi)),(0,d.isNonNullable)(t.apiEnv)&&(this.config.apiEnv=t.apiEnv),this.config.synchronizeTime&&(this.timeSynchronisation=new Ki);let n=new d.Subject;this.experimental={error$:n},d.safeStorage.get(Yi)&&d.safeStorage.remove(Yi);let a=d.safeStorage.get(Xi);this.statContext.deviceId?this.deviceId=this.statContext.deviceId:a?this.deviceId=a:(this.deviceId=function(){let e,t,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),a=0;for(t=0;t<36;t++)8===t||13===t||18===t||23===t?n[t]="-":14===t?n[t]="4":(a<=2&&(a=33554432+16777216*Math.random()|0),e=15&a,a>>=4,n[t]=i[19===t?3&e|8:e]);return n.join("")}(),d.safeStorage.set(Xi,this.deviceId)),this.resetViewSession(),t.useIsid&&this.isid$.next(t.isid??(0,Gi.default)(Math.floor(Math.random()*2**64).toString(36),13,"0")),this.zenUid$.next(t.zenUid);let o=new Oi({config:this.config,error$:n,timeSynchronisation:this.timeSynchronisation});this.api=new Ti({config:this.config,apiTransport:o,refreshAuthToken:t.refreshAuthToken,mobile:this.statContext.mobile??!1,deviceId:this.deviceId,error$:n}),this.logger=new ji({config:this.config,debugLogger:this.debugLogger,api:this.api,error$:n,userSalt:t.userSalt});let{isEmbed:r,topOrigin:s}=(0,d.detectEmbed)();this.isEmbed=r,this.embedParent=s?new URL(s).hostname:void 0,this.subscribe()}}},317929:(e,t,i)=>{i.d(t,{ControlButtonType:()=>vu,VERSION:()=>Ba,VideoFormat:()=>h.VideoFormat,registerPlayerWebComponent:()=>uf});var n,a,o,r,s,l,d,u,c,p=i(434518),v=i(763812),h=i(773439),g=i(819705),f=i(89923),m="[!",b={},y=Symbol(),_=Symbol("filename"),w=(Symbol("hmr"),globalThis.process?.env?.NODE_ENV);w||console.warn("If bundling, conditions should include development or production. If not bundling, conditions or NODE_ENV should include development or production. See https://www.npmjs.com/package/esm-env for tips on setting conditions in popular bundlers and runtimes.");var x=w&&!w.toLowerCase().includes("prod"),k=Symbol("$state"),$=Symbol("$state metadata"),S=Symbol("legacy props"),C=Symbol(""),A=Array.isArray,T=Array.prototype.indexOf,P=Array.from,E=Object.keys,I=Object.defineProperty,L=Object.getOwnPropertyDescriptor,M=Object.getOwnPropertyDescriptors,V=Object.prototype,N=Array.prototype,R=Object.getPrototypeOf;function B(e){return"function"==typeof e}var O=()=>{};function D(e){return e()}function z(e){for(var t=0;t<e.length;t++)e[t]()}var q=[],H=[];function j(){var e=q;q=[],z(e)}function F(e){0===q.length&&queueMicrotask(j),q.push(e)}function U(){var e;q.length>0&&j(),H.length>0&&(e=H,H=[],z(e))}function W(e){return e===this.v}function Q(e,t){return e!=e?t==t:e!==t||null!==e&&"object"==typeof e||"function"==typeof e}function K(e,t){return e!==t}function G(e){return!Q(e,this.v)}var Z=!1;var Y=new Set,X=new Map;function J(e){Y=e}function ee(e,t){var i={f:0,v:e,reactions:null,equals:W,rv:0,wv:0};return i}function te(e){return function(e){return null!==Ge&&!Ze&&!!(2&Ge.f)&&(null===et?function(e){et=e}([e]):et.push(e)),e}(ee(e))}function ie(e,t=!1){var i;let n=ee(e);return t||(n.equals=G),Z&&null!==si&&null!==si.l&&((i=si.l).s??(i.s=[])).push(n),n}function ne(e,t){return null!==Ge&&!Ze&&fi()&&!!(18&Ge.f)&&(null===et||!et.includes(e))&&function(){if(x){let e=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),ae(e,t)}function ae(e,t){if(!e.equals(t)){var i=e.v;if(Ue?X.set(e,t):X.set(e,i),e.v=t,e.wv=lt(),oe(e,2048),fi()&&null!==Xe&&!!(1024&Xe.f)&&!(96&Xe.f)&&(null===nt?function(e){nt=e}([e]):nt.push(e)),x&&Y.size>0){let e=Array.from(Y);for(let t of e)!!(1024&t.f)&&Pt(t,4096),dt(t)&&mt(t);Y.clear()}}return t}function oe(e,t){var i=e.reactions;if(null!==i)for(var n=fi(),a=i.length,o=0;o<a;o++){var r=i[o],s=r.f;if(!(2048&s)&&(n||r!==Xe)){if(x&&262144&s){Y.add(r);continue}Pt(r,t),1280&s&&(2&s?oe(r,4096):xt(r))}}}function re(e){var t=2050,i=null!==Ge&&2&Ge.f?Ge:null;null===Xe||null!==i&&256&i.f?t|=256:Xe.f|=1048576;let n={ctx:si,deps:null,effects:null,equals:W,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:i??Xe};return n}function se(e){let t=re(e);return t.equals=G,t}function le(e){var t=e.effects;if(null!==t){e.effects=null;for(var i=0;i<t.length;i+=1)Ht(t[i])}}var de=[];function ue(e){var t,i=Xe;if(Je(function(e){for(var t=e.parent;null!==t;){if(!(2&t.f))return t;t=t.parent}return null}(e)),x){let n=Y;J(new Set);try{de.includes(e)&&function(){if(x){let e=new Error("derived_references_self\nA derived value cannot reference itself recursively\nhttps://svelte.dev/e/derived_references_self");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/derived_references_self")}(),de.push(e),le(e),t=ht(e)}finally{Je(i),J(n),de.pop()}}else try{le(e),t=ht(e)}finally{Je(i)}return t}function ce(e){var t=ue(e);Pt(e,(rt||256&e.f)&&null!==e.deps?4096:1024),e.equals(t)||(e.v=t,e.wv=lt())}var pe="font-weight: bold",ve="font-weight: normal";function he(e){x?console.warn(`%c[svelte] hydration_mismatch\n%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}\nhttps://svelte.dev/e/hydration_mismatch`,pe,ve):console.warn("https://svelte.dev/e/hydration_mismatch")}function ge(e,t){x?console.warn(`%c[svelte] ownership_invalid_mutation\n%c${e?`${e} mutated a value owned by ${t}. This is strongly discouraged. Consider passing values to child components with \`bind:\`, or use a callback instead`:"Mutating a value outside the component that created it is strongly discouraged. Consider passing values to child components with `bind:`, or use a callback instead"}\nhttps://svelte.dev/e/ownership_invalid_mutation`,pe,ve):console.warn("https://svelte.dev/e/ownership_invalid_mutation")}function fe(e){x?console.warn(`%c[svelte] state_proxy_equality_mismatch\n%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results\nhttps://svelte.dev/e/state_proxy_equality_mismatch`,pe,ve):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var me,be,ye,_e,we,xe=!1;function ke(e){xe=e}function $e(e){if(null===e)throw he(),b;return me=e}function Se(){return $e(Ne(me))}function Ce(e){if(xe){if(null!==Ne(me))throw he(),b;me=e}}function Ae(e=1){if(xe){for(var t=e,i=me;t--;)i=Ne(i);me=i}}function Te(){for(var e=0,t=me;;){if(8===t.nodeType){var i=t.data;if("]"===i){if(0===e)return t;e-=1}else("["===i||i===m)&&(e+=1)}var n=Ne(t);t.remove(),t=n}}function Pe(e,t=null,i){if("object"!=typeof e||null===e||k in e)return e;let n=R(e);if(n!==V&&n!==N)return e;var a,o=new Map,r=A(e),s=ee(0);if(r&&o.set("length",ee(e.length)),x)if(a={parent:t,owners:null},i){let e=i.v?.[$]?.owners;a.owners=e?new Set(e):null}else a.owners=null===t?null!==si?new Set([si.function]):null:new Set;return new Proxy(e,{defineProperty(e,t,i){(!("value"in i)||!1===i.configurable||!1===i.enumerable||!1===i.writable)&&function(){if(x){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var n=o.get(t);return void 0===n?(n=ee(i.value),o.set(t,n)):ne(n,Pe(i.value,a)),!0},deleteProperty(e,t){var i=o.get(t);if(void 0===i)t in e&&o.set(t,ee(y));else{if(r&&"string"==typeof t){var n=o.get("length"),a=Number(t);Number.isInteger(a)&&a<n.v&&ne(n,a)}ne(i,y),Ee(s)}return!0},get(t,i,n){if(x&&i===$)return a;if(i===k)return e;var r=o.get(i),s=i in t;if(void 0===r&&(!s||L(t,i)?.writable)&&(r=ee(Pe(s?t[i]:y,a)),o.set(i,r)),void 0!==r){var l=Ct(r);if(x){var d=l?.[$];d&&d?.parent!==a&&ti(a,d)}return l===y?void 0:l}return Reflect.get(t,i,n)},getOwnPropertyDescriptor(e,t){var i=Reflect.getOwnPropertyDescriptor(e,t);if(i&&"value"in i){var n=o.get(t);n&&(i.value=Ct(n))}else if(void 0===i){var a=o.get(t),r=a?.v;if(void 0!==a&&r!==y)return{enumerable:!0,configurable:!0,value:r,writable:!0}}return i},has(e,t){if(x&&t===$||t===k)return!0;var i=o.get(t),n=void 0!==i&&i.v!==y||Reflect.has(e,t);if((void 0!==i||null!==Xe&&(!n||L(e,t)?.writable))&&(void 0===i&&(i=ee(n?Pe(e[t],a):y),o.set(t,i)),Ct(i)===y))return!1;return n},set(e,t,i,n){var l=o.get(t),d=t in e;if(r&&"length"===t)for(var u=i;u<l.v;u+=1){var c=o.get(u+"");void 0!==c?ne(c,y):u in e&&(c=ee(y),o.set(u+"",c))}if(void 0===l?(!d||L(e,t)?.writable)&&(ne(l=ee(void 0),Pe(i,a)),o.set(t,l)):(d=l.v!==y,ne(l,Pe(i,a))),x){var p=i?.[$];p&&p?.parent!==a&&ti(a,p),function(e){if(oi)return;let t=Xt();if(t&&!ni(e,t)){let i=ai(e);i[_]!==t[_]?ge(t[_],i[_]):ge()}}(a)}var v=Reflect.getOwnPropertyDescriptor(e,t);if(v?.set&&v.set.call(n,i),!d){if(r&&"string"==typeof t){var h=o.get("length"),g=Number(t);Number.isInteger(g)&&g>=h.v&&ne(h,g+1)}Ee(s)}return!0},ownKeys(e){Ct(s);var t=Reflect.ownKeys(e).filter((e=>{var t=o.get(e);return void 0===t||t.v!==y}));for(var[i,n]of o)n.v!==y&&!(i in e)&&t.push(i);return t},setPrototypeOf(){!function(){if(x){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function Ee(e,t=1){ne(e,e.v+t)}function Ie(e){return null!==e&&"object"==typeof e&&k in e?e[k]:e}function Le(){if(void 0===be){be=window,document,ye=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;_e=L(t,"firstChild").get,we=L(t,"nextSibling").get,e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0,Text.prototype.__t=void 0,x&&(e.__svelte_meta=null,function(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:i,lastIndexOf:n,includes:a}=e;e.indexOf=function(e,t){let n=i.call(this,e,t);if(-1===n)for(let i=t??0;i<this.length;i+=1)if(Ie(this[i])===e){fe("array.indexOf(...)");break}return n},e.lastIndexOf=function(e,t){let i=n.call(this,e,t??this.length-1);if(-1===i)for(let i=0;i<=(t??this.length-1);i+=1)if(Ie(this[i])===e){fe("array.lastIndexOf(...)");break}return i},e.includes=function(e,t){let i=a.call(this,e,t);if(!i)for(let t=0;t<this.length;t+=1)if(Ie(this[t])===e){fe("array.includes(...)");break}return i},Array.__svelte_cleanup=()=>{e.indexOf=i,e.lastIndexOf=n,e.includes=a}}())}}function Me(e=""){return document.createTextNode(e)}function Ve(e){return _e.call(e)}function Ne(e){return we.call(e)}function Re(e,t){if(!xe)return Ve(e);var i=Ve(me);if(null===i)i=me.appendChild(Me());else if(t&&3!==i.nodeType){var n=Me();return i?.before(n),$e(n),n}return $e(i),i}function Be(e,t){if(!xe){var i=Ve(e);return 8===i.nodeType&&""===i.data?Ne(i):i}if(t&&3!==me?.nodeType){var n=Me();return me?.before(n),$e(n),n}return me}function Oe(e,t=1,i=!1){let n=xe?me:e;for(var a;t--;)a=n,n=Ne(n);if(!xe)return n;var o=n?.nodeType;if(i&&3!==o){var r=Me();return null===n?a?.after(r):n.before(r),$e(r),r}return $e(n),n}function De(e){e.textContent=""}var ze=new WeakSet,qe=!1,He=!1,je=null,Fe=!1,Ue=!1;function We(e){Ue=e}var Qe=[],Ke=[],Ge=null,Ze=!1;function Ye(e){Ge=e}var Xe=null;function Je(e){Xe=e}var et=null;var tt=null,it=0,nt=null;var at=1,ot=0,rt=!1,st=null;function lt(){return++at}function dt(e){var t=e.f;if(2048&t)return!0;if(4096&t){var i=e.deps,n=!!(256&t);if(null!==i){var a,o,r=!!(512&t),s=n&&null!==Xe&&!rt,l=i.length;if(r||s){var d,u=e,c=u.parent;for(a=0;a<l;a++)o=i[a],(r||!o?.reactions?.includes(u))&&((d=o).reactions??(d.reactions=[])).push(u);r&&(u.f^=512),s&&null!==c&&!(256&c.f)&&(u.f^=256)}for(a=0;a<l;a++)if(dt(o=i[a])&&ce(o),o.wv>e.wv)return!0}(!n||null!==Xe&&!rt)&&Pt(e,1024)}return!1}function ut(e,t){for(var i=t;null!==i;){if(128&i.f)try{return void i.fn(e)}catch{i.f^=128}i=i.parent}throw qe=!1,e}function ct(e){return!(16384&e.f||null!==e.parent&&128&e.parent.f)}function pt(e,t,i,n){if(qe){if(null===i&&(qe=!1),ct(t))throw e;return}if(null!==i&&(qe=!0),!x||null===n||!(e instanceof Error)||ze.has(e))return void ut(e,t);ze.add(e);let a=[],o=t.fn?.name;o&&a.push(o);let r=n;for(;null!==r;){if(x){var s=r.function?.[_];if(s){let e=s.split("/").pop();a.push(e)}}r=r.p}let l=ye?"  ":"\t";I(e,"message",{value:e.message+`\n${a.map((e=>`\n${l}in ${e}`)).join("")}\n`}),I(e,"component_stack",{value:a});let d=e.stack;if(d){let t=d.split("\n"),i=[];for(let e=0;e<t.length;e++){let n=t[e];n.includes("svelte/src/internal")||i.push(n)}I(e,"stack",{value:i.join("\n")})}if(ut(e,t),ct(t))throw e}function vt(e,t,i=!0){var n=e.reactions;if(null!==n)for(var a=0;a<n.length;a++){var o=n[a];2&o.f?vt(o,t,!1):t===o&&(i?Pt(o,2048):!!(1024&o.f)&&Pt(o,4096),xt(o))}}function ht(e){var t=tt,i=it,n=nt,a=Ge,o=rt,r=et,s=si,l=Ze,d=e.f;tt=null,it=0,nt=null,rt=!!(256&d)&&(Ze||!Fe||null===Ge),Ge=96&d?null:e,et=null,li(e.ctx),Ze=!1,ot++;try{var u=(0,e.fn)(),c=e.deps;if(null!==tt){var p,v;if(ft(e,it),null!==c&&it>0)for(c.length=it+tt.length,v=0;v<tt.length;v++)c[it+v]=tt[v];else e.deps=c=tt;if(!rt)for(v=it;v<c.length;v++)((p=c[v]).reactions??(p.reactions=[])).push(e)}else null!==c&&it<c.length&&(ft(e,it),c.length=it);if(fi()&&null!==nt&&!Ze&&null!==c&&!(6146&e.f))for(v=0;v<nt.length;v++)vt(nt[v],e);return null!==a&&(ot++,null!==nt&&(null===n?n=nt:n.push(...nt))),u}finally{tt=t,it=i,nt=n,Ge=a,rt=o,et=r,li(s),Ze=l}}function gt(e,t){let i=t.reactions;if(null!==i){var n=T.call(i,e);if(-1!==n){var a=i.length-1;0===a?i=t.reactions=null:(i[n]=i[a],i.pop())}}null===i&&2&t.f&&(null===tt||!tt.includes(t))&&(Pt(t,4096),!(768&t.f)&&(t.f^=512),le(t),ft(t,0))}function ft(e,t){var i=e.deps;if(null!==i)for(var n=t;n<i.length;n++)gt(e,i[n])}function mt(e){var t=e.f;if(!(16384&t)){Pt(e,1024);var i=Xe,n=si,a=Fe;if(Xe=e,Fe=!0,x){var o=di;ui(e.component_function)}try{16&t?function(e){for(var t=e.first;null!==t;){var i=t.next;!(32&t.f)&&Ht(t),t=i}}(e):qt(e),zt(e);var r=ht(e);e.teardown="function"==typeof r?r:null,e.wv=at;e.deps;x&&Ke.push(e)}catch(t){pt(t,e,i,n||e.ctx)}finally{Fe=a,Xe=i,x&&ui(o)}}}function bt(){console.error("Last ten effects were: ",Ke.slice(-10).map((e=>e.fn))),Ke=[]}function yt(){try{!function(){if(x){let e=new Error("effect_update_depth_exceeded\nMaximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops\nhttps://svelte.dev/e/effect_update_depth_exceeded");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(e){if(x&&I(e,"stack",{value:""}),null===je)throw x&&bt(),e;if(x)try{pt(e,je,null,null)}catch(e){throw bt(),e}else pt(e,je,null,null)}}function _t(){var e=Fe;try{var t=0;for(Fe=!0;Qe.length>0;){t++>1e3&&yt();var i=Qe,n=i.length;Qe=[];for(var a=0;a<n;a++){wt(kt(i[a]))}}}finally{He=!1,Fe=e,je=null,x&&(Ke=[]),X.clear()}}function wt(e){var t=e.length;if(0!==t)for(var i=0;i<t;i++){var n=e[i];if(!(24576&n.f))try{dt(n)&&(mt(n),null===n.deps&&null===n.first&&null===n.nodes_start&&(null===n.teardown?jt(n):n.fn=null))}catch(e){pt(e,n,null,n.ctx)}}}function xt(e){He||(He=!0,queueMicrotask(_t));for(var t=je=e;null!==t.parent;){var i=(t=t.parent).f;if(96&i){if(!(1024&i))return;t.f^=1024}}Qe.push(t)}function kt(e){for(var t=[],i=e;null!==i;){var n=i.f,a=!!(96&n);if(!(a&&!!(1024&n)||8192&n)){if(4&n)t.push(i);else if(a)i.f^=1024;else{var o=Ge;try{Ge=i,dt(i)&&mt(i)}catch(e){pt(e,i,null,i.ctx)}finally{Ge=o}}var r=i.first;if(null!==r){i=r;continue}}var s=i.parent;for(i=i.next;null===i&&null!==s;)i=s.next,s=s.parent}return t}function $t(e){var t;for(e&&(He=!0,_t(),t=e()),U();Qe.length>0;)He=!0,_t(),U();return t}async function St(){await Promise.resolve(),$t()}function Ct(e){var t=!!(2&e.f);if(null!==st&&st.add(e),null===Ge||Ze){if(t&&null===e.deps&&null===e.effects){var i=e,n=i.parent;null!==n&&!(256&n.f)&&(i.f^=256)}}else{null!==et&&et.includes(e)&&function(){if(x){let e=new Error("state_unsafe_local_read\nReading state that was created inside the same derived is forbidden. Consider using `untrack` to read locally created state\nhttps://svelte.dev/e/state_unsafe_local_read");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/state_unsafe_local_read")}();var a=Ge.deps;e.rv<ot&&(e.rv=ot,null===tt&&null!==a&&a[it]===e?it++:null===tt?tt=[e]:(!rt||!tt.includes(e))&&tt.push(e))}return t&&(dt(i=e)&&ce(i)),Ue&&X.has(e)?X.get(e):e.v}function At(e){var t=Ze;try{return Ze=!0,e()}finally{Ze=t}}var Tt=-7169;function Pt(e,t){e.f=e.f&Tt|t}function Et(e,t=new Set){if(!("object"!=typeof e||null===e||e instanceof EventTarget||t.has(e))){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{Et(e[i],t)}catch{}let i=R(e);if(i!==Object.prototype&&i!==Array.prototype&&i!==Map.prototype&&i!==Set.prototype&&i!==Date.prototype){let t=M(i);for(let i in t){let n=t[i].get;if(n)try{n.call(e)}catch{}}}}}function It(e){null===Xe&&null===Ge&&function(e){if(x){let t=new Error(`effect_orphan\n\`${e}\` can only be used inside an effect (e.g. during component initialisation)\nhttps://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/effect_orphan")}(e),null!==Ge&&!!(256&Ge.f)&&null===Xe&&function(){if(x){let e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}(),Ue&&function(e){if(x){let t=new Error(`effect_in_teardown\n\`${e}\` cannot be used inside an effect cleanup function\nhttps://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/effect_in_teardown")}(e)}function Lt(e,t,i,n=!0){var a=Xe;if(x)for(;null!==a&&262144&a.f;)a=a.parent;var o,r={ctx:si,deps:null,nodes_start:null,nodes_end:null,f:2048|e,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(x&&(r.component_function=di),i)try{mt(r),r.f|=32768}catch(e){throw Ht(r),e}else null!==t&&xt(r);!(i&&null===r.deps&&null===r.first&&null===r.nodes_start&&null===r.teardown&&!(1048704&r.f))&&n&&(null!==a&&function(e,t){var i=t.last;null===i?t.last=t.first=e:(i.next=e,e.prev=i,t.last=e)}(r,a),null!==Ge&&2&Ge.f)&&((o=Ge).effects??(o.effects=[])).push(r);return r}function Mt(e){let t=Lt(8,null,!1);return Pt(t,1024),t.teardown=e,t}function Vt(e){It("$effect");var t,i=null!==Xe&&!!(32&Xe.f)&&null!==si&&!si.m;if(x&&I(e,"name",{value:"$effect"}),!i)return Nt(e);((t=si).e??(t.e=[])).push({fn:e,effect:Xe,reaction:Ge})}function Nt(e){return Lt(4,e,!1)}function Rt(e){return Lt(8,e,!0)}function Bt(e,t=[],i=re){let n=t.map(i),a=()=>e(...n.map(Ct));return x&&I(a,"name",{value:"{expression}"}),Ot(a)}function Ot(e,t=0){return Lt(24|t,e,!0)}function Dt(e,t=!0){return Lt(40,e,!0,t)}function zt(e){var t=e.teardown;if(null!==t){let e=Ue,i=Ge;We(!0),Ye(null);try{t.call(null)}finally{We(e),Ye(i)}}}function qt(e,t=!1){var i=e.first;for(e.first=e.last=null;null!==i;){var n=i.next;64&i.f?i.parent=null:Ht(i,t),i=n}}function Ht(e,t=!0){var i=!1;if((t||524288&e.f)&&null!==e.nodes_start){for(var n=e.nodes_start,a=e.nodes_end;null!==n;){var o=n===a?null:Ne(n);n.remove(),n=o}i=!0}qt(e,t&&!i),ft(e,0),Pt(e,16384);var r=e.transitions;if(null!==r)for(let e of r)e.stop();zt(e);var s=e.parent;null!==s&&null!==s.first&&jt(e),x&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function jt(e){var t=e.parent,i=e.prev,n=e.next;null!==i&&(i.next=n),null!==n&&(n.prev=i),null!==t&&(t.first===e&&(t.first=n),t.last===e&&(t.last=i))}function Ft(e,t){var i=[];Wt(e,i,!0),Ut(i,(()=>{Ht(e),t&&t()}))}function Ut(e,t){var i=e.length;if(i>0){var n=()=>--i||t();for(var a of e)a.out(n)}else t()}function Wt(e,t,i){if(!(8192&e.f)){if(e.f^=8192,null!==e.transitions)for(let n of e.transitions)(n.is_global||i)&&t.push(n);for(var n=e.first;null!==n;){var a=n.next;Wt(n,t,!!(!!(65536&n.f)||!!(32&n.f))&&i),n=a}}}function Qt(e){Kt(e,!0)}function Kt(e,t){if(8192&e.f){e.f^=8192,!(1024&e.f)&&(e.f^=1024),dt(e)&&(Pt(e,2048),xt(e));for(var i=e.first;null!==i;){var n=i.next;Kt(i,!!(!!(65536&i.f)||!!(32&i.f))&&t),i=n}if(null!==e.transitions)for(let i of e.transitions)(i.is_global||t)&&i.in()}}var Gt={},Zt=/at (?:.+ \()?(.+):(\d+):(\d+)\)?$/,Yt=/@(.+):(\d+):(\d+)$/;function Xt(){let e=function(){let e=(new Error).stack;if(!e)return null;let t=[];for(let i of e.split("\n")){let e=Zt.exec(i)??Yt.exec(i);e&&t.push({file:e[1],line:+e[2],column:+e[3]})}return t}()?.slice(4);if(!e)return null;for(let t=0;t<e.length;t++){let i=e[t],n=Gt[i.file];if(n)for(let e of n){if(null==e.end)return null;if(e.start.line<i.line&&e.end.line>i.line)return e.component}else if(0===t)return null}return null}var Jt=Symbol("ADD_OWNER");function ei(e,t,i=!1,n=!1){if(e&&!i){let i=di,a=e[$];if(a&&!ni(a,i)){let e=ai(a);t&&t[_]!==i[_]&&!n&&function(e,t,i){x?console.warn(`%c[svelte] ownership_invalid_binding\n%c${e} passed a value to ${t} with \`bind:\`, but the value is owned by ${i}. Consider creating a binding between ${i} and ${e}\nhttps://svelte.dev/e/ownership_invalid_binding`,pe,ve):console.warn("https://svelte.dev/e/ownership_invalid_binding")}(i[_],t[_],e[_])}}ii(e,t,new Set)}function ti(e,t){if(null!==t.owners)for(;e;){if(null===e.owners){t.owners=null;break}for(let i of e.owners)t.owners.add(i);e=e.parent}}function ii(e,t,i){let n=e?.[$];if(n)"owners"in n&&null!=n.owners&&(t?n.owners.add(t):n.owners=null);else if(e&&"object"==typeof e){if(i.has(e))return;if(i.add(e),Jt in e&&e[Jt])Rt((()=>{e[Jt](t)}));else{var a=R(e);if(a===Object.prototype)for(let n in e)if(Object.getOwnPropertyDescriptor(e,n)?.get){let a=y;Rt((()=>{let o=e[n];a!==o&&(a=o,ii(o,t,i))}))}else ii(e[n],t,i);else if(a===Array.prototype)for(let n=0;n<e.length;n+=1)ii(e[n],t,i)}}}function ni(e,t){return null===e.owners||(e.owners.has(t)||_ in t&&[...e.owners].some((e=>e[_]===t[_]))||null!==e.parent&&ni(e.parent,t))}function ai(e){return e?.owners?.values().next().value??ai(e.parent)}var oi=!1;function ri(e){if(x){let t=new Error(`lifecycle_outside_component\n\`${e}(...)\` can only be used during component initialisation\nhttps://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/lifecycle_outside_component")}var si=null;function li(e){si=e}var di=null;function ui(e){di=e}function ci(e){return mi("getContext").get(e)}function pi(e,t){let i=mi("setContext");return x&&At((()=>ei(t,null,!0))),i.set(e,t),t}function vi(){return mi("getAllContexts")}function hi(e,t=!1,i){var n=si={p:si,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Z&&!t&&(si.l={s:null,u:null,r1:[],r2:ee(!1)}),Mt((()=>{n.d=!0})),x&&(si.function=i,di=i)}function gi(e){let t=si;if(null!==t){void 0!==e&&(t.x=e);let r=t.e;if(null!==r){var i=Xe,n=Ge;t.e=null;try{for(var a=0;a<r.length;a++){var o=r[a];Je(o.effect),Ye(o.reaction),Nt(o.fn)}}finally{Je(i),Ye(n)}}si=t.p,x&&(di=t.p?.function??null),t.m=!0}return e||{}}function fi(){return!Z||null!==si&&null===si.l}function mi(e){var t;return null===si&&ri(e),(t=si).c??(t.c=new Map(function(e){let t=e.p;for(;null!==t;){let e=t.c;if(null!==e)return e;t=t.p}return null}(si)||void 0))}var bi=/\r/g;function yi(e){return e.endsWith("capture")&&"gotpointercapture"!==e&&"lostpointercapture"!==e}var _i=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function wi(e){return _i.includes(e)}var xi={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function ki(e){return e=e.toLowerCase(),xi[e]??e}var $i=["touchstart","touchmove"];function Si(e){return $i.includes(e)}var Ci=["textarea","script","style","title"];var Ai=new Map;function Ti(e,t){if(t){let t=document.body;e.autofocus=!0,F((()=>{document.activeElement===t&&e.focus()}))}}function Pi(e){var t=Ge,i=Xe;Ye(null),Je(null);try{return e()}finally{Ye(t),Je(i)}}var Ei=new Set,Ii=new Set;function Li(e){if(!xe)return;e.onload&&e.removeAttribute("onload"),e.onerror&&e.removeAttribute("onerror");let t=e.__e;void 0!==t&&(e.__e=void 0,queueMicrotask((()=>{e.isConnected&&e.dispatchEvent(t)})))}function Mi(e,t,i,n={}){function a(e){if(n.capture||Ri.call(t,e),!e.cancelBubble)return Pi((()=>i?.call(this,e)))}return e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?F((()=>{t.addEventListener(e,a,n)})):t.addEventListener(e,a,n),a}function Vi(e,t,i,n,a){var o={capture:n,passive:a},r=Mi(e,t,i,o);(t===document.body||t===window||t===document)&&Mt((()=>{t.removeEventListener(e,r,o)}))}function Ni(e){for(var t=0;t<e.length;t++)Ei.add(e[t]);for(var i of Ii)i(e)}function Ri(e){var t=this,i=t.ownerDocument,n=e.type,a=e.composedPath?.()||[],o=a[0]||e.target,r=0,s=e.__root;if(s){var l=a.indexOf(s);if(-1!==l&&(t===document||t===window))return void(e.__root=t);var d=a.indexOf(t);if(-1===d)return;l<=d&&(r=l)}if((o=a[r]||e.target)!==t){I(e,"currentTarget",{configurable:!0,get:()=>o||i});var u=Ge,c=Xe;Ye(null),Je(null);try{for(var p,v=[];null!==o;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var g=o["__"+n];if(null!=g&&(!o.disabled||e.target===o))if(A(g)){var[f,...m]=g;f.apply(o,[e,...m])}else g.call(o,e)}catch(e){p?v.push(e):p=e}if(e.cancelBubble||h===t||null===h)break;o=h}if(p){for(let e of v)queueMicrotask((()=>{throw e}));throw p}}finally{e.__root=t,delete e.currentTarget,Ye(u),Je(c)}}}function Bi(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Oi(e,t){var i=Xe;null===i.nodes_start&&(i.nodes_start=e,i.nodes_end=t)}function Di(e,t){var i,n=!!(1&t),a=!!(2&t),o=!e.startsWith("<!>");return()=>{if(xe)return Oi(me,null),me;void 0===i&&(i=Bi(o?e:"<!>"+e),n||(i=Ve(i)));var t=a||ye?document.importNode(i,!0):i.cloneNode(!0);n?Oi(Ve(t),t.lastChild):Oi(t,t);return t}}function zi(e,t,i="svg"){var n,a=!e.startsWith("<!>"),o=!!(1&t),r=`<${i}>${a?e:"<!>"+e}</${i}>`;return()=>{if(xe)return Oi(me,null),me;if(!n){var e=Ve(Bi(r));if(o)for(n=document.createDocumentFragment();Ve(e);)n.appendChild(Ve(e));else n=Ve(e)}var t=n.cloneNode(!0);o?Oi(Ve(t),t.lastChild):Oi(t,t);return t}}function qi(e=""){if(!xe){var t=Me(e+"");return Oi(t,t),t}var i=me;return 3!==i.nodeType&&(i.before(i=Me()),$e(i)),Oi(i,i),i}function Hi(){if(xe)return Oi(me,null),me;var e=document.createDocumentFragment(),t=document.createComment(""),i=Me();return e.append(t,i),Oi(t,i),e}function ji(e,t){if(xe)return Xe.nodes_end=me,void Se();null!==e&&e.before(t)}var Fi=!0;function Ui(e){Fi=e}function Wi(e,t){var i,n=null==t?"":"object"==typeof t?t+"":t;n!==((i=e).__t??(i.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Qi(e,t){return Zi(e,t)}function Ki(e,t){Le(),t.intro=t.intro??!1;let i=t.target,n=xe,a=me;try{for(var o=Ve(i);o&&(8!==o.nodeType||"["!==o.data);)o=Ne(o);if(!o)throw b;ke(!0),$e(o),Se();let n=Zi(e,{...t,anchor:o});if(null===me||8!==me.nodeType||"]"!==me.data)throw he(),b;return ke(!1),n}catch(n){if(n===b)return!1===t.recover&&function(){if(x){let e=new Error("hydration_failed\nFailed to hydrate the application\nhttps://svelte.dev/e/hydration_failed");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/hydration_failed")}(),Le(),De(i),ke(!1),Qi(e,t);throw n}finally{ke(n),$e(a)}}var Gi=new Map;function Zi(e,{target:t,anchor:i,props:n={},events:a,context:o,intro:r=!0}){Le();var s=new Set,l=e=>{for(var i=0;i<e.length;i++){var n=e[i];if(!s.has(n)){s.add(n);var a=Si(n);t.addEventListener(n,Ri,{passive:a});var o=Gi.get(n);void 0===o?(document.addEventListener(n,Ri,{passive:a}),Gi.set(n,1)):Gi.set(n,o+1)}}};l(P(Ei)),Ii.add(l);var d=void 0,u=function(e){let t=Lt(64,e,!0);return(e={})=>new Promise((i=>{e.outro?Ft(t,(()=>{Ht(t),i(void 0)})):(Ht(t),i(void 0))}))}((()=>{var u=i??t.appendChild(Me());return Dt((()=>{o&&(hi({}),si.c=o);a&&(n.$$events=a),xe&&Oi(u,null),Fi=r,d=e(u,n)||{},Fi=!0,xe&&(Xe.nodes_end=me),o&&gi()})),()=>{for(var e of s){t.removeEventListener(e,Ri);var n=Gi.get(e);0==--n?(document.removeEventListener(e,Ri),Gi.delete(e)):Gi.set(e,n)}Ii.delete(l),u!==i&&u.parentNode?.removeChild(u)}}));return Yi.set(d,u),d}var Yi=new WeakMap;function Xi(e,t){let i=Yi.get(e);return i?(Yi.delete(e),i(t)):(x&&(x?console.warn("%c[svelte] lifecycle_double_unmount\n%cTried to unmount a component that was not mounted\nhttps://svelte.dev/e/lifecycle_double_unmount",pe,ve):console.warn("https://svelte.dev/e/lifecycle_double_unmount")),Promise.resolve())}function Ji(e,t,[i,n]=[0,0]){xe&&0===i&&Se();var a=e,o=null,r=null,s=y,l=!1;let d=(e,t=!0)=>{l=!0,u(t,e)},u=(e,t)=>{if(s===(s=e))return;let l=!1;if(xe&&-1!==n){if(0===i){let e=a.data;"["===e?n=0:e===m?n=1/0:(n=parseInt(e.substring(1)))!=n&&(n=s?1/0:-1)}!!s===n>i&&($e(a=Te()),ke(!1),l=!0,n=-1)}s?(o?Qt(o):t&&(o=Dt((()=>t(a)))),r&&Ft(r,(()=>{r=null}))):(r?Qt(r):t&&(r=Dt((()=>t(a,[i+1,n])))),o&&Ft(o,(()=>{o=null}))),l&&ke(!0)};Ot((()=>{l=!1,t(d),l||u(null,null)}),i>0?65536:0),xe&&(a=me)}function en(e,t,i){xe&&Se();var n,a=e,o=y,r=fi()?K:Q;Ot((()=>{r(o,o=t())&&(n&&Ft(n),n=Dt((()=>i(a))))})),xe&&(a=me)}var tn,nn=null;function an(e){nn=e}function on(e,t){return t}function rn(e,t,i,n,a,o=null){var r=e,s={flags:t,items:new Map,first:null};if(!!(4&t)){var l=e;r=xe?$e(Ve(l)):l.appendChild(Me())}xe&&Se();var d=null,u=!1,c=se((()=>{var e=i();return A(e)?e:null==e?[]:P(e)}));Ot((()=>{var e=Ct(c),l=e.length;if(u&&0===l)return;u=0===l;let p=!1;xe&&(r.data===m!==(0===l)&&($e(r=Te()),ke(!1),p=!0));if(xe){for(var v,h=null,g=0;g<l;g++){if(8===me.nodeType&&"]"===me.data){r=me,p=!0,ke(!1);break}var f=e[g],b=n(f,g);v=dn(me,s,h,null,f,b,g,a,t,i),s.items.set(b,v),h=v}l>0&&$e(Te())}xe||sn(e,s,r,a,t,n,i),null!==o&&(0===l?d?Qt(d):d=Dt((()=>o(r))):null!==d&&Ft(d,(()=>{d=null}))),p&&ke(!0),Ct(c)})),xe&&(r=me)}function sn(e,t,i,n,a,o,r){var s,l,d,u,c,p,v=!!(8&a),h=!!(3&a),g=e.length,f=t.items,m=t.first,b=null,y=[],_=[];if(v)for(p=0;p<g;p+=1)u=o(d=e[p],p),void 0!==(c=f.get(u))&&(c.a?.measure(),(l??(l=new Set)).add(c));for(p=0;p<g;p+=1)if(u=o(d=e[p],p),void 0!==(c=f.get(u))){if(h&&ln(c,d,p,a),!!(8192&c.e.f)&&(Qt(c.e),v&&(c.a?.unfix(),(l??(l=new Set)).delete(c))),c!==m){if(void 0!==s&&s.has(c)){if(y.length<_.length){var w,x=_[0];b=x.prev;var k=y[0],$=y[y.length-1];for(w=0;w<y.length;w+=1)un(y[w],x,i);for(w=0;w<_.length;w+=1)s.delete(_[w]);cn(t,k.prev,$.next),cn(t,b,k),cn(t,$,x),m=x,b=$,p-=1,y=[],_=[]}else s.delete(c),un(c,m,i),cn(t,c.prev,c.next),cn(t,c,null===b?t.first:b.next),cn(t,b,c),b=c;continue}for(y=[],_=[];null!==m&&m.k!==u;)!(8192&m.e.f)&&(s??(s=new Set)).add(m),_.push(m),m=m.next;if(null===m)continue;c=m}y.push(c),b=c,m=c.next}else{b=dn(m?m.e.nodes_start:i,t,b,null===b?t.first:b.next,d,u,p,n,a,r),f.set(u,b),y=[],_=[],m=b.next}if(null!==m||void 0!==s){for(var S=void 0===s?[]:P(s);null!==m;)!(8192&m.e.f)&&S.push(m),m=m.next;var C=S.length;if(C>0){var A=4&a&&0===g?i:null;if(v){for(p=0;p<C;p+=1)S[p].a?.measure();for(p=0;p<C;p+=1)S[p].a?.fix()}!function(e,t,i,n){for(var a=[],o=t.length,r=0;r<o;r++)Wt(t[r].e,a,!0);var s=o>0&&0===a.length&&null!==i;if(s){var l=i.parentNode;De(l),l.append(i),n.clear(),cn(e,t[0].prev,t[o-1].next)}Ut(a,(()=>{for(var i=0;i<o;i++){var a=t[i];s||(n.delete(a.k),cn(e,a.prev,a.next)),Ht(a.e,!s)}}))}(t,S,A,f)}}v&&F((()=>{if(void 0!==l)for(c of l)c.a?.apply()})),Xe.first=t.first&&t.first.e,Xe.last=b&&b.e}function ln(e,t,i,n){!!(1&n)&&ae(e.v,t),2&n?ae(e.i,i):e.i=i}function dn(e,t,i,n,a,o,r,s,l,d){var u=nn,c=!!(1&l),p=c?!(16&l)?ie(a):ee(a):a,v=2&l?ee(r):r;x&&c&&(p.debug=()=>{var e="number"==typeof v?r:v.v;d()[e]});var h={i:v,v:p,k:o,a:null,e:null,prev:i,next:n};nn=h;try{return h.e=Dt((()=>s(e,p,v,d)),xe),h.e.prev=i&&i.e,h.e.next=n&&n.e,null===i?t.first=h:(i.next=h,i.e.next=h.e),null!==n&&(n.prev=h,n.e.prev=h.e),h}finally{nn=u}}function un(e,t,i){for(var n=e.next?e.next.e.nodes_start:i,a=t?t.e.nodes_start:i,o=e.e.nodes_start;o!==n;){var r=Ne(o);a.before(o),o=r}}function cn(e,t,i){null===t?e.first=i:(t.next=i,t.e.next=i&&i.e),null!==i&&(i.prev=t,i.e.prev=t&&t.e)}function pn(e,t,i){if(!t||t===function(e){let t=5381,i=(e=e.replace(bi,"")).length;for(;i--;)t=(t<<5)-t^e.charCodeAt(i);return(t>>>0).toString(36)}(String(i??"")))return;let n,a=e.__svelte_meta?.loc;a?n=`near ${a.file}:${a.line}:${a.column}`:di?.[_]&&(n=`in ${di[_]}`),function(e){x?console.warn(`%c[svelte] hydration_html_changed\n%c${e?`The value of an \`{@html ...}\` block ${e} changed between server and client renders. The client value will be ignored in favour of the server value`:"The value of an `{@html ...}` block changed between server and client renders. The client value will be ignored in favour of the server value"}\nhttps://svelte.dev/e/hydration_html_changed`,pe,ve):console.warn("https://svelte.dev/e/hydration_html_changed")}(function(e){return e?.replace(/\//g,"/​")}(n))}function vn(e,t,i,n,a){var o,r=e,s="";Ot((()=>{s!==(s=t()??"")?(void 0!==o&&(Ht(o),o=void 0),""!==s&&(o=Dt((()=>{if(xe){for(var e=me.data,t=Se(),o=t;null!==t&&(8!==t.nodeType||""!==t.data);)o=t,t=Ne(t);if(null===t)throw he(),b;return x&&!a&&pn(t.parentNode,e,s),Oi(me,o),void(r=$e(t))}var l=s+"";i?l=`<svg>${l}</svg>`:n&&(l=`<math>${l}</math>`);var d=Bi(l);if((i||n)&&(d=Ve(d)),Oi(Ve(d),d.lastChild),i||n)for(;Ve(d);)r.before(Ve(d));else r.before(d)})))):xe&&Se()}))}function hn(e,t,...i){var n,a=e,o=O;Ot((()=>{o!==(o=t())&&(n&&(Ht(n),n=null),x&&null==o&&function(){if(x){let e=new Error("invalid_snippet\nCould not `{@render}` snippet due to the expression being `null` or `undefined`. Consider using optional chaining `{@render snippet?.()}`\nhttps://svelte.dev/e/invalid_snippet");throw e.name="Svelte error",e}throw new Error("https://svelte.dev/e/invalid_snippet")}(),n=Dt((()=>o(a,...i))))}),65536),xe&&(a=me)}function gn(e,t,i){xe&&Se();var n,a,o=e;Ot((()=>{n!==(n=t())&&(a&&(Ft(a),a=null),n&&(a=Dt((()=>i(o,n)))))}),65536),xe&&(o=me)}function fn(e,t,i,n,a,o){let r=xe;xe&&Se();var s,l,d=x&&o&&si?.function[_],u=null;xe&&1===me.nodeType&&(u=me,Se());var c,p=xe?me:e,v=nn;Ot((()=>{let e=t()||null;var r=a?a():i||"svg"===e?"http://www.w3.org/2000/svg":null;if(e!==s){var h=nn;an(v),c&&(null===e?Ft(c,(()=>{c=null,l=null})):e===l?Qt(c):(Ht(c),Ui(!1))),e&&e!==l&&(c=Dt((()=>{if(u=xe?u:r?document.createElementNS(r,e):document.createElement(e),x&&o&&(u.__svelte_meta={loc:{file:d,line:o[0],column:o[1]}}),Oi(u,u),n){xe&&function(e){return Ci.includes(e)}(e)&&u.append(document.createComment(""));var t=xe?Ve(u):u.appendChild(Me());xe&&(null===t?ke(!1):$e(t)),n(u,t)}Xe.nodes_end=u,p.before(u)}))),(s=e)&&(l=s),Ui(!0),an(h)}}),65536),r&&(ke(!0),$e(p))}var mn=(o=(0,v._)("_t"),r=(0,v._)("_e"),class{$set(e){(0,p._)(this,r)[r].$set(e)}$on(e,t){(0,p._)(this,o)[o][e]=(0,p._)(this,o)[o][e]||[];let i=(...e)=>t.call(this,...e);return(0,p._)(this,o)[o][e].push(i),()=>{(0,p._)(this,o)[o][e]=(0,p._)(this,o)[o][e].filter((e=>e!==i))}}$destroy(){(0,p._)(this,r)[r].$destroy()}constructor(e){Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,r,{writable:!0,value:void 0});var t=new Map,i=(e,i)=>{var n=ie(i);return t.set(e,n),n};let n=new Proxy({...e.props||{},$$events:{}},{get:(e,n)=>Ct(t.get(n)??i(n,Reflect.get(e,n))),has:(e,n)=>n===S||(Ct(t.get(n)??i(n,Reflect.get(e,n))),Reflect.has(e,n)),set:(e,n,a)=>(ne(t.get(n)??i(n,a),a),Reflect.set(e,n,a))});(0,p._)(this,r)[r]=(e.hydrate?Ki:Qi)(e.component,{target:e.target,anchor:e.anchor,props:n,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||!1===e.sync)&&$t(),(0,p._)(this,o)[o]=n.$$events;for(let e of Object.keys((0,p._)(this,r)[r]))"$set"===e||"$destroy"===e||"$on"===e||I(this,e,{get(){return(0,p._)(this,r)[r][e]},set(t){(0,p._)(this,r)[r][e]=t},enumerable:!0});(0,p._)(this,r)[r].$set=e=>{Object.assign(n,e)},(0,p._)(this,r)[r].$destroy=()=>{Xi((0,p._)(this,r)[r])}}});function bn(e,t){F((()=>{var i=e.getRootNode(),n=i.host?i:i.head??i.ownerDocument.head??tn?.parentNode;if(!n?.querySelector("#"+t.hash)){let e=document.createElement("style");e.id=t.hash,e.textContent=t.code,n.appendChild(e),x&&function(e,t){var i=Ai.get(e);i||(i=new Set,Ai.set(e,i)),i.add(t)}(t.hash,e)}}))}function yn(e){var t,i,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(i=yn(e[t]))&&(n&&(n+=" "),n+=i)}else for(i in e)e[i]&&(n&&(n+=" "),n+=i);return n}function _n(e){return"object"==typeof e?function(){for(var e,t,i=0,n="",a=arguments.length;i<a;i++)(e=arguments[i])&&(t=yn(e))&&(n&&(n+=" "),n+=t);return n}(e):e??""}var wn=[..." \t\n\r\f \v\ufeff"];function xn(e,t=!1){var i=t?" !important;":";",n="";for(var a in e){var o=e[a];null!=o&&""!==o&&(n+=" "+a+": "+o+i)}return n}function kn(e){return"-"!==e[0]||"-"!==e[1]?e.toLowerCase():e}function $n(e,t,i,n,a,o){var r=e.__className;if(xe||r!==i){var s=function(e,t,i){var n=null==e?"":""+e;if(t&&(n=n?n+" "+t:t),i)for(var a in i)if(i[a])n=n?n+" "+a:a;else if(n.length)for(var o=a.length,r=0;(r=n.indexOf(a,r))>=0;){var s=r+o;0!==r&&!wn.includes(n[r-1])||s!==n.length&&!wn.includes(n[s])?r=s:n=(0===r?"":n.substring(0,r))+n.substring(s+1)}return""===n?null:n}(i,n,o);(!xe||s!==e.getAttribute("class"))&&(null==s?e.removeAttribute("class"):t?e.className=s:e.setAttribute("class",s)),e.__className=i}else if(o&&a!==o)for(var l in o){var d=!!o[l];(null==a||d!==!!a[l])&&e.classList.toggle(l,d)}return o}function Sn(e,t={},i,n){for(var a in i){var o=i[a];t[a]!==o&&(null==i[a]?e.style.removeProperty(a):e.style.setProperty(a,o,n))}}function Cn(e,t,i,n){var a=e.__style;if(xe||a!==t){var o=function(e,t){if(t){var i,n,a="";if(Array.isArray(t)?(i=t[0],n=t[1]):i=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,r=0,s=!1,l=[];i&&l.push(...Object.keys(i).map(kn)),n&&l.push(...Object.keys(n).map(kn));var d=0,u=-1;let t=e.length;for(var c=0;c<t;c++){var p=e[c];if(s?"/"===p&&"*"===e[c-1]&&(s=!1):o?o===p&&(o=!1):"/"===p&&"*"===e[c+1]?s=!0:'"'===p||"'"===p?o=p:"("===p?r++:")"===p&&r--,!s&&!1===o&&0===r)if(":"===p&&-1===u)u=c;else if(";"===p||c===t-1){if(-1!==u){var v=kn(e.substring(d,u).trim());l.includes(v)||(";"!==p&&c++,a+=" "+e.substring(d,c).trim()+";")}d=c+1,u=-1}}}return i&&(a+=xn(i)),n&&(a+=xn(n,!0)),""===(a=a.trim())?null:a}return null==e?null:String(e)}(t,n);(!xe||o!==e.getAttribute("style"))&&(null==o?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}else n&&(Array.isArray(n)?(Sn(e,i?.[0],n[0]),Sn(e,i?.[1],n[1],"important")):Sn(e,i,n));return n}var An=Symbol("class"),Tn=Symbol("style"),Pn=Symbol("is custom element"),En=Symbol("is html");function In(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Ln(e,t,i,n){var a=Vn(e);xe&&(a[t]=e.getAttribute(t),"src"===t||"srcset"===t||"href"===t&&"LINK"===e.nodeName)?n||function(e,t,i){x&&("srcset"===t&&function(e,t){var i=On(e.srcset),n=On(t);return n.length===i.length&&n.every((([e,t],n)=>t===i[n][1]&&(Bn(i[n][0],e)||Bn(e,i[n][0]))))}(e,i)||Bn(e.getAttribute(t)??"",i)||function(e,t,i){x?console.warn(`%c[svelte] hydration_attribute_changed\n%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${i}\`, will be ignored in favour of the server value\nhttps://svelte.dev/e/hydration_attribute_changed`,pe,ve):console.warn("https://svelte.dev/e/hydration_attribute_changed")}(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(i)))}(e,t,i??""):a[t]!==(a[t]=i)&&("loading"===t&&(e[C]=i),null==i?e.removeAttribute(t):"string"!=typeof i&&Rn(e).includes(t)?e[t]=i:e.setAttribute(t,i))}function Mn(e,t,i,n,a=!1){var o,r=Vn(e),s=r[Pn],l=!r[En];let d=xe&&s;d&&ke(!1);var u=t||{},c="OPTION"===e.tagName;for(var p in t)p in i||(i[p]=null);i.class?i.class=_n(i.class):(n||i[An])&&(i.class=null),i[Tn]&&((o=i).style??(o.style=null));var v=Rn(e);for(let o in i){let d=i[o];if(c&&"value"===o&&null==d)e.value=e.__value="",u[o]=d;else if("class"!==o)if("style"!==o){var h=u[o];if(d!==h){u[o]=d;var g=o[0]+o[1];if("$$"!==g)if("on"===g){let t={},i="$$"+o,n=o.slice(2);var f=wi(n);if(yi(n)&&(n=n.slice(0,-7),t.capture=!0),!f&&h){if(null!=d)continue;e.removeEventListener(n,u[i],t),u[i]=null}if(null!=d)if(f)e[`__${n}`]=d,Ni([n]);else{let a=function(e){u[o].call(this,e)};u[i]=Mi(n,e,a,t)}else f&&(e[`__${n}`]=void 0)}else if("style"===o)Ln(e,o,d);else if("autofocus"===o)Ti(e,!!d);else if(s||"__value"!==o&&("value"!==o||null==d))if("selected"===o&&c)In(e,d);else{var m=o;l||(m=ki(m));var b="defaultValue"===m||"defaultChecked"===m;if(null!=d||s||b)b||v.includes(m)&&(s||"string"!=typeof d)?e[m]=d:"function"!=typeof d&&Ln(e,m,d,a);else if(r[o]=null,"value"===m||"checked"===m){let i=e,n=void 0===t;if("value"===m){let e=i.defaultValue;i.removeAttribute(m),i.defaultValue=e,i.value=i.__value=n?e:null}else{let e=i.defaultChecked;i.removeAttribute(m),i.defaultChecked=e,i.checked=!!n&&e}}else e.removeAttribute(o)}else e.value=e.__value=d}}else Cn(e,d,t?.[Tn],i[Tn]),u[o]=d,u[Tn]=i[Tn];else $n(e,"http://www.w3.org/1999/xhtml"===e.namespaceURI,d,n,t?.[An],i[An]),u[o]=d,u[An]=i[An]}return d&&ke(!0),u}function Vn(e){var t;return(t=e).__attributes??(t.__attributes={[Pn]:e.nodeName.includes("-"),[En]:"http://www.w3.org/1999/xhtml"===e.namespaceURI})}var Nn=new Map;function Rn(e){var t=Nn.get(e.nodeName);if(t)return t;Nn.set(e.nodeName,t=[]);for(var i,n=e,a=Element.prototype;a!==n;){for(var o in i=M(n))i[o].set&&t.push(o);n=R(n)}return t}function Bn(e,t){return e===t||new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function On(e){return e.split(",").map((e=>e.trim().split(" ").filter(Boolean)))}var Dn=()=>performance.now(),zn={tick:e=>requestAnimationFrame(e),now:()=>Dn(),tasks:new Set};function qn(){let e=zn.now();zn.tasks.forEach((t=>{t.c(e)||(zn.tasks.delete(t),t.f())})),0!==zn.tasks.size&&zn.tick(qn)}function Hn(e,t){Pi((()=>{e.dispatchEvent(new CustomEvent(t))}))}function jn(e){if("float"===e)return"cssFloat";if("offset"===e)return"cssOffset";if(e.startsWith("--"))return e;let t=e.split("-");return 1===t.length?t[0]:t[0]+t.slice(1).map((e=>e[0].toUpperCase()+e.slice(1))).join("")}function Fn(e){let t={},i=e.split(";");for(let e of i){let[i,n]=e.split(":");if(!i||void 0===n)break;t[jn(i.trim())]=n.trim()}return t}var Un=e=>e;function Wn(e,t,i,n,a){var o=1===n;if(B(t)){var r,s=!1;return F((()=>{if(!s){var l=t({direction:o?"in":"out"});r=Wn(e,l,i,n,a)}})),{abort:()=>{s=!0,r?.abort()},deactivate:()=>r.deactivate(),reset:()=>r.reset(),t:()=>r.t()}}if(i?.deactivate(),!t?.duration)return a(),{abort:O,deactivate:O,reset:O,t:()=>n};let{delay:l=0,css:d,tick:u,easing:c=Un}=t;var p=[];if(o&&void 0===i&&(u&&u(0,1),d)){var v=Fn(d(0,1));p.push(v,v)}var h=()=>1-n,g=e.animate(p,{duration:l});return g.onfinish=()=>{var o=i?.t()??1-n;i?.abort();var r=n-o,s=t.duration*Math.abs(r),l=[];if(s>0){var p=!1;if(d)for(var v=Math.ceil(s/16.666666666666668),f=0;f<=v;f+=1){var m=o+r*c(f/v),b=Fn(d(m,1-m));l.push(b),p||(p="hidden"===b.overflow)}p&&(e.style.overflow="hidden"),h=()=>{var e=g.currentTime;return o+r*c(e/s)},u&&function(e){let t;0===zn.tasks.size&&zn.tick(qn),new Promise((i=>{zn.tasks.add(t={c:e,f:i})}))}((()=>{if("running"!==g.playState)return!1;var e=h();return u(e,1-e),!0}))}(g=e.animate(l,{duration:s,fill:"forwards"})).onfinish=()=>{h=()=>n,u?.(n,1-n),a()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=O)},deactivate:()=>{a=O},reset:()=>{0===n&&u?.(1,0)},t:()=>h()}}var Qn=(s=(0,v._)("_t"),l=(0,v._)("_e"),d=(0,v._)("_i"),u=(0,v._)("_o"),c=class{observe(e,t){var i=(0,p._)(this,s)[s].get(e)||new Set;return i.add(t),(0,p._)(this,s)[s].set(e,i),(0,p._)(this,u)[u]().observe(e,(0,p._)(this,d)[d]),()=>{var i=(0,p._)(this,s)[s].get(e);i.delete(t),0===i.size&&((0,p._)(this,s)[s].delete(e),(0,p._)(this,l)[l].unobserve(e))}}constructor(e){Object.defineProperty(this,u,{value:cf}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),(0,p._)(this,s)[s]=new WeakMap,(0,p._)(this,d)[d]=e}},c.entries=new WeakMap,c),Kn=new Qn({box:"border-box"});function Gn(e,t,i){var n=Kn.observe(e,(()=>i(e[t])));Nt((()=>(At((()=>i(e[t]))),n)))}function Zn(e,t){return e===t||e?.[k]===t}function Yn(e={},t,i,n){return Nt((()=>{var a,o;return Rt((()=>{a=o,o=n?.()||[],At((()=>{e!==i(...o)&&(t(e,...o),a&&Zn(i(...a),e)&&t(null,...a))}))})),()=>{F((()=>{o&&Zn(i(...o),e)&&t(null,...o)}))}})),e}function Xn(e=!1){let t=si,i=t.l.u;if(!i)return;let n=()=>function(e){if("object"==typeof e&&e&&!(e instanceof EventTarget))if(k in e)Et(e);else if(!Array.isArray(e))for(let t in e){let i=e[t];"object"==typeof i&&i&&k in i&&Et(i)}}(t.s);if(e){let e=0,i={},a=re((()=>{let n=!1,a=t.s;for(let e in a)a[e]!==i[e]&&(i[e]=a[e],n=!0);return n&&e++,e}));n=()=>Ct(a)}i.b.length&&function(e){It("$effect.pre"),x&&I(e,"name",{value:"$effect.pre"}),Rt(e)}((()=>{Jn(t,n),z(i.b)})),Vt((()=>{let e=At((()=>i.m.map(D)));return()=>{for(let t of e)"function"==typeof t&&t()}})),i.a.length&&Vt((()=>{Jn(t,n),z(i.a)}))}function Jn(e,t){if(e.l.s)for(let t of e.l.s)Ct(t);t()}if(x){let e=function(e){if(!(e in globalThis)){let t;Object.defineProperty(globalThis,e,{configurable:!0,get:()=>{if(void 0!==t)return t;!function(e){if(x){let t=new Error(`rune_outside_svelte\nThe \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files\nhttps://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/rune_outside_svelte")}(e)},set:e=>{t=e}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}function ea(e){null===si&&ri("onMount"),Z&&null!==si.l?function(e){var t,i=e.l;return(t=i).u??(t.u={a:[],b:[],m:[]})}(si).m.push(e):Vt((()=>{let t=At(e);if("function"==typeof t)return t}))}function ta(e){null===si&&ri("onDestroy"),ea((()=>()=>At(e)))}function ia(e,t,i){if(null==e)return t(void 0),i&&i(void 0),O;let n=At((()=>e.subscribe(t,i)));return n.unsubscribe?()=>n.unsubscribe():n}var na=[];function aa(e,t){return{subscribe:oa(e,t).subscribe}}function oa(e,t=O){let i=null,n=new Set;function a(t){if(Q(e,t)&&(e=t,i)){let t=!na.length;for(let t of n)t[1](),na.push(t,e);if(t){for(let e=0;e<na.length;e+=2)na[e][0](na[e+1]);na.length=0}}}function o(t){a(t(e))}return{set:a,update:o,subscribe:function(r,s=O){let l=[r,s];return n.add(l),1===n.size&&(i=t(a,o)||O),r(e),()=>{n.delete(l),0===n.size&&i&&(i(),i=null)}}}}function ra(e,t,i){let n=!Array.isArray(e),a=n?[e]:e;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");let o=t.length<2;return aa(i,((e,i)=>{let r=!1,s=[],l=0,d=O,u=()=>{if(l)return;d();let a=t(n?s[0]:s,e,i);o?e(a):d="function"==typeof a?a:O},c=a.map(((e,t)=>ia(e,(e=>{s[t]=e,l&=~(1<<t),r&&u()}),(()=>{l|=1<<t}))));return r=!0,u(),function(){z(c),d(),r=!1}}))}function sa(e){let t;return ia(e,(e=>t=e))(),t}var la=!1,da=Symbol();function ua(e,t,i){var n,a;let o=(n=i)[a=t]??(n[a]={store:null,source:ie(void 0),unsubscribe:O});if(o.store!==e&&!(da in i))if(o.unsubscribe(),o.store=e??null,null==e)o.source.v=void 0,o.unsubscribe=O;else{var r=!0;o.unsubscribe=ia(e,(e=>{r?o.source.v=e:ne(o.source,e)})),r=!1}return e&&da in i?sa(e):Ct(o.source)}function ca(){let e={};return[e,function(){Mt((()=>{for(var t in e)e[t].unsubscribe();I(e,da,{enumerable:!1,value:!0})}))}]}var pa={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set:(e,t)=>(x&&function(e){if(x){let t=new Error(`props_rest_readonly\nRest element properties of \`$props()\` such as \`${e}\` are readonly\nhttps://svelte.dev/e/props_rest_readonly`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/props_rest_readonly")}(`${e.name}.${String(t)}`),!1),getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has:(e,t)=>!e.exclude.includes(t)&&t in e.props,ownKeys:e=>Reflect.ownKeys(e.props).filter((t=>!e.exclude.includes(t)))};function va(e,t,i){return new Proxy(x?{props:e,exclude:t,name:i,other:{},to_proxy:[]}:{props:e,exclude:t},pa)}var ha={get(e,t){let i=e.props.length;for(;i--;){let n=e.props[i];if(B(n)&&(n=n()),"object"==typeof n&&null!==n&&t in n)return n[t]}},set(e,t,i){let n=e.props.length;for(;n--;){let a=e.props[n];B(a)&&(a=a());let o=L(a,t);if(o&&o.set)return o.set(i),!0}return!1},getOwnPropertyDescriptor(e,t){let i=e.props.length;for(;i--;){let n=e.props[i];if(B(n)&&(n=n()),"object"==typeof n&&null!==n&&t in n){let e=L(n,t);return e&&!e.configurable&&(e.configurable=!0),e}}},has(e,t){if(t===k||t===S)return!1;for(let i of e.props)if(B(i)&&(i=i()),null!=i&&t in i)return!0;return!1},ownKeys(e){let t=[];for(let i of e.props){B(i)&&(i=i());for(let e in i)t.includes(e)||t.push(e)}return t}};function ga(...e){return new Proxy({props:e},ha)}function fa(e){return e.ctx?.d??!1}function ma(e,t,i,n){var a,o=!!(1&i),r=!Z||!!(2&i),s=!!(8&i),l=!!(16&i),d=!1;s?[a,d]=function(e){var t=la;try{return la=!1,[e(),la]}finally{la=t}}((()=>e[t])):a=e[t];var u,c=k in e||S in e,p=s&&(L(e,t)?.set??(c&&t in e&&(i=>e[t]=i)))||void 0,v=n,h=!0,g=!1,f=()=>(g=!0,h&&(h=!1,v=l?At(n):n),v);if(void 0===a&&void 0!==n&&(p&&r&&function(e){if(x){let t=new Error(`props_invalid_value\nCannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value\nhttps://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}throw new Error("https://svelte.dev/e/props_invalid_value")}(t),a=f(),p&&p(a)),r)u=()=>{var i=e[t];return void 0===i?f():(h=!0,g=!1,i)};else{var m=(o?re:se)((()=>e[t]));m.f|=131072,u=()=>{var e=Ct(m);return void 0!==e&&(v=void 0),void 0===e?v:e}}if(!(4&i))return u;if(p){var b=e.$$legacy;return function(e,t){return arguments.length>0?((!r||!t||b||d)&&p(t?u():e),e):u()}}var y=!1,_=!1,w=ie(a),$=re((()=>{var e=u(),t=Ct(w);return y?(y=!1,_=!0,t):(_=!1,w.v=e)}));return s&&Ct($),o||($.equals=G),function(e,t){if(null!==st&&(y=_,u(),Ct(w)),arguments.length>0){let i=t?Ct($):r&&s?Pe(e):e;if(!$.equals(i)){if(y=!0,ne(w,i),g&&void 0!==v&&(v=i),fa($))return e;At((()=>Ct($)))}return e}return fa($)?$.v:Ct($)}}function ba(e,t,i,n){let a=i[e]?.type;if(!n||!i[e])return t;if("toAttribute"===n)switch(a){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(a){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}"function"==typeof HTMLElement&&HTMLElement;typeof window<"u"&&((a=(n=window).__svelte??(n.__svelte={})).v??(a.v=new Set)).add("5");var ya,_a={isMobile:void 0,debugLog:!1,devNullLog:!1,defaultLanguage:g.InterfaceLanguage.RU,downloadVKLanguages:!0,updateBuiltinLanguages:!0,isSmoothVideoRotate:!0,showSupport:!0,supportLink:"https://vk.com/support?act=new&from=v",showLogo:void 0,logoLink:"https://vk.com/video",logoType:"vk_video",volumeDefault:1,volumeMinRestore:.05,loaderDelay:500,minSubtitlesFontSize:13,autoSubtitlesTimeout:2e3,allowChangingFullscreenTarget:!0,trafficSavingLimit:g.VideoQuality.Q_480P,highQualityLimit:g.VideoQuality.Q_720P,episodeMinWidthPc:8,hideThumbTimerAfterTouch:!0,preventPauseOnVideoClick:!1,sentry:{dsn:"https://e349fd23c68f405388980d0868d0ff27@sentry.mvk.com/126",sampleRate:.01,whiteErrorCategoryList:[],blackErrorCategoryList:[],whiteErrorIdList:[],blackErrorIdList:[]},features:{autoplay:!0,statistics:!0,sentry:!0,preload:!0,subtitles:!0,episodes:!0,fullscreen:!0,timelinePreview:!0,mediaSession:!0,annotations:!0,slots:!0,annotationsInside:!1,pip:!0,dpip:!0,download:!0,liveRewind:!0,playbackRate:!0,trafficSaving:!0,episodesClustering:!0,copyVideoLink:!0,videoRotate:!0,interactiveGraph:!1,interactiveResponsiveUi:!1,seekToInteractive:!0,interactiveLastFrame:!1,interactiveTextPermanent:!0,interactiveHideTime:!0,interactivePlayPrevChapter:!0,interactiveTimeIndicator:!0,interactiveTimeOpenUri:!1,interactiveAreaControlShadow:!1,interactiveControlsExpectTimeBlinkAnimation:!1,thumbTimer:!0,hotKeyMapModal:!0,hotKeyHelpers:!0,saveDebugInfoToFile:!1,saveTraceInfoToFile:!1,additionalButtons:!0,additionalButtonsDesktopControlPanelRight:!0,additionalSettingsMenuItems:!0,additionalContextMenuItems:!0,contextMenuButton:!0,audioLanguages:!1,saveRate:!1,fullscreenInternalTargetPlayerContainer:!1,endScreen:!0,autoplayNext:!0,nextPrevButtons:!0,previewNoEmptySpace:!1,exposeInternalsToGlobal:!1,skipInitialPlaybackRateValue:!1,qualityDetailsSubMenuEnabled:!1,showSlowVideoNotification:!1,forceAutoQualityWhenSevereStallHappens:!1,timeoutShowSlowVideoNotification:0,maxCountShowSlowVideoNotification:1,forcePlayerDisplayBlock:!1},controls:{showOnStartupAtAutoplay:!0,hideTimeout:500,hideTimeoutMobile:3e3,hideTimeoutInitial:200,hideTimeoutFullscreen:3e3,hideTimeoutCursor:3e3,hideTimeoutTooltips:1e3,collapseMobileUnmute:6e3,hide360IconTimeout:3e3,hideHotKeyHelpers:2e3,playbackRateMin:.25,playbackRateMax:2,playbackRateStep:.25,volumeStepKeyboard:.05,volumeStepWheel:.05,volumeBarTimeout:300,seekStepKeyboard:1e4,seekStepMobile:15e3,seekStepFrame:400},ads:{enable:void 0,initTimeout:2e3,loadTimeout:2e3,runtimeTimeout:5e3,slot:void 0,preview:void 0,isMobileGoToSiteButton:!0,useAdmanFromNPM:!1,volumeMultiplier:1,isVsidOriginal:!1},interactive:{historyMaxLength:100,noInteractionEventTimeout:3e4},view:{timelineSliderColor:null,timelineSliderHandleColor:null,timelineSliderFilledColor:null,timelineSliderLoadedColor:null,volumeSliderColor:null,volumeSliderHandleColor:null,volumeSliderFilledColor:null,controlsTimeColor:null,timelineSliderFilledActiveLiveColor:null,timelineSliderHandleActiveLiveColor:null,buttonColor:null,buttonToggleOnColor:null,focusedColor:null}},wa=()=>ci("ui-config"),xa="vk_player_debug_panel_opened",ka="f",$a="k",Sa="c",Ca="m",Aa=new Set(["ArrowLeft","ArrowRight","KeyL","KeyJ"]),Ta=new Set(["Tab","Space","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"]),Pa=new Set(["ShiftRight","ShiftLeft"]),Ea=["TIMELINE"],Ia=[...Ea,"GRAPH_BUTTON"],La=[...Ea,"PLAY_BUTTON"],Ma=[...Ia,"PLAY_BUTTON"],Va=((ya=Va||{}).XS="xs",ya.S="s",ya.M="m",ya.L="l",ya.XL="xl",ya),Na={xs:0,s:1,m:2,l:3,xl:4},Ra="prod",Ba="1.1.60",Oa=(e,t,i)=>{let n=document.createElement("a");n.href=e,n.download=`${t}.${i}`,n.style.display="none",n.click()},Da=Symbol("storeContext"),za=Symbol("microStoresContext"),qa=()=>{let e=ci(Da);return(0,g.assertNonNullable)(e,"Store context is empty!"),e},Ha=()=>{let e=ci(za);return(0,g.assertNonNullable)(e,"MicroStores context is empty!"),e},ja=(e,t)=>Fa(e,e.getValue(),t),Fa=(e,t,i)=>aa(t,(t=>{let n=e.subscribe((e=>{t(e),i?.(e)}));return()=>n.unsubscribe()})),Ua=class{async download(e){if(this.pendingDownloads.has(e))return null;this.pendingDownloads.add(e);try{let t=await fetch(e,{signal:this.destroyController.signal});if(t.ok)return await t.text();throw t}finally{this.pendingDownloads.delete(e)}}destroy(){this.destroyController.abort(),this.pendingDownloads.clear()}isDestroyed(){return this.destroyController.signal.aborted}constructor(){this.destroyController=new AbortController,this.pendingDownloads=new Set}},Wa="vk_player_prefer_traffic_saving_enabled",Qa="vk_player_preferred_volume",Ka="vk_player_prefer_volume_mute",Ga="vk_player_preferred_quality",Za="vk_player_preferred_default_quality_settings",Ya="vk_player_preferred_quality_settings_by_video",Xa="vk_player_preferred_stream_language",Ja="vk_player_preferred_rate",eo="vk_player_preferred_autoplay_next",to=e=>e>1?1:e<0?0:e,io=e=>g.safeStorage.set(Qa,to(e).toString(10)),no=()=>{let e=g.safeStorage.get(Qa);return(0,g.isNullable)(e)?void 0:to(parseFloat(e))},ao=(e,t)=>g.safeStorage.set(Ga,JSON.stringify({videoId:e,value:t})),oo=()=>g.safeStorage.remove(Ga),ro=e=>{let t=g.safeStorage.get(Ga);if((0,g.isNullable)(t))return;let{videoId:i,value:n}=JSON.parse(t);if(e===i)return n;oo()},so=(e,t)=>{t?g.safeStorage.set(e,"true"):g.safeStorage.remove(e)},lo=e=>"true"===g.safeStorage.get(e),uo=e=>so(Ka,e),co=e=>so(Wa,e),po=()=>lo(Wa),vo=e=>g.safeStorage.set(Xa,e),{getPreferredQualitySettings:ho,migrateSettingsToLegacyWay:go,savePreferredQualitySettings:fo,savePreferredDefaultQualitySettings:mo,removePreferredQualitySettingsByVideo:bo,getPreferredDefaultQualitySettings:yo}=(()=>{let e=e=>{g.safeStorage.set(Za,JSON.stringify(e))},t=()=>{try{let e=g.safeStorage.get(Za);return e?JSON.parse(e):null}catch{return null}},i=e=>{g.safeStorage.set(Ya,JSON.stringify(e))},n=i=>{o(i);let n=i?(()=>{try{let e=g.safeStorage.get(Ya);return e?JSON.parse(e):null}catch{return null}})():null;if(n&&n?.videoId===i)return{...n,appliesTo:"to-video"};n&&a();let r=t();return r?{...r,appliesTo:"as-default"}:(e({type:"auto_quality"}),{type:"auto_quality",appliesTo:"as-default"})},a=()=>{g.safeStorage.remove(Ya)},o=t=>{let n=ro(t);n?i({type:"exact_quality",videoId:t,quality:n}):(po()&&e({type:"traffic_saving",videoId:t}),co(!1),oo())};return{getPreferredQualitySettings:n,migrateSettingsToLegacyWay:e=>{let t=n(e);if(t){switch(t.type){case"traffic_saving":co(!0);break;case"exact_quality":ao(e,t.quality)}a(),g.safeStorage.remove(Za)}},savePreferredQualitySettings:(t,n="as-default")=>{"exact_quality"===t.type?i(t):"as-default"===n?e(t):i(t)},savePreferredDefaultQualitySettings:e,removePreferredQualitySettingsByVideo:a,getPreferredDefaultQualitySettings:t}})(),_o=zi('<svg><!><g filter="url(#a)"><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M67 9.489A3.49 3.49 0 0 1 63.511 13 3.493 3.493 0 0 1 60 9.489 3.49 3.49 0 0 1 63.511 6 3.484 3.484 0 0 1 67 9.489m-5.003 0c0 .834.68 1.514 1.514 1.514.812 0 1.492-.68 1.492-1.514 0-.812-.68-1.492-1.492-1.492-.834 0-1.514.68-1.514 1.492" clip-rule="evenodd"></path><path fill="var(--btn-color, #fff)" d="M26.86 15.183c1.372-.492 2.534-1.711 2.534-3.61C29.394 8.922 27.185 7 24.07 7c-1.965 0-3.573.784-4.67 2.29l-.108.149a1.333 1.333 0 0 0 .268 1.855c.536.402 1.295.343 1.736-.162.09-.102.164-.19.205-.247.594-.81 1.431-1.306 2.5-1.306 1.534 0 2.604.915 2.604 2.251 0 1.36-1.093 2.275-2.651 2.275h-.583a1.231 1.231 0 0 0 0 2.462h.583c1.744 0 2.907.985 2.907 2.392 0 1.453-1.186 2.462-2.884 2.462-1.296 0-2.201-.552-2.883-1.603a10 10 0 0 0-.2-.287 1.403 1.403 0 0 0-2.052-.246c-.494.42-.65 1.13-.305 1.68.072.116.146.227.218.322C20.132 23.137 21.678 24 23.999 24c3.28 0 5.628-2.04 5.628-4.924 0-2.204-1.395-3.4-2.767-3.893"></path><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M37.732 12.675c-.465 0-1 .046-1.511.164l2.584-3.74a1.338 1.338 0 1 0-2.203-1.518l-3.753 5.469c-1.418 2.133-1.837 3.822-1.837 5.276 0 3.47 2.558 5.674 6.186 5.674 3.604 0 6.162-2.392 6.162-5.768 0-3.236-2.349-5.557-5.628-5.557m-.534 8.746c-1.977 0-3.326-1.267-3.326-3.142 0-1.853 1.349-3.142 3.326-3.142 1.953 0 3.302 1.29 3.302 3.142 0 1.875-1.35 3.142-3.302 3.142M58 15.512c0 5.041-2.697 8.441-6.627 8.441s-6.628-3.4-6.628-8.441 2.698-8.442 6.628-8.442S58 10.47 58 15.512m-10.348 0c0 3.564 1.488 5.862 3.72 5.862s3.721-2.298 3.721-5.862-1.488-5.862-3.72-5.862-3.72 2.298-3.72 5.862Z" clip-rule="evenodd"></path><path fill="var(--btn-color, #fff)" d="M67 23.5c0-1.318-1.201-3.094-4.199-4.673a1.5 1.5 0 1 1 1.398-2.654C67.452 17.886 70 20.433 70 23.5c0 3.126-2.556 5.554-6.088 7.27-3.633 1.766-8.825 3.062-15.259 3.722a1.5 1.5 0 0 1-.306-2.984c6.248-.641 11.057-1.882 14.253-3.436C65.897 26.47 67 24.8 67 23.5M38.879 35H38c-9.64 0-17.447-1.133-22.9-3.018-2.72-.941-4.94-2.099-6.506-3.468C7.019 27.138 6 25.445 6 23.5c0-1.64.785-3.073 1.908-4.255 1.119-1.179 2.66-2.205 4.42-3.086a1.5 1.5 0 1 1 1.343 2.682c-1.584.793-2.794 1.634-3.588 2.47C9.293 22.143 9 22.873 9 23.5c0 .807.407 1.74 1.568 2.755 1.17 1.022 2.996 2.02 5.513 2.892C21.106 30.885 28.55 32 38 32h.879l-1.44-1.44a1.5 1.5 0 0 1 2.122-2.12l3.999 3.998.01.011a1.5 1.5 0 0 1 .317 1.624 1.5 1.5 0 0 1-.326.488l-4 4a1.5 1.5 0 0 1-2.122-2.122L38.88 35Z"></path><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-opacity=".12" stroke-width=".5" d="m7.908 19.245-.181-.173c1.146-1.206 2.714-2.248 4.49-3.137a1.75 1.75 0 1 1 1.566 3.13c-1.57.786-2.752 1.61-3.519 2.418-.762.802-1.014 1.474-1.014 2.017 0 .713.357 1.583 1.483 2.567 1.136.993 2.93 1.978 5.43 2.843 4.99 1.726 12.403 2.84 21.837 2.84h.275l-1.012-1.013a1.75 1.75 0 1 1 2.474-2.474l4 3.998h0l.012.013s0 0 0 0c.162.165.284.354.368.556q0 0 0 0l-.23.096A1.5 1.5 0 0 1 44 33.5q-.002.306-.113.573L7.907 19.245Zm0 0-.181-.173C6.576 20.284 5.75 21.775 5.75 23.5c0 2.04 1.07 3.796 2.68 5.202 1.599 1.398 3.85 2.569 6.589 3.516C20.506 34.116 28.343 35.25 38 35.25h.275zm29.824-6.82c-.3 0-.63.018-.965.063l2.244-3.247c.728-1.054-.026-2.491-1.306-2.491-.524 0-1.014.258-1.31.69l-3.752 5.468h0l-.002.003c-1.442 2.17-1.879 3.905-1.879 5.415 0 1.8.665 3.288 1.815 4.324 1.147 1.033 2.757 1.6 4.62 1.6 3.727 0 6.413-2.488 6.413-6.018 0-3.377-2.464-5.807-5.878-5.807m25.779.825c2.07 0 3.739-1.67 3.739-3.761 0-2.07-1.67-3.739-3.739-3.739a3.74 3.74 0 0 0-3.761 3.739 3.743 3.743 0 0 0 3.761 3.761m0-2.497a1.267 1.267 0 0 1-1.264-1.264c0-.671.566-1.242 1.264-1.242.674 0 1.242.568 1.242 1.242 0 .698-.57 1.264-1.242 1.264m-33.634 8.323c0-2.043-1.139-3.272-2.388-3.895 1.208-.629 2.155-1.846 2.155-3.609 0-2.82-2.357-4.822-5.575-4.822-2.04 0-3.724.818-4.871 2.392l-.109.149a1.583 1.583 0 0 0 .32 2.203c.635.476 1.542.411 2.074-.197.09-.103.17-.198.219-.264.553-.755 1.318-1.204 2.297-1.204.72 0 1.309.214 1.715.564.403.347.64.84.64 1.437 0 .608-.242 1.107-.653 1.457-.415.353-1.017.568-1.748.568h-.583a1.481 1.481 0 0 0 0 2.962h.583c.826 0 1.493.233 1.948.61.451.375.709.902.709 1.532 0 .654-.265 1.2-.718 1.586-.455.388-1.116.626-1.916.626-.61 0-1.117-.13-1.548-.375s-.801-.614-1.125-1.114a11 11 0 0 0-.206-.296 1.653 1.653 0 0 0-2.417-.292c-.577.49-.774 1.335-.356 2.004.075.119.152.236.23.339.704.945 1.462 1.652 2.352 2.121.892.47 1.9.692 3.094.692 3.383 0 5.877-2.121 5.877-5.174m7.32 2.095c-.934 0-1.7-.299-2.232-.8-.53-.5-.843-1.217-.843-2.092 0-.863.313-1.581.844-2.085s1.298-.807 2.232-.807c.92 0 1.682.303 2.21.807.529.503.842 1.222.842 2.085 0 .875-.314 1.593-.84 2.093-.53.5-1.29.799-2.212.799Zm14.176 3.032c2.044 0 3.772-.887 4.983-2.425 1.208-1.534 1.894-3.703 1.894-6.266s-.686-4.732-1.894-6.266c-1.211-1.539-2.94-2.426-4.983-2.426-2.044 0-3.773.887-4.984 2.426-1.208 1.534-1.894 3.703-1.894 6.266s.686 4.732 1.894 6.266c1.211 1.538 2.94 2.425 4.984 2.425m0-3.08c-1.017 0-1.874-.518-2.487-1.478-.618-.968-.984-2.382-.984-4.133 0-1.752.366-3.166.984-4.133.613-.96 1.47-1.48 2.487-1.48s1.873.52 2.486 1.48c.618.967.984 2.381.984 4.133 0 1.751-.366 3.165-.984 4.133-.613.96-1.47 1.479-2.486 1.479Zm11.312-2.075c2.975 1.567 4.065 3.279 4.065 4.452 0 1.148-.983 2.756-4.259 4.347-3.16 1.536-7.937 2.773-14.17 3.412a1.75 1.75 0 0 0 .358 3.482c6.45-.662 11.673-1.963 15.342-3.746 3.551-1.725 6.229-4.216 6.229-7.495 0-3.213-2.661-5.825-5.935-7.548a1.75 1.75 0 1 0-1.63 3.096"></path></g><defs><filter id="a" width="75" height="44" x=".5" y=".5" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset></feOffset><feGaussianBlur stdDeviation="2.5"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_618_12297"></feBlend><feBlend in="SourceGraphic" in2="effect1_dropShadow_618_12297" result="shape"></feBlend></filter></defs></svg>');function wo(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=_o();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"76",height:"45",fill:"none","data-testid":"video-360-icon",role:"img",...i}))),ji(e,n)}var xo={auto_quality_invariant:"Авто",auto_quality:"Авто ({actual})",auto_quality_option:"Авто",other_quality:"Другое",high_quality:"Высокое качество",high_quality_description:"Будет использовано больше трафика",auto_quality_limit:"Автоматически",traffic_saving_quality:"Экономия трафика",traffic_saving_quality_description:"Видео грузятся быстрее, но качество ниже",default_quality_for_any_video:"Качество для всех видео",quality_applience:"Качество по умолчанию можно {action}",quality_applience_action:"изменить",menu_quality:"Качество",menu_traffic_saving:"Экономия данных",menu_playback_rate:"Скорость",menu_report:"Сообщить о проблеме",menu_pip:"Картинка в картинке",menu_copy_video_link:"Скопировать ссылку на видео",menu_copy_video_link_with_timestamp:"Скопировать ссылку на кадр",menu_video_rotate:"Повернуть",menu_video_loop_on:"Включить повторение",menu_video_loop_off:"Отключить повторение",menu_chromecast:"Chromecast трансляция",menu_copy_debug:"Копировать данные для диагностики",menu_save_debug:"Сохранить данные для диагностики",menu_debug_overlay:"Техническая информация",menu_copy_embed_code:"Копировать код для встраивания",menu_audio_languages:"Звуковая дорожка",audio_stream_display_language_label:"{label} ({language})",audio_stream_display_language_label_index:"{label} {index} ({language})",audio_stream_display_label_index:"{label} {index}",audio_stream_display_language_index:"{language} {index}",audio_stream_display_unknown:"Дорожка {index}",pip_dummy_title:"Видео воспроизводится в режиме картинка в картинке",submenu_quality:"Качество",submenu_playback_rate:"Скорость",submenu_settings:"Настройки",submenu_traffic_saving:"Экономия данных",submenu_audio_languages:"Звуковая дорожка",mobile_unmute:"Включить звук",playing_ads:"Реклама {timeleft}",skip_ads_now:"Пропустить рекламу",skip_ads_after:"Пропустить {time}с",visit_advertiser:"Перейти на сайт",aria_timeline:"Ползунок временной шкалы",aria_timeline_value:"{position} (общая длительность {duration}",aria_open_settings:"Открыть настройки видеоплеера",doubletap_seek_step:"{seconds} секунд",playback_rate_1:"Обычная",playback_rate:"{multiplier}x",video360:"панорамное видео",subtitles_caption:"Субтитры",subtitles_auto:"{language} (Автоматические)",subtitles_off:"Выкл.",subtitles_auto_caption:"Автоматические субтитры",subtitles_turn_on:"Включить субтитры",subtitles_turn_off:"Выключить субтитры",traffic_saving_off:"Откл.",traffic_saving_on:"Вкл.",traffic_saving_disable:"Отключена",traffic_saving_enable:"Включена",traffic_saving_helper_text:"При включении качество видео будет снижено для экономии трафика",tooltip_button_disabled:"Кнопка недоступна",tooltip_previous:"Предыдущее видео",tooltip_restart:"Начать заново",tooltip_play:"Смотреть",tooltip_pause:"Пауза",tooltip_next:"Следующее видео",tooltip_interactive_go_back:"Вернуться к предыдущей главе",tooltip_interactive_go_back_disabled:"История прохождения недоступна",tooltip_interactive_go_back_disabled_first:"Вы смотрите первую главу",tooltip_interactive_go_back_disabled_limit:"Лимит возвратов исчерпан",tooltip_chapter_without_interactive:"В этой главе нет интерактива",tooltip_interactive_of_chapter_completed:"Интерактивы этой главы уже пройдены",tooltip_interactive_seek:"Перейти к интерактиву",tooltip_interactive_graph_off:"Показать карту сюжета",tooltip_interactive_graph_on:"Скрыть карту сюжета",tooltip_live:"Перемотать на актуальный лайв",tooltip_episodes:"Эпизоды",tooltip_volume:"Включить звук",tooltip_volume_muted:"Выключить звук",tooltip_subtitles_off:"Включить субтитры",tooltip_subtitles_on:"Выключить субтитры",tooltip_settings_off:"Открыть настройки",tooltip_settings_on:"Закрыть настройки",tooltip_fullscreen_off:"На весь экран",tooltip_fullscreen_on:"Выйти из полноэкранного режима",tooltip_chromecast_off:"Включить Chromecast",tooltip_chromecast_on:"Выключить Chromecast",tooltip_episode_finished:"Вы уже сделали свой выбор",tooltip_episode_unfinished:"Не пройдено",tooltip_disabled_when_interactive:"Интерактив уже идёт",tooltip_disabled_when_graph_on:"Кнопка недоступна во время просмотра карты",tooltip_interactive_interaction_time_indicator:"Нажмите на элемент интерактива",tooltip_vk_logo:"Открыть в VK Видео",tooltip_vk_video_logo:"Перейти в VK Видео",tooltip_autoplay_off:"Включить автовоспроизведение",tooltip_autoplay_on:"Отключить автовоспроизведение",download_video_caption:"Скачать видео",hotkey_helper_current_volume:"{value} %",hotkey_map_modal_title:"Быстрые клавиши",hotkey_map_modal_close_btn_text:"Закрыть",hotkey_map_group_title_common:"Общие",hotkey_map_group_title_playback:"Воспроизведение",hotkey_map_group_title_subtitles:"Субтитры",hotkey_map_group_title_episodes:"Эпизоды",hotkey_map_item_mute_description:"Включить или отключить звук",hotkey_map_item_mute_value:"m",hotkey_map_item_volume_up_description:"Увеличить громкость",hotkey_map_item_volume_up_value:"Стрелка вверх",hotkey_map_item_volume_down_description:"Уменьшить громкость",hotkey_map_item_volume_down_value:"Стрелка вниз",hotkey_map_item_pip_description:"Свернуть или развернуть мини-проигрыватель",hotkey_map_item_pip_value:"i",hotkey_map_item_full_screen_description:"Включить или выключить полноэкранный режим",hotkey_map_item_full_screen_value:"f",hotkey_map_item_show_context_menu_description:"Скрыть или показать контекстное меню",hotkey_map_item_show_context_menu_value:"Shift + !",hotkey_map_item_show_hotkey_map_description:"Скрыть или показать список горячих клавиш",hotkey_map_item_show_hotkey_map_value:"Shift + ?",hotkey_map_item_play_toggle_description:"Приостановить или продолжить воспроизведение",hotkey_map_item_play_toggle_value:"Пробел (или k)",hotkey_map_item_seek_backward_description:"Перемотать ролик на 10 секунд назад",hotkey_map_item_seek_backward_value:"Стрелка влево (или j)",hotkey_map_item_seek_forward_description:"Перемотать ролик на 10 секунд вперёд",hotkey_map_item_seek_forward_value:"Стрелка вправо (или l)",hotkey_map_item_fast_seek_backward_description:"Ускоренная перемотка назад",hotkey_map_item_fast_seek_backward_value:"Shift + Стрелка влево",hotkey_map_item_fast_seek_forward_description:"Ускоренная перемотка вперёд",hotkey_map_item_fast_seek_forward_value:"Shift + Стрелка вправо",hotkey_map_item_rate_down_description:"Уменьшить скорость воспроизведения",hotkey_map_item_rate_down_value:"< (Shift + ,)",hotkey_map_item_rate_up_description:"Увеличить скорость воспроизведения",hotkey_map_item_rate_up_value:"> (Shift + .)",hotkey_map_item_prev_frame_description:"Перейти к предыдущему кадру <br />(когда воспроизведение приостановлено)",hotkey_map_item_prev_frame_value:",",hotkey_map_item_next_frame_description:"Перейти к следующему кадру <br />(когда воспроизведение приостановлено)",hotkey_map_item_next_frame_value:".",hotkey_map_item_jump_seek_description:"Перейти к определённому моменту видео <br />(например, при нажатии на цифру «7» ролик будет перемотан до временной отметки, которая соответствует 70% от длительности видео)",hotkey_map_item_jump_seek_value:"0, 1, 2, 3, 4, 5, 6, 7, 8, 9",hotkey_map_item_subtitles_toggle_description:"Включить или отключить субтитры",hotkey_map_item_subtitles_toggle_value:"c",hotkey_map_item_prev_episode_description:"Перейти к предыдущему эпизоду",hotkey_map_item_prev_episode_pc_value:"Ctrl + Стрелка влево",hotkey_map_item_prev_episode_mac_value:"Option + Стрелка влево",hotkey_map_item_next_episode_description:"Перейти к следующему эпизоду",hotkey_map_item_next_episode_pc_value:"Ctrl + Стрелка вправо",hotkey_map_item_next_episode_mac_value:"Option + Стрелка вправо",hotkey_map_item_next_video_description:"Перейти к следующему видео",hotkey_map_item_next_video_value:"Shift + N",hotkey_map_item_prev_video_description:"Перейти к предыдущему видео",hotkey_map_item_prev_video_value:"Shift + P",waiting_live_day_value:"дн",waiting_live_hour_value:"ч",waiting_live_minute_value:"мин",waiting_live_second_value:"сек",waiting_live_colon:":",waiting_live_upcoming_title:"Трансляция еще не началась",waiting_live_timer_title:"До начала трансляции осталось",waiting_live_recover_title:"Трансляция приостановлена - она продолжится, когда автор вернётся",waiting_record_title:"Трансляция завершена - запись появится позже",aria_label_video_player:"Видео плеер",aria_label_spherical_control:"Контроллер для сферического видео. Используйте клавиши со стрелками для панорамирования видео.",aria_label_debug_panel:"Область с технической информацией, сделайте скриншот для техподдержки",aria_label_new_tab_alert:"Откроется в новой вкладке.",aria_label_context_menu_open:"Открыть контекстное меню",aria_label_context_menu_close:"Закрыть контекстное меню",aria_label_menu_quality:"Качество: {actual}",aria_label_menu_audio_languages:"Язык аудио: {actual}",aria_label_menu_rate:"Скорость: {actual}",aria_label_menu_subtitle:"Субтитры: {actual}",aria_label_menu_download:"Скачать видео",aria_label_menu_debug_overlay_enable:"Включить отображение технической информации",aria_label_menu_debug_overlay_disable:"Выключить отображение технической информации",aria_label_menu_rotate:"Повернуть видео на 90 градусов",aria_label_menu_loop:"Переключение режима повторения",aria_label_submenu_back:"Вернуться в меню настроек",aria_label_submenu_traffic_saving_off:"Выключить режим экономии данных",aria_label_submenu_traffic_saving_on:"Включить режим экономии данных",end_screen_next_video:"Следующее видео",end_screen_recommended_video:"Рекомендуемое видео",slow_video_notification_button:"Выбрать качество «Авто»",slow_video_notification_force_description:"Видео грузится слишком медленно,\nкачество изменено на «Авто»",slow_video_notification_suggest_description:"Видео загружается слишком медленно -\nпопробуйте изменить качество на «Авто»"},ko={mobile_unmute:"Unmute",auto_quality_invariant:"Auto",auto_quality:"Auto ({actual})",auto_quality_option:"Auto",other_quality:"Other",high_quality:"High quality",high_quality_description:"Uses more data",auto_quality_limit:"Auto",traffic_saving_quality:"Data saving",traffic_saving_quality_description:"Videos load faster but at lower quality",quality_applience:"You can {action} the default quality",quality_applience_action:"change",default_quality_for_any_video:"Quality for all videos",menu_quality:"Quality",menu_playback_rate:"Playback rate",menu_traffic_saving:"Data saving",menu_report:"Report a problem",menu_pip:"Picture in picture",menu_copy_video_link:"Copy video link",menu_copy_video_link_with_timestamp:"Copy link with timestamp",menu_video_rotate:"Rotate",menu_video_loop_on:"Enable loop",menu_video_loop_off:"Disable loop",menu_chromecast:"Chromecast stream",menu_copy_debug:"Copy debug info",menu_save_debug:"Save debug info",menu_debug_overlay:"Tech stats",menu_copy_embed_code:"Copy embed code",menu_audio_languages:"Audio track",audio_stream_display_language_label:"{label} ({language})",audio_stream_display_language_label_index:"{label} {index} ({language})",audio_stream_display_label_index:"{label} {index}",audio_stream_display_language_index:"{language} {index}",audio_stream_display_unknown:"Audio track {index}",pip_dummy_title:"Video plays in picture-in-picture mode",submenu_quality:"Quality",submenu_playback_rate:"Playback rate",submenu_traffic_saving:"Data saving",submenu_settings:"Settings",submenu_audio_languages:"Audio track",playing_ads:"Ads {timeleft}",skip_ads_after:"Skip ads",skip_ads_now:"Skip {time}s",visit_advertiser:"Visit site",aria_timeline:"Time scale slider",aria_timeline_value:"{position} out of {duration}",aria_open_settings:"Open video player settings",doubletap_seek_step:"{seconds} seconds",playback_rate_1:"Normal",playback_rate:"{multiplier}x",video360:"spherical video",subtitles_caption:"Subtitles",subtitles_auto:"{language} (Auto-generated)",subtitles_off:"Off",subtitles_auto_caption:"Auto subtitles",subtitles_turn_on:"Turn on subtitles",subtitles_turn_off:"Turn off subtitles",traffic_saving_off:"Off",traffic_saving_on:"On",traffic_saving_disable:"Disabled",traffic_saving_enable:"Enabled",traffic_saving_helper_text:"When turned on the video quality will be reduced to save data",tooltip_button_disabled:"Button disabled",tooltip_previous:"Previous video",tooltip_restart:"Watch again",tooltip_play:"Play",tooltip_pause:"Pause",tooltip_next:"Next video",tooltip_interactive_go_back:"Back to previous chapter",tooltip_interactive_go_back_disabled:"Interactive history unavailable",tooltip_interactive_go_back_disabled_first:"You're watching the first chapter",tooltip_interactive_go_back_disabled_limit:"Go-back limit exceeded",tooltip_chapter_without_interactive:"This chapter has no interactive segment",tooltip_interactive_of_chapter_completed:"Chapter's interactive segments already watched",tooltip_interactive_seek:"Go to interactive",tooltip_interactive_graph_off:"Show interactive graph",tooltip_interactive_graph_on:"Hide interactive graph",tooltip_live:"Go to the live edge",tooltip_episodes:"Episodes",tooltip_volume:"Turn volume off",tooltip_volume_muted:"Turn volume on",tooltip_subtitles_off:"Turn subtitles on",tooltip_subtitles_on:"Turn subtitles off",tooltip_settings_off:"Open settings",tooltip_settings_on:"Close settings",tooltip_fullscreen_off:"Enter fullscreen mode",tooltip_fullscreen_on:"Exit fullscreen mode",tooltip_chromecast_off:"Turn Chromecast on",tooltip_chromecast_on:"Turn Chromecast off",tooltip_episode_finished:"You have already viewed interactive episode",tooltip_episode_unfinished:"Interactive episode not finished",tooltip_disabled_when_interactive:"Interactive video in progress",tooltip_disabled_when_graph_on:"Button is disabled when graph is opened",tooltip_interactive_interaction_time_indicator:"Press the interactive element",tooltip_vk_logo:"Open in VK Video",tooltip_vk_video_logo:"Go to VK Video",tooltip_autoplay_off:"Turn autoplay on",tooltip_autoplay_on:"Turn autoplay off",download_video_caption:"Download video",hotkey_helper_current_volume:"{value} %",hotkey_map_modal_title:"Keyboard shortcuts",hotkey_map_modal_close_btn_text:"Close",hotkey_map_group_title_common:"Common",hotkey_map_group_title_playback:"Playback",hotkey_map_group_title_subtitles:"Subtitles",hotkey_map_group_title_episodes:"Episodes",hotkey_map_item_mute_description:"Toggle mute",hotkey_map_item_mute_value:"m",hotkey_map_item_volume_up_description:"Increase volume",hotkey_map_item_volume_up_value:"Arrow up",hotkey_map_item_volume_down_description:"Decrease volume",hotkey_map_item_volume_down_value:"Arrow down",hotkey_map_item_pip_description:"Toggle miniplayer",hotkey_map_item_pip_value:"i",hotkey_map_item_full_screen_description:"Toggle full screen",hotkey_map_item_full_screen_value:"f",hotkey_map_item_show_context_menu_description:"Hide or show context menu",hotkey_map_item_show_context_menu_value:"Shift + !",hotkey_map_item_show_hotkey_map_description:"Hide or show list of hotkeys",hotkey_map_item_show_hotkey_map_value:"Shift + ?",hotkey_map_item_play_toggle_description:"Toggle play/pause",hotkey_map_item_play_toggle_value:"Space (or k)",hotkey_map_item_seek_backward_description:"Rewind 10 seconds",hotkey_map_item_seek_backward_value:"Arrow left (or j)",hotkey_map_item_seek_forward_description:"Forward 10 seconds",hotkey_map_item_seek_forward_value:"Arrow right (or l)",hotkey_map_item_fast_seek_backward_description:"Fast rewind",hotkey_map_item_fast_seek_backward_value:"Shift + Arrow left",hotkey_map_item_fast_seek_forward_description:"Fast forward",hotkey_map_item_fast_seek_forward_value:"Shift + Arrow right",hotkey_map_item_rate_down_description:"Decrease playback rate",hotkey_map_item_rate_down_value:"< (Shift + ,)",hotkey_map_item_rate_up_description:"Increase playback rate",hotkey_map_item_rate_up_value:"> (Shift + .)",hotkey_map_item_prev_frame_description:"Previous frame (while paused)",hotkey_map_item_prev_frame_value:",",hotkey_map_item_next_frame_description:"Next frame (while paused)",hotkey_map_item_next_frame_value:".",hotkey_map_item_jump_seek_description:"Seek to specific point in the video (7 advances to 70% of duration)",hotkey_map_item_jump_seek_value:"0, 1, 2, 3, 4, 5, 6, 7, 8, 9",hotkey_map_item_subtitles_toggle_description:"Toggle captions ON/OFF",hotkey_map_item_subtitles_toggle_value:"c",hotkey_map_item_prev_episode_description:"Seek to previous episode",hotkey_map_item_prev_episode_pc_value:"Ctrl + Arrow left",hotkey_map_item_prev_episode_mac_value:"Option + Arrow left",hotkey_map_item_next_episode_description:"Seek to next episode",hotkey_map_item_next_episode_pc_value:"Ctrl + Arrow right",hotkey_map_item_next_episode_mac_value:"Option + Arrow right",hotkey_map_item_next_video_description:"Next video",hotkey_map_item_next_video_value:"Shift + N",hotkey_map_item_prev_video_description:"Previous video",hotkey_map_item_prev_video_value:"Shift + P",waiting_live_day_value:"d",waiting_live_hour_value:"h",waiting_live_minute_value:"min",waiting_live_second_value:"sec",waiting_live_colon:":",waiting_live_upcoming_title:"The broadcast hasn't started yet",waiting_live_timer_title:"Before the start of the broadcast left",waiting_live_recover_title:"The broadcast has been paused - it will resume when the author returns",waiting_record_title:"The broadcast completed - recording will appear later",aria_label_video_player:"Video player",aria_label_spherical_control:"Spherical video control. Use the arrow keys to pan the video.",aria_label_debug_panel:"Technical information area, take a screenshot for technical support",aria_label_new_tab_alert:"Opens in a new tab.",aria_label_context_menu_open:"Open context menu",aria_label_context_menu_close:"Close context menu",aria_label_menu_quality:"Quality: {actual}",aria_label_menu_audio_languages:"Audio language: {actual}",aria_label_menu_rate:"Rate: {actual}",aria_label_menu_subtitle:"Subtitles: {actual}",aria_label_menu_download:"Download video",aria_label_menu_debug_overlay_enable:"Enable display of technical information",aria_label_menu_debug_overlay_disable:"Disable display of technical information",aria_label_menu_rotate:"Rotate video 90 degrees",aria_label_menu_loop:"Toggle loop",aria_label_submenu_back:"Return to settings menu",aria_label_submenu_traffic_saving_off:"Disable data saving mode",aria_label_submenu_traffic_saving_on:"Enable data saving mode",end_screen_next_video:"Next video",end_screen_recommended_video:"Recommended video",slow_video_notification_button:"Select Auto quality",slow_video_notification_force_description:"The video is loading too slowly,\nso the quality was changed to Auto",slow_video_notification_suggest_description:"The video is loading too slowly.\nTry switching the quality to Auto."},$o=new Map;$o.set(g.InterfaceLanguage.EN,ko),$o.set(g.InterfaceLanguage.RU,xo);var So,Co,Ao=new Map,To=({language:e,pack:t,fallback:i})=>{if($o.has(e)){let i=$o.get(e);$o.set(e,{...i,...t})}else $o.set(e,t);Ao.set(e,i)},Po=e=>$o.has(e),Eo=(e,t,i,n)=>{let a=$o.get(e)?.[t];if((0,g.isNullable)(a)){let i=Ao.get(e)??n;a=(i?$o.get(i):void 0)?.[t]}return(0,g.isNullable)(a)?t+Object.values(i??{}).join(" "):i?a.replaceAll(/{(\w+?)}/g,((e,t)=>i[t]??"")):a},Io=(e,t)=>{let{interfaceLanguage$:i}=qa(),n=sa(i),a=wa();return Eo(n,e,t,a.defaultLanguage)};(Co=So||(So={})).fatal="fatal",Co.error="error",Co.warning="warning",Co.log="log",Co.info="info",Co.debug="debug",Co.critical="critical";var Lo=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Mo=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,Vo=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,No="?",Ro=/^(?:(\w+):)\/\/(?:([\w-]+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Bo(e){return(e&&e.message||"No error message").split("\n").filter((e=>!!e))[0]}function Oo(e){try{let t=function(e){if(!e.stack)return null;let t,i,n=[],a=e.stack.split("\n");for(let o=0;o<a.length;++o){if(t=Lo.exec(a[o]))i={filename:t[2]&&0===t[2].indexOf("address at ")?t[2].substr(11):t[2],function:t[1]||No,lineno:t[3]?+t[3]:null,colno:t[4]?+t[4]:null};else if(t=Vo.exec(a[o]))i={filename:t[2],function:t[1]||No,lineno:+t[3],colno:t[4]?+t[4]:null};else{if(!(t=Mo.exec(a[o])))continue;0===o&&!t[5]&&void 0!==e.columnNumber&&(n[0].column=e.columnNumber+1),i={filename:t[3],function:t[1]||No,lineno:t[4]?+t[4]:null,colno:t[5]?+t[5]:null}}!i.function&&i.lineno&&(i.function=No),n.push(i)}return n.length?{value:Bo(e),type:e.name,stacktrace:{frames:n.reverse()}}:null}(e);if(t)return t}catch{}return{value:Bo(e),type:e&&e.name,stacktrace:{frames:[]}}}var Do=class{prepare(e){return{...this.getRequestBlank(),exception:{values:[Oo(e)]}}}report(e){this.send(this.prepare(e))}send(e){!this.apiUrl||!e||this.createRequest(e)}createRequest(e){let t=new XMLHttpRequest;t.open("POST",this.apiUrl,!0),t.setRequestHeader("Content-type","application/json"),t.setRequestHeader("X-Sentry-Auth",this.authHeader||""),t.send(JSON.stringify(e))}getRequestBlank(){return{platform:"javascript",event_id:"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),sdk:{name:"micro-sentry.javascript.core",version:"0.0.0"},timestamp:Date.now()/1e3,environment:this.environment}}constructor(e){if(e&&e.dsn){let t=Ro.exec(e.dsn),i=t?t.slice(1):[],n=i[5].split("/"),a=n.slice(0,-1).join("/");this.apiUrl=i[0]+"://"+i[3]+(i[4]?":"+i[4]:"")+(a?"/"+a:"")+"/api/"+n.pop()+"/store/",this.authHeader="Sentry sentry_version=7,sentry_key="+i[1]+(i[2]?",sentry_secret="+i[2]:"")}this.environment=e&&e.environment}};function zo(e,t){return"[object RegExp]"===Object.prototype.toString.call(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t)}var qo=class e extends Do{get state(){return this._state}clearState(){this._state={}}setTags(e){return this.setKeyState("tags",{...e}),this}setTag(e,t){return this.extendState({tags:{[e]:t}}),this}setExtra(e,t){return this.extendState({extra:{[e]:t}}),this}setExtras(e){return this.setKeyState("extra",{...e}),this}setUser(e){return this.setKeyState("user",{...e}),this}clone(){let t=new e({...this.options,plugins:[]});return t.extendState(this.state),t}withScope(e){let t=this.clone();e(t),t.destroy(),this.setBreadcrumbs(void 0)}addBreadcrumb(e){this.extendState({breadcrumbs:[{timestamp:Date.now()/1e3,...this.beforeBreadcrumb(e)}]})}setBreadcrumbs(e){this.setKeyState("breadcrumbs",e)}captureMessage(e,t){this.send({...this.getRequestBlank(),message:e,level:t})}destroy(){this.destroyed=!0,this.plugins.forEach((e=>{e.destroy&&e.destroy()}))}isIgnoredError(e){return!!this.ignoreErrors.length&&this.getPossibleEventMessages(e).some((e=>this.ignoreErrors.some((t=>zo(e,t)))))}getRequestBlank(){return{request:{url:this.window.location.toString(),headers:{"User-Agent":this.window.navigator.userAgent}},...super.getRequestBlank(),sdk:{name:"micro-sentry.javascript.browser",version:"0.0.0"},...this.state}}send(e){this.destroyed||this.isDeniedUrl(e)||this.isIgnoredError(e)||(super.send(this.beforeSend({release:this.release,...e})),this.setBreadcrumbs(void 0))}getPossibleEventMessages(e){if(e.message)return[e.message];if(e.exception)try{let{type:t="",value:i=""}=e.exception.values&&e.exception.values[0]||{};return[`${i}`,`${t}: ${i}`]}catch{return[]}return[]}isDeniedUrl(e){if(!this.blacklistUrls.length)return!1;let t=this.getEventFilterUrl(e);return!!t&&this.blacklistUrls.some((e=>zo(t,e)))}getEventFilterUrl(e){try{if(e.exception){let t=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return t&&t[t.length-1].filename||null}return null}catch{return null}}extendState(e){this._state=Object.keys(e).reduce(((t,i)=>{let n=this._state[i],a=Array.isArray(n)?n:null,o=e[i],r=Array.isArray(o)?o:null;return{...t,[i]:a||r?[...a||[],...r||[]]:{..."string"!=typeof n?n:{},..."string"!=typeof o?o:{}}}}),this._state)}setKeyState(e,t){this._state[e]=t}constructor(e,t=function(){return window}()){super(e),this.options=e,this.window=t,this.destroyed=!1,this._state={};let{plugins:i=[],beforeSend:n=e=>e,beforeBreadcrumb:a=e=>e,blacklistUrls:o=[],ignoreErrors:r=[],release:s}=this.options||{};this.plugins=i.map((e=>new e(this))),this.beforeSend=n,this.beforeBreadcrumb=a,this.blacklistUrls=o,this.ignoreErrors=r,this.release=s}},Ho=null,jo=class{destroy(){this.sentryClient?.destroy(),this.sentrySubscription?.unsubscribe(),Ho=null}logIError(e,t=!1){e.thrown&&this.report(e.thrown,{fatal:t,errorType:e.id,category:e.category},{message:e.message,errorData:e.data})}report(e,t={},i={}){let{sentryClient:n,context:a,options:o}=this,{sampleRate:r=0,whiteErrorIdList:s,whiteErrorCategoryList:l=[],blackErrorIdList:d,blackErrorCategoryList:u}=o,{errorType:c,category:p}=t;if(!((0,g.isNonNullable)(p)&&u.includes(p)||(0,g.isNonNullable)(c)&&d.includes(c))&&(Math.random()<=r||(0,g.isNonNullable)(p)&&l.includes(p)||(0,g.isNonNullable)(c)&&s.includes(c))){Object.keys(t).length&&n.setTags({version:this.version,...t}),(Object.keys(a).length||Object.keys(i).length)&&n.setExtras({...a,...i});try{c&&n.captureMessage(c,t.fatal?So.fatal:So.error),n.report(e)}catch(e){console.error(e)}}}static getInstance(){return Ho}constructor(e,t,i={}){!Ho&&e.dsn&&(this.sentryClient=new qo({dsn:e.dsn,environment:t.env}),this.version=t.version,this.sentrySubscription=new g.Subscription,this.options=e,this.context=i,Ho=this)}},Fo=(e=>(e.Thumb="thumb",e.Video="video",e.Ads="ads",e.Crashed="crashed",e.LiveWaitingStart="LiveWaitingStart",e.LiveWaitingRecover="LiveWaitingRecover",e.LiveWaitingRecord="LiveWaitingRecord",e))(Fo||{}),Uo=e=>{if(e.requestFullscreen)return e.requestFullscreen();if(e.msRequestFullscreen)return e.msRequestFullscreen();if(e.webkitRequestFullscreen)return e.webkitRequestFullscreen();if(e.mozRequestFullScreen)return e.mozRequestFullScreen();let t=e.querySelector("video");return t?.webkitEnterFullscreen?t.webkitEnterFullscreen():Promise.reject()},Wo=e=>e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():Promise.reject(),Qo=()=>{let e=document;return e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement},Ko=()=>!!Qo(),Go=e=>{document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e)},Zo=e=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)},Yo=class{isSupported(){return document.pictureInPictureEnabled}isActive(){return this.isSupported()&&!!document.pictureInPictureElement}setContext(e){this.svelteContext=e}async revealPictureInPicture(){this.isRequested&&(this.unregistryEventHandlers(),await this.request(),this.registryEventHandlers())}async request(){if(this.isSupported()&&!this.isActive())try{await(this.videoElement?.requestPictureInPicture())}catch{this.isRequested=!1}}async remove(){!this.isSupported()||!this.isActive()||await document.exitPictureInPicture()}assignPlayerContainer(e){this.isSupported()&&(this.playerContainer=e)}updateVideoElement(){this.isSupported()&&(this.videoElement=this.playerContainer?.querySelector("video"))}registryEventHandlers(){this.videoElement?.addEventListener("enterpictureinpicture",this.eventHandlers.enterpictureinpicture),this.videoElement?.addEventListener("leavepictureinpicture",this.eventHandlers.leavepictureinpicture)}registryExternalEventHandlers(e){this.externalEventHandlers={...e}}unregistryEventHandlers(){this.videoElement?.removeEventListener("enterpictureinpicture",this.eventHandlers.enterpictureinpicture),this.videoElement?.removeEventListener("leavepictureinpicture",this.eventHandlers.leavepictureinpicture)}async dispose(){this.unregistryEventHandlers(),await this.remove()}onEnterPictureInPicture(e){let t=e.pictureInPictureWindow;t&&(this.info.isActive$.next(!0),this.isRequested=!0,t.addEventListener("resize",this.eventHandlers.resize),this.externalEventHandlers.enterpictureinpicture?.(e))}onLeavePictureInPicture(e){let t=e.pictureInPictureWindow;this.info.isActive$.next(!1),this.isRequested=!1,t?.removeEventListener("resize",this.eventHandlers.resize),this.externalEventHandlers.leavepictureinpicture?.(e),this.playerDummyElement?.$destroy()}onResize(e){this.externalEventHandlers.resize?.(e)}setEnabled(e){this.info.isEnabled$.next(e)}constructor({enabled:e=!0}={enabled:!0}){this.isRequested=!1,this.videoElement=void 0,this.playerContainer=void 0,this.externalEventHandlers={},this.eventHandlers={enterpictureinpicture:this.onEnterPictureInPicture.bind(this),leavepictureinpicture:this.onLeavePictureInPicture.bind(this),resize:(0,g.debounceFn)(this.onResize.bind(this),300)},this.info={isActive$:new g.ValueSubject(!1),isEnabled$:new g.ValueSubject(!1),type:0},this.info.isEnabled$=new g.ValueSubject(e)}};function Xo(e){return e instanceof Yo}Z=!0;var Jo=(e,t)=>{e.stopPropagation(),t()()},er=Di('<div class="skip svelte-1k4i25s"> <svg class="icon svelte-1k4i25s" width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.263627 0.263605C-0.0878444 0.615078 -0.0878429 1.18493 0.26363 1.5364L4.72723 5.99998L0.263627 10.4636C-0.0878444 10.8151 -0.0878429 11.3849 0.26363 11.7364C0.615103 12.0879 1.18495 12.0879 1.53642 11.7364L6.63642 6.63637C6.98789 6.2849 6.98789 5.71505 6.63642 5.36358L1.53642 0.263602C1.18495 -0.0878686 0.615098 -0.0878673 0.263627 0.263605Z"></path></svg></div>'),tr=Di("<div><!></div>"),ir={hash:"svelte-1k4i25s",code:".container.svelte-1k4i25s {position:absolute;top:14px;right:16px;padding:6px 10px;font-size:13px;color:#fff;background:rgba(0, 0, 0, 0.56);border-radius:6px;transition:color .2s;}.container-mobile.svelte-1k4i25s {bottom:14px;top:unset;font-size:15px;max-width:142px;}.icon.svelte-1k4i25s {margin-left:4px;position:relative;top:2px;fill:var(--white);transition:fill .2s;}.skip.svelte-1k4i25s {width:86px;}.skippable.svelte-1k4i25s {cursor:pointer;color:var(--white);}.skippable.svelte-1k4i25s:hover {color:rgba(255, 255, 255, .75);}.skippable.svelte-1k4i25s:hover .icon:where(.svelte-1k4i25s) {fill:rgba(255, 255, 255, .75);}"};Ni(["click"]);var nr=Di('<button class="svelte-1wy3dql"> </button>'),ar={hash:"svelte-1wy3dql",code:"button.svelte-1wy3dql {position:absolute;pointer-events:none;bottom:14px;left:16px;font-size:15px;background:white;border:none;padding:6px 10px;border-radius:6px;color:black;}"};var or=Di('<div class="top-gradient-mobile svelte-354ajf"></div>'),rr=Di('<div class="container svelte-354ajf"><!> <video style="width: 100%; height: 100%" playsinline=""></video> <!> <!> <!></div>',2),sr={hash:"svelte-354ajf",code:".container.svelte-354ajf {width:100%;height:100%;}.top-gradient-mobile.svelte-354ajf {position:absolute;width:100%;height:80px;top:0;left:0;pointer-events:none;background:linear-gradient(\n      360deg,\n      rgba(0, 0, 0, 0) 0%,\n      rgba(0, 0, 0, 0.05) 12%,\n      rgba(0, 0, 0, 0.15) 25%,\n      rgba(0, 0, 0, 0.3) 45%,\n      rgba(0, 0, 0, 0.4) 57%,\n      rgba(0, 0, 0, 0.5) 77%,\n      rgba(0, 0, 0, 0.55) 88%,\n      rgba(0, 0, 0, 0.65) 100%\n    );}"};function lr(e,t){hi(t,!0),bn(e,sr);let[i,n]=ca(),a=()=>ua(_,"$adPlaybackState",i),o=()=>ua(h,"$isMobile",i),r=ma(t,"adsSlotId",3,void 0),s=ma(t,"adsParams",3,void 0),l=ma(t,"adsPreviewParam",3,void 0),d=ma(t,"adsAutoplayParam",3,void 0),u=ma(t,"duration",3,0),c=qa(),p=wa(),v=c.state.isEnded$,h=c.ui.isMobile,f=p.ads.isMobileGoToSiteButton,m=te(void 0),b=te(void 0),y=!1,_=c.ads.playbackState,w=c.ads.canSkip,x=c.ads.position,k=c.ads.secondsToWatchBeforeSkip,$=re((()=>ua(w,"$canSkipAd",i)&&"inactive"!==a())),S=re((()=>o()&&"inactive"!==a()&&f));ea((()=>{let e=c.getAdmanWrapper();if(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ads_mount"],numbers:[(0,g.now)(),r()]}),!r())return void e.onAdmanLoadingError();let t=t=>{e.initAdman(t),y=!0},i=new AbortController,{width:n,height:a}=sa(c.ui.playerSize),o={width:n,height:a,isFullscreen:sa(c.ui.isFullscreen),isAutoplay:d()??sa(c.ui.isAutoplay),adsContainer:Ct(m),adsVideoElement:Ct(b),slotId:r(),params:s(),previewParam:l(),duration:u()};return window.AdmanHTML?t(o):e.loadAdman(i.signal).then((()=>{t(o)})).catch((()=>{e.onAdmanLoadingError()})),()=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ads_unmount"],numbers:[(0,g.now)(),r()]}),!y&&i.abort()}}));var C=rr(),A=Re(C),T=e=>{ji(e,or())};Ji(A,(e=>{o()&&e(T)}));var P=Oe(A,2);Yn(P,(e=>ne(b,e)),(()=>Ct(b)));var E=Oe(P,2),I=e=>{!function(e,t){hi(t,!0),bn(e,ir);let[i,n]=ca(),a=ma(t,"position",3,0),o=ma(t,"secondsToWatchBeforeSkip",3,0),r=ma(t,"skipAd",3,g.noop),s=qa().ui.isMobile,l=re((()=>a()>0&&a()>=o()));var d=tr();let u;var c=Re(d),p=e=>{var t=er();t.__click=[Jo,r];var i=Re(t);Ae(),Ce(t),Bt((e=>Wi(i,`${e??""} `)),[()=>Io("skip_ads_now")]),ji(e,t)},v=e=>{var t=qi();Bt((e=>Wi(t,e)),[()=>Io("skip_ads_after",{time:Math.ceil(o()-a()).toFixed(0)})]),ji(e,t)};Ji(c,(e=>{Ct(l)?e(p):e(v,!1)})),Ce(d),Bt((e=>u=$n(d,1,"container svelte-1k4i25s",null,u,e)),[()=>({"container-mobile":ua(s,"$isMobile",i),skippable:Ct(l)})]),ji(e,d),gi(),n()}(e,{get position(){return ua(x,"$adPosition",i)},get secondsToWatchBeforeSkip(){return ua(k,"$secondsToWatchBeforeSkipAd",i)},get skipAd(){return c.actions.internal.skipAd}})};Ji(E,(e=>{Ct($)&&e(I)}));var L=Oe(E,2),M=e=>{!function(e,t){hi(t,!1);let i=qa();ea((()=>{i.getAdmanWrapper().startPostroll()})),Xn(),gi()}(0,{})};Ji(L,(e=>{ua(v,"$isVideoEnded",i)&&e(M)}));var V=Oe(L,2),N=e=>{!function(e,t){hi(t,!1),bn(e,ar),Xn();var i=nr(),n=Re(i,!0);Ce(i),Bt((e=>Wi(n,e)),[()=>Io("visit_advertiser")],se),ji(e,i),gi()}(e,{})};Ji(V,(e=>{Ct(S)&&e(N)})),Ce(C),Yn(C,(e=>ne(m,e)),(()=>Ct(m))),ji(e,C),gi(),n()}var dr=e=>{if(!isFinite(e))return"00:00";let t=Math.round(e),i=Math.floor(t/3600);t-=3600*i;let n=Math.floor(t/60);t-=60*n;let a=[n,t].map((e=>String(e).padStart(2,"0"))).join(":");return i>0&&(a=`${i}:${a}`),a},ur=zi('<svg><!><path fill="none" stroke="var(--btn-color, #fff)" stroke-width="2" d="M6.41 1A6.46 6.46 0 0 0 3 1.55 3.5 3.5 0 0 0 1.55 3 6.46 6.46 0 0 0 1 6.41v7.18A6.46 6.46 0 0 0 1.55 17 3.5 3.5 0 0 0 3 18.45a6.46 6.46 0 0 0 3.41.55h29.18a6.46 6.46 0 0 0 3.41-.55A3.5 3.5 0 0 0 40.45 17a6.46 6.46 0 0 0 .55-3.41V6.41A6.46 6.46 0 0 0 40.45 3 3.5 3.5 0 0 0 39 1.55 6.46 6.46 0 0 0 35.59 1z"></path><path fill="var(--btn-color, #f0f2f5)" fill-rule="evenodd" d="M8 5a1 1 0 0 1 1 1v7h3a1 1 0 0 1 1 .88V14a1 1 0 0 1-1 1H8a1 1 0 0 1-1-.77v-.11A.5.5 0 0 1 7 14V6a1 1 0 0 1 .88-1zm8 0a1 1 0 0 1 1 1v8a1 1 0 0 1-.88 1H16a1 1 0 0 1-1-1V6a1 1 0 0 1 .88-1zm18 0a1 1 0 0 1 1 .88V6a1 1 0 0 1-1 1h-3v2h3a1 1 0 0 1 1 .88V10a1 1 0 0 1-1 1h-3v2h3a1 1 0 0 1 1 .88V14a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-.77v-.11a.5.5 0 0 1 0-.12V6a1 1 0 0 1 .56-.9A1 1 0 0 1 30 5zm-8 0a1 1 0 0 1 1 1v.1a.9.9 0 0 1-.11.35l-2.47 7.57a1.48 1.48 0 0 1-1.32.98h-.2a1.48 1.48 0 0 1-1.31-.95l-2.47-7.57a.9.9 0 0 1-.12-.36V6a1 1 0 0 1 .88-1H20a1 1 0 0 1 1 1v-.1l2 6.4 2-6.4a1 1 0 0 1 1-.9"></path></svg>');var cr=zi('<svg><!><rect width="42" height="20" fill="var(--timeline-slider-filled-active-live-bg, #FF3347)" rx="5"></rect><path fill="#F2F3F5" fill-rule="evenodd" d="M8 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2H9V6a1 1 0 0 0-1-1m7 1a1 1 0 1 1 2 0v8a1 1 0 1 1-2 0zm15-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4a1 1 0 1 0 0-2h-3v-2h3a1 1 0 1 0 0-2h-3V7h3a1 1 0 1 0 0-2zm-8.325 9.31-2.55-7.824a1 1 0 0 1-.117-.363L19 6.1h.005a1 1 0 1 1 1.99-.199L21 5.9l2 6.4 2-6.4h.005a1 1 0 0 1 1.99.2H27l-.008.023a1 1 0 0 1-.118.363l-2.55 7.824a1 1 0 0 1-.95.69h-.748a1 1 0 0 1-.95-.69z" clip-rule="evenodd"></path></svg>');function pr(e,t){let i=ma(t,"isActive",3,!1);var n=Hi(),a=Be(n),o=e=>{!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=cr();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"20",fill:"none","aria-hidden":"true","data-testid":"live-active-icon",role:"img",...i}))),ji(e,n)}(e,{})},r=e=>{!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=ur();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"42",height:"20","aria-hidden":"true","data-testid":"live-icon",role:"img",...i}))),ji(e,n)}(e,{})};Ji(a,(e=>{i()?e(o):e(r,!1)})),ji(e,n)}var vr=Di('<div class="thumb-timer-live-icon svelte-opbced"><!></div>'),hr=Di('<div role="timer" data-testid="thumb-timer"><div class="thumb-timer-equalizer svelte-opbced"><div class="col svelte-opbced"></div> <div class="col svelte-opbced"></div> <div class="col svelte-opbced"></div></div> <span class="thumb-timer-text svelte-opbced"><!></span></div>'),gr={hash:"svelte-opbced",code:".thumb-timer.svelte-opbced {position:absolute;z-index:var(--thumb-timer-z-index);bottom:0;right:0;margin:8px;padding:0 7px;border-radius:3px;background:var(--black-alpha-40);color:var(--white);font-size:12.5px;line-height:23px;height:23px;white-space:nowrap;transition:visibility var(--controls-transition-duration), opacity var(--controls-transition-duration);}.thumb-timer.live.svelte-opbced {font-size:0;line-height:20px;height:20px;border-radius:2px;background:var(--red);}.thumb-timer.hidden.svelte-opbced {visibility:hidden;opacity:0;}.thumb-timer.svelte-opbced:after {\n    /* safari fix */content:'';display:inline-block;vertical-align:middle;height:100%;}.thumb-timer-live-icon.svelte-opbced {display:inline-block;vertical-align:middle;width:42px;height:20px;margin:0 -7px;}.thumb-timer-equalizer.svelte-opbced {display:inline-block;vertical-align:middle;position:relative;width:10px;height:10px;margin-top:-4px;margin-right:4px;}.live.svelte-opbced .thumb-timer-equalizer:where(.svelte-opbced) {margin-top:-2px;}.thumb-timer-equalizer.svelte-opbced .col:where(.svelte-opbced) {width:2px;height:10px;margin-right:2px;background:var(--btn-color, --white);position:absolute;bottom:0;transform-origin:50% 100%;\n    animation: 1.5s infinite linear alternate;animation-play-state:paused;}.thumb-timer.playing.svelte-opbced .thumb-timer-equalizer:where(.svelte-opbced) .col:where(.svelte-opbced) {animation-play-state:running;}.thumb-timer-equalizer.svelte-opbced .col:where(.svelte-opbced):nth-child(1) {left:0;\n    animation-name: svelte-opbced-thumb-timer-equalizer-col1;}.thumb-timer-equalizer.svelte-opbced .col:where(.svelte-opbced):nth-child(2) {left:3px;\n    animation-name: svelte-opbced-thumb-timer-equalizer-col2;}.thumb-timer-equalizer.svelte-opbced .col:where(.svelte-opbced):nth-child(3) {left:6px;\n    animation-name: svelte-opbced-thumb-timer-equalizer-col3;}\n\n  @keyframes svelte-opbced-thumb-timer-equalizer-col1 {\n    0% {\n      transform: scaleY(0.1);\n    }\n\n    25% {\n      transform: scaleY(0.8);\n    }\n\n    50% {\n      transform: scaleY(0.4);\n    }\n\n    75% {\n      transform: scaleY(0.6);\n    }\n\n    100% {\n      transform: scaleY(0.1);\n    }\n  }\n\n  @keyframes svelte-opbced-thumb-timer-equalizer-col2 {\n    0% {\n      transform: scaleY(1);\n    }\n\n    25% {\n      transform: scaleY(0.3);\n    }\n\n    50% {\n      transform: scaleY(0.9);\n    }\n\n    75% {\n      transform: scaleY(0.6);\n    }\n\n    100% {\n      transform: scaleY(1);\n    }\n  }\n\n  @keyframes svelte-opbced-thumb-timer-equalizer-col3 {\n    0% {\n      transform: scaleY(0.6);\n    }\n\n    25% {\n      transform: scaleY(0.9);\n    }\n\n    50% {\n      transform: scaleY(0.1);\n    }\n\n    75% {\n      transform: scaleY(0.9);\n    }\n\n    100% {\n      transform: scaleY(0.6);\n    }\n  }.thumb-timer-text.svelte-opbced {display:inline-block;text-align:right;}"};function fr(e,t){hi(t,!0),bn(e,gr);let i=ma(t,"isHidden",3,!1),n=ma(t,"isLive",3,!1),a=ma(t,"isPlaying",3,!1);var o=hr();let r;var s=Oe(Re(o),2),l=Re(s),d=e=>{var t=vr();pr(Re(t),{isActive:!0}),Ce(t),ji(e,t)},u=e=>{var i=qi();Bt((e=>Wi(i,e)),[()=>dr(t.duration-t.position)]),ji(e,i)};Ji(l,(e=>{n()?e(d):e(u,!1)})),Ce(s),Ce(o),Bt((e=>r=$n(o,1,"thumb-timer svelte-opbced",null,r,e)),[()=>({live:n(),hidden:i(),playing:a()})]),ji(e,o),gi()}var mr=e=>{if(document.queryCommandSupported&&document.queryCommandSupported("copy")){let t=document.createElement("textarea");t.textContent=e,t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}},br=e=>{e.stopPropagation(),e.preventDefault()},yr=e=>"Escape"===e.code,_r=(e,t=[])=>{let i=e.code;return["Enter","Space",...t].includes(i)},wr=e=>{if((e=>{let t=e.code;return"Tab"===t&&!e.shiftKey||"ArrowDown"===t})(e))return br(e),void(e=>{let t=e.nextElementSibling;t||(t=e.parentNode?.firstElementChild),t?.focus()})(e.target);(e=>{let t=e.code;return"Tab"===t||"ArrowUp"===t})(e)&&(br(e),(e=>{let t=e.previousElementSibling;t||(t=e.parentNode?.lastElementChild),t?.focus()})(e.target))},xr=e=>!h.clientChecker.device.isAndroid&&0===e?.detail||h.clientChecker.device.isAndroid&&""===e?.pointerType,kr=async(e,t,i)=>{await St(),e&&!e.classList.contains("opened")&&!t&&sa(i)&&(await St(),i.set(!1),e.focus())},$r=async(e,t,i)=>{await St(),e&&t&&i&&e.children[0]?.focus()},Sr=(e,t)=>{wr(e),yr(e)&&(br(e),t())},Cr=async(e,t)=>{_r(e,["ArrowRight"])&&(br(e),t())},Ar=(e,t)=>{_r(e)&&(br(e),t())},Tr=100,Pr=200,Er=300,Ir=400,Lr=500,Mr=600,Vr=700,Nr=800,Rr=900,Br=1e3,Or=(e,t)=>{Ar(e,(()=>t()))},Dr=Di('<li class="item svelte-1hm4mm9" role="menuitem" tabindex="0"> </li>'),zr={hash:"svelte-1hm4mm9",code:".item.svelte-1hm4mm9 {padding:8px 16px;cursor:pointer;position:relative;display:block;color:rgba(255, 255, 255, 0.72);font-size:13px;line-height:18px;letter-spacing:-0.14px;white-space:nowrap;}.item.svelte-1hm4mm9:hover {background:rgba(66, 66, 66, .5);color:var(--white);}"};Ni(["click","keydown"]);var qr=(e,t)=>e.weight-t.weight,Hr=(e=>(e.OPEN_SUB_MENU="OPEN_SUB_MENU",e.CLICK="CLICK",e.SWITCH="SWITCH",e))(Hr||{}),jr=(e,t)=>{Sr(e,t)},Fr=e=>{e.preventDefault()},Ur=Di('<ul role="menu" class="svelte-1p5ukkp"></ul>'),Wr={hash:"svelte-1p5ukkp",code:"ul.svelte-1p5ukkp {position:absolute;z-index:var(--context-menu-z-index);border-radius:8px;background:rgba(0, 0, 0, 0.72);transition:visibility .1s,opacity .1s;list-style:none;margin:0;padding:6px 0;max-height:100%;max-width:100%;overflow-x:hidden;overflow-y:auto;}"};function Qr(e,t){hi(t,!0),bn(e,Wr);let[i,n]=ca(),a=()=>ua(C,"$isLooped$",i),o=ma(t,"visible",3,!1),r=ma(t,"position",19,(()=>({top:0,left:0}))),s=ma(t,"playerContainerRef",3,void 0),l=ma(t,"controlsContainerRef",3,void 0),d=ma(t,"menuElementRef",15,void 0),u=te(0),c=te(0),p=qa(),{pictureInPicture$:v}=Ha(),f=wa(),m=p.ui.contextMenu.visible$,b=p.ui.debugPanelVisible,y=p.ui.additionalContextMenuItems$,_=p.ui.t,w=p.actions.internal.togglePictureInPicture,x=p.state.chromecastState$,k=p.state.isLive$,$=p.state.positionExact$,S=p.state.isInteractive,C=p.state.looped$,{isEnabled$:A,isActive$:T}=v,P=re((()=>f.features.copyVideoLink&&p.callbacks?.onCopyVideoLink)),E=re((()=>Ct(P)&&!ua(k,"$isLive$",i)&&!S)),I=re((()=>!!p.callbacks?.onCopyEmbedCodeClicked)),L=re((()=>ua(A,"$isPiPEnabled$",i)&&ua(x,"$chromecastState$",i)!==h.ChromecastState.CONNECTED&&!S)),M=re((()=>f.features.videoRotate&&!S)),V=re((()=>f.showSupport&&!ua(T,"$pictureInPictureApiIsActive$",i))),N=re((()=>f.features.saveTraceInfoToFile)),R=()=>{m.set(!1),t.returnFocus?.()};Vt((()=>{(async()=>{if(d()&&s()&&l()){await St();let{top:e,left:t,bottom:i,right:n}=r(),a=t??0,o=e??0,p=d().getBoundingClientRect();(0,g.isNullable)(t)&&!(0,g.isNullable)(n)&&(a=n-p.width),(0,g.isNullable)(e)&&!(0,g.isNullable)(i)&&(o=i-p.height),a=Math.max(a,0),o=Math.max(o,0),((e,t)=>{if(!d()||!s()||!l())return;let i=d().getBoundingClientRect(),n=s().getBoundingClientRect();ne(u,e-n.left),ne(c,t-n.top),Ct(u)+i.width>n.width&&ne(u,n.width-i.width),Ct(c)+i.height>n.height&&ne(c,n.height-i.height),ne(u,Pe(Math.max(Ct(u),0))),ne(c,Pe(Math.max(Ct(c),0)))})(a,o)}})()}));let B=()=>{p.actions.internal.videoRotate()},O=()=>{(0,g.isValidURL)(t.supportLink)&&window.open(t.supportLink,"_blank"),p.actions.internal.reportProblem(),p.actions.internal.pause()},D=()=>{let e=p.actions.internal.getDebugTextData();if(f.features.saveDebugInfoToFile){let t=new Blob([...e],{type:"plain/text"}),i=window.URL.createObjectURL(t);Oa(i,"vk_player_debug_info","txt")}else mr(p.actions.internal.getDebugTextData())},z=()=>{let e=p.actions.internal.getTraceTextData(),t=new Blob([...e],{type:"application/json"}),i=window.URL.createObjectURL(t);Oa(i,"vk_player_trace_info","json")},q=()=>{b.set(!0)},H=async()=>{try{w()}finally{t.returnFocus?.()}},j=()=>{p.actions.internal.setLooped(!a())},F=()=>{if(Ct(I)){let e=p.callbacks?.onCopyEmbedCodeClicked?.();e&&mr(e)}},U=(e=!1)=>{if(p.callbacks?.onCopyVideoLink){let t=p.callbacks?.onCopyVideoLink(e,ua($,"$positionExact$",i));t&&mr(t)}},W=re((()=>f.features.saveDebugInfoToFile?_("menu_save_debug"):_("menu_copy_debug"))),Q=re((()=>Ct(P)?{id:"copy-link",weight:Tr,label:_("menu_copy_video_link"),onClick:()=>U()}:void 0)),K=re((()=>Ct(E)?{id:"copy-link-timestamp",weight:Pr,label:_("menu_copy_video_link_with_timestamp"),onClick:()=>U(!0)}:void 0)),G=re((()=>Ct(I)?{id:"copy-embed-code",weight:Er,label:_("menu_copy_embed_code"),onClick:F}:void 0)),Z=re((()=>Ct(L)?{id:"pip",weight:Ir,label:_("menu_pip"),onClick:H}:void 0)),Y=re((()=>({id:"video-loop",weight:Lr,label:a()?_("menu_video_loop_off"):_("menu_video_loop_on"),ariaLabel:_("aria_label_menu_loop"),onClick:j}))),X=re((()=>Ct(M)?{id:"rotate",weight:Mr,label:_("menu_video_rotate"),ariaLabel:_("aria_label_menu_rotate"),onClick:B}:void 0)),J=re((()=>Ct(V)?{id:"report",weight:Vr,label:_("menu_report"),ariaLabel:`${_("menu_report")}. ${_("aria_label_new_tab_alert")}`,onClick:O}:void 0)),ee=re((()=>({id:"save-debug",weight:Nr,label:Ct(W),onClick:D}))),ie=re((()=>Ct(N)?{id:"save-trace",weight:Rr,label:_("menu_save_debug"),onClick:z}:void 0)),ae=re((()=>({id:"debug-info",weight:Br,label:_("menu_debug_overlay"),ariaLabel:ua(b,"$debugPanelVisible",i)?_("aria_label_menu_debug_overlay_disable"):_("aria_label_menu_debug_overlay_enable"),onClick:q}))),oe=re((()=>[Ct(Q),Ct(K),Ct(G),Ct(Z),Ct(Y),Ct(X),Ct(J),Ct(ee),Ct(ie),Ct(ae),...ua(y,"$additionalContextMenuItems$",i)].filter((e=>!!e)).sort(qr)));var se=Hi(),le=Be(se),de=e=>{var t=Ur();t.__contextmenu=[Fr],t.__keydown=[jr,R],rn(t,21,(()=>Ct(oe)),(e=>e.id),((e,t)=>{!function(e,t){hi(t,!0),bn(e,zr);let i=ma(t,"onClick",3,g.noop),n=ma(t,"closeContextMenu",3,g.noop),a=e=>{e?.stopPropagation(),i()(),n()()};var o=Dr();o.__click=a,o.__keydown=[Or,a];var r=Re(o,!0);Ce(o),Bt((()=>{Ln(o,"aria-label",t.ariaLabel??t.label),Ln(o,"data-testid",t.id),Wi(r,t.label)})),ji(e,o),gi()}(e,{get id(){return Ct(t).id},get label(){return Ct(t).label},get ariaLabel(){return Ct(t).ariaLabel},get onClick(){return Ct(t).onClick},closeContextMenu:R})})),Ce(t),Yn(t,(e=>d(e)),(()=>d())),Bt((()=>Cn(t,`top: ${Ct(c)??""}px; left: ${Ct(u)??""}px;`))),ji(e,t)};Ji(le,(e=>{o()&&e(de)})),ji(e,se),gi(),n()}Ni(["contextmenu","keydown"]);var Kr=class{constructor(e){this.value=e,this.next=null}},Gr=class{push(e){let t=new Kr(e);this.top?(this.top.next=t,this.top=t):(this.top=t,this.bottom=t),this.size++,this.size>this.maxSize&&this.bottom&&(this.bottom=this.bottom.next)}getValuesFromBottom(){let e=[],t=this.bottom;for(;t;)e.push(t.value),t=t.next;return e}constructor(e){this.top=null,this.bottom=null,this.size=0,this.maxSize=e}},Zr=Di('<div class="container svelte-1ssl9eb"><canvas class="svelte-1ssl9eb"></canvas></div>'),Yr={hash:"svelte-1ssl9eb",code:".container.svelte-1ssl9eb {display:inline-block;width:120px;height:16px;}canvas.svelte-1ssl9eb {transform:scale(1, -1);margin-top:2px;}"};function Xr(e,t){hi(t,!0),bn(e,Yr);let i=ma(t,"values",19,(()=>[])),n=te(void 0),a=te(null);function o(e,t,i,n,a){0===a&&(a=1),e.fillStyle="#fff",e.fillRect(t,i,n,a)}ea((()=>{Ct(n).width=120,Ct(n).height=16,ne(a,Pe(Ct(n).getContext("2d")))})),Vt((()=>{let e="";if(Ct(a)){let t=i()[0];for(let e=1;e<i().length;e++)i()[e]>t&&(t=i()[e]);Ct(a).clearRect(0,0,120,16);let n=59;for(let r=i().length-1;r>=0;r--){let s=2*n,l=t>0?i()[r]/t*16:0;o(Ct(a),s,0,2,l),e=l+" "+e,n--}}}));var r=Zr();Yn(Re(r),(e=>ne(n,e)),(()=>Ct(n))),Ce(r),ji(e,r),gi()}var Jr=(e,t)=>{e.stopPropagation(),g.safeStorage.remove(xa),t.set(!1)},es=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">Video id</div> <span> </span></div>'),ts=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">VSID</div> <span> </span></div>'),is=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">Provider</div> <span> </span></div>'),ns=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">Streams</div> <span> </span></div>'),as=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">Viewport</div> <span> </span></div>'),os=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">Video size</div> <span> </span></div>'),rs=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">CDN host</div> <span> </span></div>'),ss=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">Volume</div> <span> </span></div>'),ls=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">Buffer</div> <span> </span></div>'),ds=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">Live latency</div> <span> </span></div>'),us=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">Segment</div> <span> </span></div>'),cs=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">Network</div> <!> <span> </span></div>'),ps=Di('<div class="svelte-4deykz"><div class="svelte-4deykz">V bitrate</div> <!> <span> </span></div>'),vs=Di('<div role="region"><button class="close svelte-4deykz" title="закрыть">[x]</button> <div class="content svelte-4deykz"><div class="svelte-4deykz"><div class="svelte-4deykz">Version</div> <span> </span></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <div class="svelte-4deykz"><div class="svelte-4deykz">Dropped</div> <span> </span></div> <!> <!> <div class="svelte-4deykz"><div class="svelte-4deykz">FPS</div> <!> <span> </span></div></div></div>'),hs={hash:"svelte-4deykz",code:".container.svelte-4deykz {background:rgba(28, 28, 28, 0.8);border-radius:4px;color:#fff;left:20px;position:absolute;z-index:var(--debug-panel-z-index);top:45px;min-width:160px;font-size:10px;text-align:left;user-select:text;}.container-mobile.svelte-4deykz {top:16px;left:16px;}button.svelte-4deykz {position:absolute;right:5px;top:3px;cursor:pointer;outline:0;border:none;background-color:transparent;padding:0;color:#fff;}.content.svelte-4deykz {padding:5px;}.content.svelte-4deykz > div:where(.svelte-4deykz) > div:where(.svelte-4deykz) {display:inline-block;text-align:right;width:60px;padding:0 5px;}"};function gs(e,t){hi(t,!0),bn(e,hs);let[i,n]=ca(),a=qa(),o=a.ui.debugPanelVisible,r=a.ui.isMobile,s=te(Pe(a.actions.internal.getDebugPanelData())),l=a.actions.internal.getVideoElement(),d=te(0),u=te(0),c=te(0),p=new Gr(60),v=new Gr(60),h=new Gr(60),f=te(Pe([])),m=te(Pe([])),b=te(Pe([])),y=Io("aria_label_debug_panel");ea((()=>{g.safeStorage.set(xa,"true"),a.actions.internal.startLogging(),l&&(ne(u,Pe(l.getVideoPlaybackQuality().droppedVideoFrames)),ne(d,Pe(l.getVideoPlaybackQuality().totalVideoFrames)));let e,t=window.setInterval((()=>{ne(s,Pe(a.actions.internal.getDebugPanelData()))}),500);return l&&(e=window.setInterval((()=>{if(l){ne(u,Pe(l.getVideoPlaybackQuality().droppedVideoFrames));let e=l.getVideoPlaybackQuality().totalVideoFrames;ne(c,e-Ct(d)),ne(d,Pe(e)),p.push(Ct(c)),Ct(s).speed&&v.push(Ct(s).speed),Ct(s).bitrate&&h.push(Ct(s).bitrate),ne(f,Pe(p.getValuesFromBottom())),ne(m,Pe(v.getValuesFromBottom())),ne(b,Pe(h.getValuesFromBottom()))}}),1e3)),()=>{a.actions.internal.stopLogging(),clearInterval(t),e&&clearInterval(e)}}));var _=vs();let w;Ln(_,"aria-label",y);var x=Re(_);x.__click=[Jr,o];var k=Oe(x,2),$=Re(k),S=Oe(Re($),2),C=Re(S,!0);Ce(S),Ce($);var A=Oe($,2),T=e=>{var t=es(),i=Oe(Re(t),2),n=Re(i,!0);Ce(i),Ce(t),Bt((()=>Wi(n,Ct(s).id))),ji(e,t)};Ji(A,(e=>{Ct(s).id&&e(T)}));var P=Oe(A,2),E=e=>{var t=ts(),i=Oe(Re(t),2),n=Re(i,!0);Ce(i),Ce(t),Bt((()=>Wi(n,Ct(s).vsid))),ji(e,t)};Ji(P,(e=>{Ct(s).vsid&&e(E)}));var I=Oe(P,2),L=e=>{var t=is(),i=Oe(Re(t),2),n=Re(i,!0);Ce(i),Ce(t),Bt((()=>Wi(n,Ct(s).provider))),ji(e,t)};Ji(I,(e=>{Ct(s).provider&&e(L)}));var M=Oe(I,2),V=e=>{var t=ns(),i=Oe(Re(t),2),n=Re(i);Ce(i),Ce(t),Bt((()=>Wi(n,`Video: ${Ct(s).videoCodec||""} ${(Ct(s).hdr?"(HDR)":"")??""}\n          &\n          Audio: ${Ct(s).audioCodec||""} ${(Ct(s).audioLanguage?`(${Ct(s).audioLanguage})`:"")??""}`))),ji(e,t)};Ji(M,(e=>{(Ct(s).videoCodec||Ct(s).audioCodec)&&e(V)}));var N=Oe(M,2),R=e=>{var t=as(),i=Oe(Re(t),2),n=Re(i,!0);Ce(i),Ce(t),Bt((()=>Wi(n,Ct(s).viewport))),ji(e,t)};Ji(N,(e=>{Ct(s).viewport&&e(R)}));var B=Oe(N,2),O=e=>{var t=os(),i=Oe(Re(t),2),n=Re(i,!0);Ce(i),Ce(t),Bt((()=>Wi(n,Ct(s).videoSize))),ji(e,t)};Ji(B,(e=>{Ct(s).videoSize&&e(O)}));var D=Oe(B,2),z=e=>{var t=rs(),i=Oe(Re(t),2),n=Re(i,!0);Ce(i),Ce(t),Bt((()=>Wi(n,Ct(s).cdn))),ji(e,t)};Ji(D,(e=>{Ct(s).cdn&&e(z)}));var q=Oe(D,2),H=e=>{var t=ss(),i=Oe(Re(t),2),n=Re(i);Ce(i),Ce(t),Bt((()=>Wi(n,`${Ct(s).volume??""} %`))),ji(e,t)};Ji(q,(e=>{Ct(s).volume&&e(H)}));var j=Oe(q,2),F=e=>{var t=ls(),i=Oe(Re(t),2),n=Re(i);Ce(i),Ce(t),Bt((e=>Wi(n,`${e??""} s`)),[()=>Ct(s).buffer.toFixed(2)]),ji(e,t)};Ji(j,(e=>{Ct(s).buffer&&e(F)}));var U=Oe(j,2),W=e=>{var t=ds(),i=Oe(Re(t),2),n=Re(i);Ce(i),Ce(t),Bt((e=>Wi(n,`${e??""} s`)),[()=>Ct(s).liveLatency.toFixed(2)]),ji(e,t)};Ji(U,(e=>{Ct(s).liveLatency&&e(W)}));var Q=Oe(U,2),K=e=>{var t=us(),i=Oe(Re(t),2),n=Re(i,!0);Ce(i),Ce(t),Bt((e=>Wi(n,e)),[()=>[{value:Ct(s).currentVideoSegmentLength,title:"Video:"},{value:Ct(s).currentAudioSegmentLength,title:"Audio:"}].filter((({value:e})=>e)).map((({value:e,title:t})=>`${t} ${((e??0)/1e3).toFixed(2)} s`)).join(" & ")]),ji(e,t)};Ji(Q,(e=>{(Ct(s).currentVideoSegmentLength||Ct(s).currentAudioSegmentLength)&&e(K)}));var G=Oe(Q,2),Z=Oe(Re(G),2),Y=Re(Z);Ce(Z),Ce(G);var X=Oe(G,2),J=e=>{var t=cs(),i=Oe(Re(t),2);Xr(i,{get values(){return Ct(m)}});var n=Oe(i,2),a=Re(n);Ce(n),Ce(t),Bt((e=>Wi(a,`${e??""} Kbps`)),[()=>Ct(s).speed.toFixed(2)]),ji(e,t)};Ji(X,(e=>{Ct(s).speed&&e(J)}));var ee=Oe(X,2),ie=e=>{var t=ps(),i=Oe(Re(t),2);Xr(i,{get values(){return Ct(b)}});var n=Oe(i,2),a=Re(n);Ce(n),Ce(t),Bt((e=>Wi(a,`${e??""} Kbps`)),[()=>Ct(s).bitrate.toFixed(2)]),ji(e,t)};Ji(ee,(e=>{Ct(s).bitrate&&e(ie)}));var ae=Oe(ee,2),oe=Oe(Re(ae),2);Xr(oe,{get values(){return Ct(f)}});var re=Oe(oe,2),se=Re(re,!0);Ce(re),Ce(ae),Ce(k),Ce(_),Bt((e=>{w=$n(_,1,"container svelte-4deykz",null,w,e),Wi(C,Ct(s).version),Wi(Y,`${Ct(u)??""} / ${Ct(d)??""} frames`),Wi(se,Ct(c))}),[()=>({"container-mobile":ua(r,"$isMobile",i)})]),ji(e,_),gi(),n()}Ni(["click"]);var fs=(e,t)=>{e.stopPropagation(),t()()},ms=Di('<div class="close svelte-1ome55p"></div>'),bs={hash:"svelte-1ome55p",code:".close.svelte-1ome55p {cursor:pointer;opacity:0.8;transition:opacity 0.2s;position:relative;width:16px;height:16px;}.close.svelte-1ome55p:hover {opacity:1;}.close.svelte-1ome55p:before, .close.svelte-1ome55p:after {position:absolute;left:8px;content:' ';height:16px;width:2px;background-color:var(--white);}.close.svelte-1ome55p:before {transform:rotate(45deg);}.close.svelte-1ome55p:after {transform:rotate(-45deg);}"};function ys(e,t){hi(t,!0),bn(e,bs);let i=ma(t,"onClick",3,g.noop);var n=ms();n.__click=[fs,i],ji(e,n),gi()}Ni(["click"]);var _s=Di('<div class="timer svelte-8jhsry"><canvas class="timer-canvas svelte-8jhsry" width="100" height="100"></canvas> <svg class="timer-play-icon svelte-8jhsry" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill-rule="nonzero"><path class="_play" d="m8.13340613 5.10548415 10.49681277 6.24354325c.3559987.2117494.472936.6720001.2611866 1.0279989-.0638111.1072809-.1533894.1969388-.2606135.2608453l-10.4968128 6.256187c-.35581027.2120659-.81616483.095538-1.02823068-.2602722-.06921066-.1161237-.10574852-.2487949-.10574852-.3839792v-12.49973035c0-.41421357.33578644-.75.75-.75.13495801 0 .26741554.03641567.38340613.1054073z" fill="var(--btn-color, #fff)"></path></g></g></svg></div>'),ws={hash:"svelte-8jhsry",code:".timer.svelte-8jhsry {border-radius:50%;transition:background .2s;background:rgba(31, 31, 31, .65);width:50px;height:50px;display:flex;align-items:center;justify-content:space-around;}.timer.svelte-8jhsry:hover {background:rgba(31, 31, 31, .85)}.timer-canvas.svelte-8jhsry {width:50px;height:50px;position:absolute;}.timer-play-icon.svelte-8jhsry {width:22px;height:26px;}"};function xs(e,t){hi(t,!0),bn(e,ws);let i,n,a,o=ma(t,"isRunning",3,!0),r=ma(t,"onTimerEnded",3,g.noop),s=te(void 0),l=te(0);Vt((()=>{o()&&(n=Date.now(),ne(l,Pe(requestAnimationFrame(u))))}));let d=()=>{Ct(l)&&(cancelAnimationFrame(Ct(l)),ne(l,0))},u=()=>{o()?(a=(Date.now()-n)/5e3,a<1?(i?.clearRect(0,0,100,100),i?.beginPath(),i?.arc(50,50,47,-Math.PI/2,-Math.PI/2+2*Math.PI*a),i?.stroke(),ne(l,Pe(requestAnimationFrame(u)))):r()()):d()};ea((()=>{if(i=Ct(s).getContext("2d"),i)return i.lineWidth=6,i.lineCap="round",i.strokeStyle="#fff",()=>{d()}})),ta((()=>{d()}));var c=_s();Yn(Re(c),(e=>ne(s,e)),(()=>Ct(s))),Ae(2),Ce(c),ji(e,c),gi()}var ks=(e,t,i)=>{t(!1),i()},$s=Di('<div class="overlay svelte-jfbaax"></div> <div class="next-video svelte-jfbaax"><div class="top svelte-jfbaax"><div class="caption svelte-jfbaax"> </div> <!></div> <div class="row svelte-jfbaax"><div class="column svelte-jfbaax"><div class="thumb svelte-jfbaax"><div></div> <!></div></div> <div class="column svelte-jfbaax"><div class="title svelte-jfbaax"> </div></div></div></div>',1),Ss={hash:"svelte-jfbaax",code:".overlay.svelte-jfbaax {width:100%;height:100%;background:rgba(0, 0, 0, 0.72);position:absolute;}.next-video.svelte-jfbaax {position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex;width:362px;flex-direction:column;}.top.svelte-jfbaax {display:flex;justify-content:space-between;}.caption.svelte-jfbaax {font-size:11px;font-weight:bold;color:var(--white);text-transform:uppercase;opacity:0.8;}.row.svelte-jfbaax {height:102px;background:rgba(48, 48, 48, .8);cursor:pointer;margin-top:6px;display:flex;flex-direction:row;width:100%;}.column.svelte-jfbaax {display:flex;flex-direction:column;flex-basis:50%;}.thumb.svelte-jfbaax {width:100%;height:100%;background:no-repeat center;background-size:cover;display:flex;align-items:center;position:relative;justify-content:space-around;}.thumb-overlay.svelte-jfbaax {width:100%;height:100%;position:absolute;}.thumb-overlay.withOpacity.svelte-jfbaax {background:var(--black);opacity:0.3;}.title.svelte-jfbaax {padding:10px 16px;font-size:12px;font-weight:bold;color:var(--white);line-height:1.6;max-height:52px;overflow:hidden;}"};function Cs(e,t){hi(t,!0),bn(e,Ss);let[i,n]=ca(),a=()=>ua(r,"$autoplayNextEnabled$",i),o=qa(),r=o.ui.autoplayNextEnabled$,s=o.ui.timerNextVideoRunning$,l=o.actions.internal.nextVideoClick,d=o.actions.internal.nextVideoAnnouncementShow,u=o.actions.internal.nextVideoAnnouncementClick,c=o.actions.internal.nextVideoAnnouncementAuto,p=o.actions.internal.nextVideoAnnouncementCancel,v=()=>{a()&&(l(!1),c())},h=()=>{t.clickCloseIcon(),p()};ea((()=>{t.isHide||d(),t.isHide&&a()&&(l(!1),c())}));var g=Hi(),f=Be(g),m=e=>{var n=$s(),o=Oe(Be(n),2),r=Re(o),d=Re(r),c=Re(d,!0);Ce(d),ys(Oe(d,2),{onClick:h}),Ce(r);var p=Oe(r,2);p.__click=[ks,l,u];var g=Re(p),f=Re(g),m=Re(f);let b;var y=Oe(m,2),_=e=>{let t=re((()=>ua(s,"$timerNextVideoRunning$",i)&&a()));xs(e,{get isRunning(){return Ct(t)},onTimerEnded:v})};Ji(y,(e=>{a()&&e(_)})),Ce(f),Ce(g);var w=Oe(g,2),x=Re(w),k=Re(x,!0);Ce(x),Ce(w),Ce(p),Ce(o),Bt(((e,i)=>{Wi(c,e),Cn(f,`background-image: url('${t.thumb}')`),b=$n(m,1,"thumb-overlay svelte-jfbaax",null,b,i),Wi(k,t.title)}),[()=>Io("end_screen_next_video"),()=>({withOpacity:a()})]),ji(e,n)};Ji(f,(e=>{t.isHide||e(m)})),ji(e,g),gi(),n()}Ni(["click"]);var As=(e,t)=>Math.min(+(e+t).toFixed(2),1),Ts=(e,t)=>Math.max(+(e-t).toFixed(2),0),Ps=(e,t,i)=>{let n=As(t,i);t<1&&e.actions.internal.setVolume(n)},Es=(e,t,i)=>{let n=Ts(t,i);t>0&&e.actions.internal.setVolume(n)},Is=({isAudioDisabled:e,audioDisabledHintCallback:t,isAudioAvailable:i,audioIsNotExistHintCallback:n})=>e?(t?.(),!1):!!i||(n?.(),!1),Ls=Di('<div class="keyboard-controls svelte-10kkmxz" tabindex="-1" role="region"><!></div>'),Ms={hash:"svelte-10kkmxz",code:".keyboard-controls.svelte-10kkmxz {position:absolute;left:0;right:0;top:0;bottom:0;}"};function Vs(e,t){hi(t,!0),bn(e,Ms);let[i,n]=ca(),a=()=>ua(x,"$playbackState$",i),o=()=>ua(k,"$adPlaybackState",i),r=()=>ua(A,"$disabledControls$",i),s=()=>ua($,"$positionExact$",i),l=()=>ua(S,"$duration$",i),d=()=>ua(q,"$isAudioAvailable$",i),u=()=>ua(C,"$volume$",i),c=()=>ua(I,"$availablePlaybackRates$",i),p=()=>ua(E,"$currentPlaybackRate$",i),v=()=>ua(P,"$currentSubtitle$",i),m=ma(t,"nextButtonActive",3,!1),b=ma(t,"prevButtonActive",3,!1),y=qa(),_=wa(),w=y.getLogger().createComponentLog("KeyboardControls component"),x=y.state.playbackState$,k=y.ads.playbackState,$=y.state.positionExact$,S=y.state.duration$,C=y.state.volume$,A=y.ui.controls.disabledControls$,T=y.state.muted$,P=y.state.currentSubtitle$,E=y.state.currentPlaybackRate$,I=y.state.availablePlaybackRates$,L=y.ui.contextMenu.openedByHotKey$,M=y.ui.contextMenu.lastActiveElem$,V=y.ui.contextMenu.visible$,N=y.ui.contextMenu.position$,R=y.state.isEnded$,B=y.ui.overlayContainer$,D=y.callbacks?.onAudioDoesNotExistHint,z=y.callbacks?.onAudioDisabledHint,q=y.state.isAudioAvailable$,H=y.state.isAudioDisabled,j=y.state.isInteractiveTime$,{showInteractiveTimeIndicatorTooltip$:F}=Ha(),U=0,W=!0,Q=te(void 0),K=e=>(e!==W&&(W=e,U=0),U+=1,(_.controls.seekStepKeyboard+_.controls.seekStepKeyboard*U)/1e3),G=Io("aria_label_video_player");var Z=Ls();Z.__keyup=e=>{let i=e.code;if(e.ctrlKey||e.altKey||e.metaKey)return;let n=a()===h.PlaybackState.PLAYING||a()===h.PlaybackState.PAUSED,r=t.isAds&&("paused"===o()||"playing"===o());if(n||r)switch(i){case"ShiftLeft":case"ShiftRight":U=0}},Z.__keydown=e=>{let n=e.target,x=n?.getAttribute("role")?.includes("menuitem"),k=n.classList.contains("btn"),$=e.code;if(k&&"Space"===$)return;let S=Ta.has($);if(x&&S)return;let C=!Aa.has($);if(e.ctrlKey&&C||e.altKey&&C||e.metaKey)return;let A=x&&"Escape"===$;Pa.has($)||A||t.hideContextMenu();let P=a()===h.PlaybackState.PLAYING||a()===h.PlaybackState.PAUSED,E=t.isAds&&("paused"===o()||"playing"===o()),I=!E&&!r().has("TIMELINE");if(P||E)switch(w({message:`key down, code: ${$}`}),$){case"KeyJ":case"ArrowLeft":if(!I)break;if(e.ctrlKey||e.altKey){let i=y.actions.internal.getPrevEpisode();y.actions.internal.seekToPrevEpisode(i),i&&t.showHotKeyHelpers({type:"EPISODE_PREV",text:i.text}),e.preventDefault()}else{let i=e.shiftKey?K(!1):_.controls.seekStepKeyboard/1e3,n=Math.max(s()-i,0);s()>0&&(y.actions.internal.seekTime(n,f.SeekAction.DOUBLE_TAP),t.showHotKeyHelpers({type:"BACKWARD_SEEK",text:i.toString()}),e.preventDefault())}break;case"KeyL":case"ArrowRight":if(!I)break;if(e.ctrlKey||e.altKey){let i=y.actions.internal.getNextEpisode();y.actions.internal.seekToNextEpisode(i),i&&t.showHotKeyHelpers({type:"EPISODE_NEXT",text:i.text}),e.preventDefault()}else{let i=e.shiftKey?K(!0):_.controls.seekStepKeyboard/1e3,n=Math.min(s()+i,l());Math.round(s())<Math.round(l())&&(y.actions.internal.seekTime(n,f.SeekAction.DOUBLE_TAP),t.showHotKeyHelpers({type:"FORWARD_SEEK",text:i.toString()}),e.preventDefault())}break;case"ArrowUp":if(Is({isAudioDisabled:H,audioDisabledHintCallback:z,isAudioAvailable:d(),audioIsNotExistHintCallback:D})){let e=u(),i=_.controls.volumeStepKeyboard,n=e<=1;if(Ps(y,e,i),n){let n=Math.round(100*As(e,i)).toString();t.showHotKeyHelpers({type:"VOLUME",t:{key:"hotkey_helper_current_volume",value:n}})}}e.preventDefault();break;case"ArrowDown":if(Is({isAudioDisabled:H,audioDisabledHintCallback:z,isAudioAvailable:d(),audioIsNotExistHintCallback:D})){let e=u(),i=_.controls.volumeStepKeyboard,n=e>=0;if(Es(y,e,i),n){let n=Math.round(100*Ts(e,i)).toString();t.showHotKeyHelpers({type:"VOLUME",t:{key:"hotkey_helper_current_volume",value:n}})}}e.preventDefault();break;case"Comma":if(e.shiftKey){y.actions.internal.decrementPlaybackRate();let i=c().find((e=>e.value===p()));t.showHotKeyHelpers({type:"RATE_DOWN",text:i?.displayValue}),e.preventDefault()}else{if(E||a()!==h.PlaybackState.PAUSED)break;let i=Math.max(s()-_.controls.seekStepFrame/1e3,0);s()>0&&(t.showHotKeyHelpers({type:"BACKWARD_SEEK"}),y.actions.internal.clearDelayedBufferingCheckTimeout(),y.actions.internal.seekTime(i,f.SeekAction.DOUBLE_TAP),e.preventDefault())}break;case"Period":if(e.shiftKey){y.actions.internal.incrementPlaybackRate();let i=c().find((e=>e.value===p()));t.showHotKeyHelpers({type:"RATE_UP",text:i?.displayValue}),e.preventDefault()}else{if(E||a()!==h.PlaybackState.PAUSED)break;let i=Math.min(s()+_.controls.seekStepFrame/1e3,l());s()<l()&&(t.showHotKeyHelpers({type:"FORWARD_SEEK"}),y.actions.internal.clearDelayedBufferingCheckTimeout(),y.actions.internal.seekTime(i,f.SeekAction.DOUBLE_TAP),e.preventDefault())}break;case"KeyK":case"Space":if(!r().has("PLAY_BUTTON"))if(ua(j,"$isInteractiveTime$",i)&&ua(F,"$showInteractiveTimeIndicatorTooltip$",i)&&F.set(!1),t.fakePlayButtonHandler)t.fakePlayButtonHandler();else{y.actions.internal.togglePlay();let e="PLAY";a()===h.PlaybackState.PAUSED?e="PAUSE":ua(R,"$isEnded$",i)&&(e="REPLAY"),t.showHotKeyHelpers({type:e})}e.preventDefault();break;case"KeyM":Is({isAudioDisabled:H,audioDisabledHintCallback:z,isAudioAvailable:d(),audioIsNotExistHintCallback:D})&&(t.showHotKeyHelpers({type:ua(T,"$muted$",i)?"VOLUME":"MUTE"}),y.actions.internal.toggleMuted()),e.preventDefault();break;case"KeyF":t.toggleFullscreen(),e.preventDefault();break;case"KeyC":y.actions.internal.toggleSubtitle(),"off"!==v().value?t.showHotKeyHelpers({type:"SUBTITLES_ON",text:v()?.displayValue}):t.showHotKeyHelpers({type:"SUBTITLES_OFF"}),e.preventDefault();break;case"KeyI":y.actions.internal.togglePictureInPicture(),e.preventDefault();break;case"Digit1":case"Numpad1":if(e.shiftKey){let t=(e=>{if(!e)return{top:0,left:0};let t=e.getBoundingClientRect(),i=t.left+8;return{bottom:t.bottom+-58,left:i}})(ua(B,"$overlayContainer$",i));N.set(t),M.set(n),L.set(!0),V.set(!0),e.preventDefault();break}t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.1,f.SeekAction.DOUBLE_TAP),e.preventDefault();break;case"Digit2":case"Numpad2":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.2,f.SeekAction.DOUBLE_TAP),e.preventDefault();break;case"Digit3":case"Numpad3":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.3,f.SeekAction.DOUBLE_TAP),e.preventDefault();break;case"Digit4":case"Numpad4":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.4,f.SeekAction.DOUBLE_TAP),e.preventDefault();break;case"Digit5":case"Numpad5":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.5,f.SeekAction.DOUBLE_TAP),e.preventDefault();break;case"Digit6":case"Numpad6":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.6,f.SeekAction.DOUBLE_TAP),e.preventDefault();break;case"Digit7":case"Numpad7":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.7,f.SeekAction.DOUBLE_TAP),e.preventDefault();break;case"Digit8":case"Numpad8":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.8,f.SeekAction.DOUBLE_TAP),e.preventDefault();break;case"Digit9":case"Numpad9":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(.9,f.SeekAction.DOUBLE_TAP),e.preventDefault();break;case"Digit0":case"Numpad0":t.showHotKeyHelpers(),y.actions.internal.seekToPercent(0,f.SeekAction.DOUBLE_TAP),e.preventDefault();break;case"Slash":e.shiftKey&&_.features.hotKeyMapModal&&(t.showKeyMap(),e.preventDefault());break;case"KeyN":e.shiftKey&&m()&&y.actions.internal.nextVideoClick();break;case"KeyP":e.shiftKey&&b()&&y.actions.internal.prevVideoClick();break;case"ShiftLeft":case"ShiftRight":e.preventDefault();break;case"Tab":case"Escape":case"Enter":break;default:(0,g.checkNever)($)}},Ln(Z,"aria-label",G),hn(Re(Z),(()=>t.children??O)),Ce(Z),Yn(Z,(e=>ne(Q,e)),(()=>Ct(Q))),ji(e,Z);var Y=gi({focus:()=>Ct(Q)?.focus()});return n(),Y}Ni(["keyup","keydown"]);var Ns=Di('<div class="container svelte-1dbnjb1"><div class="dot svelte-1dbnjb1"></div> <div class="dot svelte-1dbnjb1"></div> <div class="dot svelte-1dbnjb1"></div></div>'),Rs={hash:"svelte-1dbnjb1",code:".container.svelte-1dbnjb1 {position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);pointer-events:none;display:flex;}.dot.svelte-1dbnjb1:nth-child(1) {animation-delay:calc(0 * 180ms);}.dot.svelte-1dbnjb1:nth-child(2) {animation-delay:calc(1 * 180ms);}.dot.svelte-1dbnjb1:nth-child(3) {animation-delay:calc(2 * 180ms);}\n\n  @keyframes svelte-1dbnjb1-dot_animation {\n    0% {\n      opacity: 0.2;\n    }\n    30% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0.2;\n    }\n  }.dot.svelte-1dbnjb1 {border-radius:4px;width:8px;height:8px;background:var(--btn-color);animation-duration:750ms;\n    animation-name: svelte-1dbnjb1-dot_animation;animation-iteration-count:infinite;}.dot.svelte-1dbnjb1 + .dot:where(.svelte-1dbnjb1) {margin-left:4px;}"};function Bs(e,t){bn(e,Rs);let i=ma(t,"style",3,"");var n=Ns();Bt((()=>Cn(n,i()))),ji(e,n)}var Os=zi('<svg><!><g filter="url(#a)"><path fill="#fff" d="M7.536 6.264a.9.9 0 0 0-1.272 1.272L10.727 12l-4.463 4.464a.9.9 0 0 0 1.272 1.272L12 13.273l4.464 4.463a.9.9 0 1 0 1.272-1.272L13.273 12l4.463-4.464a.9.9 0 1 0-1.272-1.272L12 10.727z"></path><path stroke="#000" stroke-opacity=".12" stroke-width=".5" d="M7.713 6.087a1.15 1.15 0 1 0-1.626 1.626L10.374 12l-4.287 4.287a1.15 1.15 0 0 0 1.626 1.626L12 13.626l4.287 4.287a1.15 1.15 0 0 0 1.626-1.626L13.626 12l4.287-4.287a1.15 1.15 0 1 0-1.626-1.626L12 10.374z"></path></g><defs><filter id="a" width="23" height="23" x=".5" y=".5" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset></feOffset><feGaussianBlur stdDeviation="2.5"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_2422_111980"></feBlend><feBlend in="SourceGraphic" in2="effect1_dropShadow_2422_111980" result="shape"></feBlend></filter></defs></svg>');var Ds=e=>{e.stopPropagation()},zs=Di("<button><!></button>"),qs={hash:"svelte-wr0kwr",code:".btn.svelte-wr0kwr {padding:8px;margin:0;height:var(--controls-height);display:flex;flex-direction:row;align-items:center;justify-content:center;}\n\n   /* Ниже идут абстрактные и специфик классы для кнопок которые можно передать через параметр className */.w-max.svelte-wr0kwr {width:100%;}.btn--live.svelte-wr0kwr {padding:10px 4px;}.btn-jc-l.svelte-wr0kwr {justify-content:left;}\n\n\n  /* mobile */\n  /* container mobile */.btn-m.svelte-wr0kwr {position:absolute;left:12px;top:50%;transform:translateY(-50%);height:44px;width:44px;border-radius:12px;background-color:rgba(0, 0, 0, 0.56);transition:opacity var(--controls-transition-duration);display:flex;align-items:center;justify-content:center;}.btn-m--play.svelte-wr0kwr {width:var(--big-play-size);height:var(--big-play-size);display:flex;align-items:center;justify-content:center;position:relative;padding:16px;}.btn-m--play.svelte-wr0kwr svg {transform:scale(2);}.btn-m--prev.svelte-wr0kwr,\n  .btn-m--next.svelte-wr0kwr {position:absolute;width:50px;height:50px;}.btn-m--prev.svelte-wr0kwr {right:calc(100% + 35px);}.btn-m--next.svelte-wr0kwr {left:calc(100% + 35px);}.btn.svelte-wr0kwr:disabled {cursor:default;\n    /* нужно для того, чтобы не давать событиям клика отрабатывать на заблоченном элементе */pointer-events:none;}.btn.svelte-wr0kwr:not(.btn-full-opacity):disabled {opacity:0.4;}.btn.svelte-wr0kwr:not(:disabled):hover {opacity:0.8;}.pr-0.svelte-wr0kwr {padding-right:0;}.pl-0.svelte-wr0kwr {padding-left:0;}"};function Hs(e,t){hi(t,!0),bn(e,qs);let i=ma(t,"className",3,""),n=ma(t,"style",3,""),a=ma(t,"disabled",3,void 0),o=ma(t,"testId",3,void 0),r=ma(t,"ariaHidden",3,void 0),s=ma(t,"ariaLabel",3,void 0),l=ma(t,"ref",15,void 0),d=ma(t,"ariaKeyShortCut",3,void 0),u=ma(t,"ariaExpanded",3,void 0),c=ma(t,"tabIndex",3,0),p=ma(t,"click",3,g.noop),v=ma(t,"focus",3,g.noop),h=ma(t,"blur",3,g.noop),f=re((()=>p()===g.noop?null:e=>{e.stopPropagation(),p()(e)})),m=re((()=>v()===g.noop?null:e=>{e.preventDefault(),v()()})),b=re((()=>h()===g.noop?null:e=>{e.preventDefault(),h()()}));var y=zs();y.__pointerdown=[Ds],y.__click=function(...e){Ct(f)?.apply(this,e)},hn(Re(y),(()=>t.children??O)),Ce(y),Yn(y,(e=>l(e)),(()=>l())),Bt((()=>{$n(y,1,`btn ${i()??""}`,"svelte-wr0kwr"),Cn(y,n()||null),y.disabled=a()??null,Ln(y,"aria-hidden",r()??null),Ln(y,"aria-label",s()??null),Ln(y,"aria-keyshortcuts",d()??null),Ln(y,"aria-expanded",u()??null),Ln(y,"data-testid",o()??null),Ln(y,"tabindex",c())})),Vi("focus",y,(function(...e){Ct(m)?.apply(this,e)})),Vi("blur",y,(function(...e){Ct(b)?.apply(this,e)})),ji(e,y),gi()}Ni(["pointerdown","click"]);var js=Di('<div class="modal-header svelte-1witlsj"><h3 class="modal-title svelte-1witlsj"> </h3> <!></div>'),Fs=Di('<div class="modal-overlay svelte-1witlsj"><div class="modal-container svelte-1witlsj"><!> <div class="modal-scroll svelte-1witlsj"><div class="modal-main svelte-1witlsj"><!></div></div></div></div>'),Us={hash:"svelte-1witlsj",code:".modal-overlay.svelte-1witlsj {position:absolute;top:0;bottom:0;left:0;right:0;background:transparent;display:flex;align-items:center;justify-content:center;}.modal-container.svelte-1witlsj {display:flex;flex-direction:column;width:calc(100% - 32px);max-width:600px;height:calc(100% - 24px);max-height:490px;background:var(--mobile-settings-bg);color:var(--white);border-radius:8px;}.modal-header.svelte-1witlsj {box-sizing:border-box;display:flex;justify-content:space-between;align-items:start;height:40px;padding:8px 10px;border-bottom:1px solid var(--white-alpha-24);}.modal-title.svelte-1witlsj {margin:3px 0 0 6px;color:var(--white);font-feature-settings:'clig' off, 'liga' off;font-size:13px;font-style:normal;font-weight:600;line-height:16px;}.modal-scroll.svelte-1witlsj {overflow-y:auto;overflow-x:hidden;margin:8px 4px 8px 0;height:100%;}.modal-scroll.svelte-1witlsj::-webkit-scrollbar {width:8px;}.modal-scroll.svelte-1witlsj::-webkit-scrollbar-track {box-shadow:none;background-color:transparent;border-radius:4px;margin-right:2px;}.modal-scroll.svelte-1witlsj::-webkit-scrollbar-thumb {min-height:40px;border-radius:5px;background-color:#666;border:1px solid transparent;background-clip:padding-box;}.modal-scroll.svelte-1witlsj::-webkit-scrollbar-thumb:hover {background-color:#777;}.modal-main.svelte-1witlsj {margin:-8px -4px 0 0;}"};function Ws(e,t){hi(t,!0),bn(e,Us);let i=ma(t,"showHeader",3,!0),n=ma(t,"showCloseCross",3,!0),a=Io("hotkey_map_modal_close_btn_text");var o=Fs(),r=Re(o),s=Re(r),l=e=>{var i=js(),o=Re(i),r=Re(o,!0);Ce(o);var s=Oe(o,2),l=e=>{Hs(e,{get click(){return t.onClose},testId:"close-modal",style:"padding: 0; height: 24px; width: 24px",ariaLabel:a,children:(e,t)=>{!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Os();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true","data-testid":"cross-icon",role:"img",...i}))),ji(e,n)}(e,{})},$$slots:{default:!0}})};Ji(s,(e=>{n()&&e(l)})),Ce(i),Bt((()=>Wi(r,t.title))),ji(e,i)};Ji(s,(e=>{i()&&e(l)}));var d=Oe(s,2),u=Re(d);hn(Re(u),(()=>t.children??O)),Ce(u),Ce(d),Ce(r),Ce(o),ji(e,o),gi()}var Qs=new Set(["BR"]),Ks=Di('<li class="hot-key-map-item svelte-quklnq"><span class="hot-key-map-item-description svelte-quklnq"><!></span> <span class="hot-key-map-item-value svelte-quklnq"> </span></li>'),Gs=Di('<div class="hot-key-map-group svelte-quklnq"><h5 class="hot-key-map-group-title svelte-quklnq"> </h5> <ul class="hot-key-map-group-items svelte-quklnq"></ul></div>'),Zs=Di('<div class="hot-key-map svelte-quklnq"></div>'),Ys={hash:"svelte-quklnq",code:".hot-key-map.svelte-quklnq {color:var(--black);box-sizing:border-box;overflow-x:hidden;}.hot-key-map-group.svelte-quklnq {border-bottom:1px solid var(--white-alpha-24);margin:0 20px 0 16px;}.hot-key-map-group.svelte-quklnq:last-child {border-bottom:none;}.hot-key-map-group-title.svelte-quklnq {color:var(--white);font-feature-settings:'clig' off, 'liga' off;font-size:13px;font-style:normal;font-weight:600;line-height:16px;}.hot-key-map-group-title.svelte-quklnq,\n  .hot-key-map-item.svelte-quklnq {padding:12px 0;margin:0;width:100%;}.hot-key-map-group-items.svelte-quklnq {box-sizing:border-box;list-style:none;padding:0;margin:0;}.hot-key-map-item.svelte-quklnq {box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;--videoplayer-hotkey-item-value-width: 156px;--videoplayer-hotkey-item-value-padding-left: 24px;}.hot-key-map-item-description.svelte-quklnq {color:var(--white-alpha-72);width:calc(100% - var(--videoplayer-hotkey-item-value-width) - var(--videoplayer-hotkey-item-value-padding-left));max-width:388px;}.hot-key-map-item-value.svelte-quklnq {color:var(--white);width:var(--videoplayer-hotkey-item-value-width);padding-left:var(--videoplayer-hotkey-item-value-padding-left);letter-spacing:-0.14px;}.hot-key-map-item-description.svelte-quklnq,\n  .hot-key-map-item-value.svelte-quklnq {font-feature-settings:'clig' off, 'liga' off;font-size:13px;font-style:normal;font-weight:400;line-height:16px;}"};function Xs(e,t){hi(t,!1),bn(e,Ys);let[i,n]=ca(),a=()=>ua(r,"$data",i),o=qa(),{data:r,show:s}=o.ui.modals.hotKeyMap;Xn(),Ws(e,{get title(){return a().title},onClose:()=>{s.set(!1)},children:(e,t)=>{var i=Zs();rn(i,5,(()=>a().groups),(({title:e,items:t})=>e),((e,t)=>{var i=Gs(),n=Re(i),a=Re(n,!0);Ce(n);var o=Oe(n,2);rn(o,5,(()=>Ct(t).items),(({description:e,value:t})=>t),((e,t)=>{var i=Ks(),n=Re(i);vn(Re(n),(()=>(e=>{let t=document.createElement("DIV");t.innerHTML=e;let i=t.querySelectorAll("*"),n=i.length;for(;n--;){let e=i[n],t=e.tagName;Qs.has(t)||e.parentElement?.removeChild(e)}return t.innerHTML})(Ct(t).description)),!1,!1),Ce(n);var a=Oe(n,2),o=Re(a,!0);Ce(a),Ce(i),Bt((()=>Wi(o,Ct(t).value))),ji(e,i)})),Ce(o),Ce(i),Bt((()=>Wi(a,Ct(t).title))),ji(e,i)})),Ce(i),ji(e,i)},$$slots:{default:!0}}),gi(),n()}var Js=Di('<div class="pillow svelte-1oe0j8n"><!></div>'),el={hash:"svelte-1oe0j8n",code:".pillow.svelte-1oe0j8n {background-color:#679FF8;color:var(--white);font-size:6px;font-weight:600;-webkit-font-smoothing:antialiased;padding:2px 4px;border-radius:12px;}"};var tl=zi('<svg><!><path fill="currentColor" d="M5.517 5c.325 0 .516-.198.516-.536v-.97l.492-.517 1.46 1.74c.16.205.304.283.516.283A.49.49 0 0 0 9 4.501c0-.14-.068-.287-.222-.478l-1.47-1.73L8.818.868C8.949.731 9 .618 9 .475A.474.474 0 0 0 8.515 0c-.171 0-.301.065-.445.222L6.064 2.25h-.03V.54c0-.342-.192-.54-.517-.54s-.516.198-.516.54v3.924c0 .338.191.536.516.536"></path><path fill="currentColor" fill-rule="evenodd" d="m2.551 1.052-1.51 2.052h1.51zM3.5 3.104V.832c0-.81-1.089-1.14-1.556-.48L.139 2.821a.75.75 0 0 0 .612 1.183h1.8v.55c0 .248.25.45.499.45a.45.45 0 0 0 .45-.45v-.55h.052a.45.45 0 0 0 0-.9z" clip-rule="evenodd"></path></svg>');function il(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=tl();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"5",fill:"none",role:"img",...i}))),ji(e,n)}var nl=zi('<svg><!><path fill="currentColor" d="M5.513 5c.323 0 .513-.198.513-.537v-.97l.49-.516L7.99 4.715c.16.205.302.284.513.284A.49.49 0 0 0 9 4.5c0-.14-.068-.287-.22-.478L7.293 2.293 8.82.868C8.949.731 9 .618 9 .475A.473.473 0 0 0 8.517 0c-.17 0-.299.065-.441.222L6.056 2.25h-.03V.54c0-.342-.19-.54-.513-.54S5 .198 5 .54v3.923c0 .339.19.537.513.537"></path><path fill="currentColor" fill-rule="evenodd" d="M2 0q-.53 0-.952.173a1.5 1.5 0 0 0-.654.484q-.23.312-.23.71c0 .423.208.756.613.995a1.46 1.46 0 0 0-.547.44q-.23.305-.23.71 0 .432.252.778l.001.001q.26.336.712.523Q1.418 5.001 2 5q.582 0 1.035-.186.451-.187.705-.524.26-.346.26-.777 0-.406-.23-.711a1.45 1.45 0 0 0-.552-.44c.409-.235.618-.569.618-.994a1.14 1.14 0 0 0-.238-.711 1.44 1.44 0 0 0-.653-.484A2.4 2.4 0 0 0 2 0m-.573.964C1.563.86 1.75.804 2 .804s.434.055.564.16h.001a.51.51 0 0 1 .204.43.52.52 0 0 1-.204.437c-.13.105-.315.161-.565.161s-.437-.056-.573-.161a.52.52 0 0 1-.203-.437q.002-.276.203-.43m-.345 2.522c0-.217.08-.381.233-.503.16-.122.385-.188.685-.188s.522.066.677.188q.24.181.24.503a.63.63 0 0 1-.24.523c-.155.122-.377.188-.677.188s-.524-.065-.684-.187a.64.64 0 0 1-.234-.524" clip-rule="evenodd"></path></svg>');function al(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=nl();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"5",fill:"none",role:"img",...i}))),ji(e,n)}var ol=zi('<svg><!><path fill="currentColor" d="M5.516 5h1.107C8.103 5 9 4.065 9 2.5S8.103 0 6.623 0H5.516C5.191 0 5 .2 5 .537V4.46c0 .342.191.54.516.54m.516-.854V.852H6.5C7.41.852 8 1.468 8 2.5c0 1.066-.577 1.646-1.5 1.646zM.516 5c.325 0 .516-.198.516-.536V2.922h1.936v1.542c0 .338.191.536.516.536S4 4.802 4 4.464V.54C4 .198 3.809 0 3.484 0s-.516.198-.516.54v1.531H1.032V.54C1.032.198.841 0 .516 0S0 .198 0 .54v3.989C0 4.867.191 5 .516 5"></path></svg>');function rl(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=ol();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"5",fill:"none",role:"img",...i}))),ji(e,n)}var sl=zi('<svg><!><path fill="currentColor" d="M9.516 5h1.107C12.103 5 13 4.065 13 2.5S12.103 0 10.623 0H9.516C9.191 0 9 .2 9 .537V4.46c0 .342.191.54.516.54m.516-.854V.852h.468c.91 0 1.5.616 1.5 1.648 0 1.066-.577 1.646-1.5 1.646zM4.516 5c.325 0 .516-.198.516-.536V2.922h1.936v1.542c0 .338.191.536.516.536S8 4.802 8 4.464V.54C8 .198 7.809 0 7.484 0s-.516.198-.516.54v1.531H5.032V.54c0-.342-.191-.54-.516-.54S4 .198 4 .54v3.989c0 .338.191.471.516.471m-4 0c.325 0 .516-.198.516-.537V3h1.332c.27 0 .441-.154.441-.41 0-.253-.174-.407-.44-.407H1.031V.854h1.5c.28 0 .468-.16.468-.427C3 .161 2.815 0 2.532 0H.516C.191 0 0 .198 0 .537v3.926C0 4.802.191 5 .516 5"></path></svg>');function ll(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=sl();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"5",fill:"none",role:"img",...i}))),ji(e,n)}var dl=zi('<svg><!><path fill="currentColor" d="M11.516 5.75h1.107c1.48 0 2.377-.935 2.377-2.5s-.897-2.5-2.377-2.5h-1.107c-.325 0-.516.199-.516.537V5.21c0 .342.191.54.516.54m.516-.854V1.602h.468c.91 0 1.5.616 1.5 1.648 0 1.066-.577 1.646-1.5 1.646zm-5.516.854c.325 0 .516-.198.516-.536V3.672h1.936v1.542c0 .338.191.536.516.536S10 5.552 10 5.214V1.29c0-.342-.191-.54-.516-.54s-.516.198-.516.54v1.531H7.032V1.29c0-.342-.191-.54-.516-.54S6 .948 6 1.29v3.989c0 .338.191.471.516.471"></path><path fill="currentColor" fill-rule="evenodd" d="M3.338 5.659a4 4 0 0 1-.838.091C1.037 5.75 0 4.885 0 3.303 0 1.733 1.037.75 2.5.75 3.96.75 5 1.734 5 3.303c0 .863-.274 1.46-.778 1.88l.194.29a.5.5 0 0 1-.832.554zm-.52-.78-.234-.352a.5.5 0 1 1 .832-.554l.245.367c.184-.26.286-.615.286-1.037 0-1.036-.64-1.653-1.447-1.653-.81 0-1.447.617-1.447 1.653 0 1.032.637 1.596 1.447 1.596.08 0 .208-.007.318-.02" clip-rule="evenodd"></path></svg>');function ul(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=dl();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"7",fill:"none",role:"img",...i}))),ji(e,n)}var cl=e=>{switch(e){case g.VideoQuality.Q_720P:return rl;case g.VideoQuality.Q_1080P:return ll;case g.VideoQuality.Q_1440P:return ul;case g.VideoQuality.Q_2160P:return il;case g.VideoQuality.Q_4320P:return al}},pl=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M12.722 2.213c1.208.037 1.994.702 2.408 1.954l.065.215.051.191q.027.111.068.235l.058.159.034.017.069-.023.133-.051.156-.068c1.414-.658 2.502-.536 3.387.437l.125.145.82 1.017c.732.962.71 1.99-.004 3.1l-.125.187-.117.16a3 3 0 0 0-.142.205l-.07.115-.034.057.004.02.091.06.127.077.153.083c1.39.71 1.963 1.641 1.742 2.936l-.038.188-.244 1.058c-.158.685-.282 1.01-.77 1.454-.475.432-1.016.61-1.732.67l-.22.014-.198.006q-.116.002-.246.015l-.181.021.013.142.013.096.033.179c.323 1.526-.04 2.558-1.188 3.202l-.17.09-1.175.57c-1.102.495-2.099.242-3.02-.702l-.153-.164-.13-.15a3 3 0 0 0-.17-.186l-.097-.096-.05-.046-.09.087-.106.108-.118.133c-.952 1.134-1.957 1.54-3.176 1.067l-.175-.074-1.052-.51-.312-.16c-.476-.26-.743-.51-1.004-1.061-.275-.58-.294-1.15-.16-1.883l.044-.225q.024-.114.041-.242l.019-.172-.004-.004-.104-.014-.146-.013-.174-.008c-1.56-.028-2.484-.614-2.853-1.877l-.049-.185-.292-1.274c-.235-1.185.236-2.1 1.364-2.785l.194-.112.175-.093a3 3 0 0 0 .216-.12l.155-.102.004-.019-.063-.108-.08-.125-.103-.143c-.937-1.246-1.044-2.335-.276-3.404l.115-.153.824-1.013c.79-.915 1.8-1.107 3.034-.64l.208.083.181.081q.103.048.222.093l.136.048.036-.017.033-.089.045-.138.046-.166c.36-1.436 1.085-2.242 2.39-2.35l.19-.011h1.39Zm-.056 1.799h-1.333l-.14.01c-.285.037-.472.191-.652.832l-.041.156-.057.206a6.3 6.3 0 0 1-.468 1.134 6 6 0 0 0-1.147.558 6.5 6.5 0 0 1-1.16-.35l-.35-.154c-.248-.107-.435-.161-.583-.175l-.084-.003a.55.55 0 0 0-.408.193l-.068.074-.789.973-.095.125c-.183.264-.21.5.195 1.075l.228.316c.212.31.425.692.598 1.102q-.195.577-.27 1.201c-.334.29-.69.537-1.013.72l-.343.184c-.617.34-.695.563-.646.881l.013.075.28 1.22.04.152c.096.308.265.475.968.509l.388.014c.37.024.798.09 1.223.204q.337.526.776.968a6.3 6.3 0 0 1-.118 1.445c-.201.95-.014 1.102.383 1.3l1.126.547a.8.8 0 0 0 .337.089l.067-.006c.181-.028.382-.162.67-.485l.258-.295a6.5 6.5 0 0 1 .949-.837l.298.023L12 18l.302-.008.298-.022c.363.263.691.559.948.837l.258.295c.325.364.538.488.737.49l.066-.003a.8.8 0 0 0 .178-.046l.093-.039 1.126-.548.139-.073c.3-.175.42-.395.245-1.226a6.2 6.2 0 0 1-.117-1.445q.436-.442.775-.97a6.5 6.5 0 0 1 1.223-.202l.387-.014c.812-.04.912-.256 1.008-.66l.264-1.142c.09-.406.095-.643-.617-1.035l-.342-.183a6.4 6.4 0 0 1-1.014-.722 6 6 0 0 0-.27-1.201c.174-.41.386-.791.598-1.1l.228-.317c.406-.575.378-.81.195-1.075l-.045-.062-.787-.974c-.14-.171-.259-.294-.452-.322l-.076-.007c-.16-.003-.368.05-.667.178l-.35.155a6.4 6.4 0 0 1-1.158.348 6 6 0 0 0-1.15-.556 6.5 6.5 0 0 1-.454-1.093l-.113-.414c-.192-.678-.393-.805-.714-.828zM12 8.2a3.8 3.8 0 1 1 0 7.6 3.8 3.8 0 0 1 0-7.6m0 1.8a2 2 0 1 0 0 4 2 2 0 0 0 0-4"></path></svg>');var vl=zi('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M13.933 4.875a.6.6 0 0 0-.07-.658c-.327-.413-.45-.833-.574-1.253l-.039-.13C13 2 12.833 2 12.417 2h-.91c-.371.003-.6.052-.757.833-.148.738-.36 1.476-1.566 2.186a.5.5 0 0 1-.12.05c-1.27.324-1.905-.023-2.542-.37l-.12-.065c-.766-.412-.884-.294-1.178 0l-.643.644c-.26.264-.389.461.053 1.124.418.626.789 1.299.438 2.654a.5.5 0 0 1-.05.12c-.668 1.126-1.362 1.33-2.058 1.535l-.13.039C2 11 2 11.167 2 11.583v.91c.003.371.052.6.833.757.738.148 1.476.36 2.186 1.566a.5.5 0 0 1 .05.12c.324 1.27-.023 1.905-.37 2.542l-.065.12c-.412.766-.294.884 0 1.178l.644.643c.264.26.461.389 1.124-.053.626-.418 1.299-.789 2.654-.438q.063.016.12.05c1.126.668 1.33 1.362 1.535 2.058l.039.13c.25.834.417.834.833.834h.91c.371-.003.6-.052.757-.833.148-.738.36-1.476 1.566-2.186a.5.5 0 0 1 .12-.05c1.27-.324 1.905.023 2.542.37l.12.065c.766.412.884.294 1.178 0l.643-.644c.26-.264.389-.461-.053-1.124-.26-.39-.503-.799-.563-1.38a.6.6 0 0 0-.413-.519 7.5 7.5 0 0 1-1.918-.871.58.58 0 0 0-.758.134 4.75 4.75 0 1 1-3.163-7.68.58.58 0 0 0 .633-.44 7.5 7.5 0 0 1 .749-1.967" clip-rule="evenodd"></path><path fill="var(--btn-color, #fff)" d="M13.25 2.833c.225.751.383 1.502 1.63 2.222 1.399.38 2.082.003 2.718-.42.663-.443.86-.315 1.124-.054l.644.643c.294.294.412.412 0 1.178-.372.69-.792 1.333-.418 2.726.72 1.255 1.47 1.472 2.219 1.622.78.156.83.386.833.757v.91c0 .416 0 .583-.833.833-.751.225-1.502.383-2.222 1.63-.38 1.399-.003 2.082.42 2.718.443.663.315.86.054 1.124l-.643.644c-.294.294-.412.412-1.178 0-.69-.372-1.333-.792-2.726-.418-1.255.72-1.472 1.47-1.622 2.219-.156.78-.386.83-.757.833h-.91c-.416 0-.583 0-.833-.833-.225-.751-.383-1.502-1.63-2.222-1.399-.38-2.082-.003-2.718.42-.663.443-.86.315-1.124.054l-.644-.643c-.294-.294-.412-.412 0-1.178.372-.69.792-1.333.418-2.726-.72-1.255-1.47-1.472-2.219-1.622-.78-.156-.83-.386-.833-.757v-.91c0-.416 0-.583.833-.833.751-.225 1.502-.383 2.222-1.63.38-1.399.003-2.082-.42-2.718-.443-.663-.315-.86-.054-1.124l.643-.644c.294-.294.412-.412 1.178 0 .69.372 1.333.792 2.726.418 1.255-.72 1.472-1.47 1.622-2.219.156-.78.386-.83.757-.833h.91c.416 0 .583 0 .833.833M12 7.25a4.75 4.75 0 1 0 0 9.5 4.75 4.75 0 0 0 0-9.5" class="_full"></path></svg>');var hl=Di('<div aria-hidden="true"><!> <!></div>'),gl={hash:"svelte-8t5w85",code:'.icon.svelte-8t5w85 {display:flex;position:relative;width:24px;height:24px;}.icon.svelte-8t5w85 .pillow {position:absolute;top:1px;right:-9px;}.icon.triple.svelte-8t5w85 .pillow {right:-13px;}.icon.svelte-8t5w85 svg[data-testid="settings-icon--labeled"] ._full {visibility:hidden;opacity:0;}'};function fl(e,t){hi(t,!0),bn(e,gl);let i=ma(t,"isMobile",3,!1),n=ma(t,"currentQuality",3,void 0),a=re((()=>cl(n()))),o=re((()=>!!Ct(a)&&[ll,ul].includes(Ct(a))));var r=Hi(),s=Be(r),l=e=>{!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=pl();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true","data-testid":"settings-mobile-icon",role:"img",...i}))),ji(e,n)}(e,{})},d=e=>{var t=hl();let i;var n=Re(t),r=e=>{!function(e,t){bn(e,el);var i=Js();hn(Re(i),(()=>t.children??O)),Ce(i),ji(e,i)}(e,{children:(e,t)=>{var i=Hi();gn(Be(i),(()=>Ct(a)),((e,t)=>{t(e,{})})),ji(e,i)},$$slots:{default:!0}})};Ji(n,(e=>{Ct(a)&&e(r)}));var s=Oe(n,2);let l=re((()=>Ct(a)?"settings-icon--labeled":"settings-icon"));(function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=vl();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","data-testid":"settings-icon",role:"img",...i}))),ji(e,n)})(s,{get"data-testid"(){return Ct(l)},fill:"var(--btn-color, #fff)"}),Ce(t),Bt((e=>i=$n(t,1,"icon svelte-8t5w85",null,i,e)),[()=>({triple:Ct(o)})]),ji(e,t)};Ji(s,(e=>{i()?e(l):e(d,!1)})),ji(e,r),gi()}var ml=Di('<span class="settings-icon-wrapper svelte-d9t49t"><!></span>'),bl={hash:"svelte-d9t49t",code:".settings-icon-wrapper.svelte-d9t49t {position:relative;width:24px;}"};function yl(e,t){hi(t,!0),bn(e,bl);let[i,n]=ca(),a=()=>ua(s,"$settingsMenuVisible",i),o=qa(),r=o.state.currentQuality$,s=o.ui.settingsMenu.visible$,l=o.actions.internal.openSettingsMenu,d=o.actions.internal.closeSettingsMenu,u=o.ui.isMobile,c=o.ui.t,p=te(void 0);Vt((()=>{ua(t.ref$,"$ref$",i)&&At((()=>{t.ref$.set(Ct(p))}))}));let v=re((()=>a()?c("tooltip_settings_on"):c("tooltip_settings_off")));let h=re((()=>a()?"opened":""));Hs(e,{get className(){return Ct(h)},testId:"btn-settings",click:async function(e){let t=xr(e);a()?d():l(t,St)},get ariaLabel(){return Ct(v)},get ariaExpanded(){return a()},get ref(){return Ct(p)},set ref(e){ne(p,Pe(e))},children:(e,t)=>{var n=ml();fl(Re(n),{get isMobile(){return ua(u,"$isMobile",i)},get currentQuality(){return ua(r,"$currentQuality",i)}}),Ce(n),ji(e,n)},$$slots:{default:!0}}),gi(),n()}var _l=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M3 0h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3m1 9h2a1 1 0 0 0 0-2H4a1 1 0 0 0 0 2m5 0h7a1 1 0 1 0 0-2H9a1 1 0 0 0 0 2m-5 4h7a1 1 0 1 0 0-2H4a1 1 0 1 0 0 2m10 0h2a1 1 0 1 0 0-2h-2a1 1 0 1 0 0 2"></path></svg>');var wl=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M14.692.428c2.293 0 3.124.24 3.962.687a4.67 4.67 0 0 1 1.944 1.944c.449.839.687 1.67.687 3.962v3.958c0 2.292-.238 3.123-.687 3.961a4.67 4.67 0 0 1-1.944 1.944c-.838.449-1.67.687-3.962.687H7.307c-2.293 0-3.124-.238-3.962-.687A4.67 4.67 0 0 1 1.4 14.94c-.448-.838-.687-1.669-.687-3.961V7.02c0-2.292.239-3.123.687-3.962a4.67 4.67 0 0 1 1.944-1.944C4.183.667 5.015.428 7.307.428zm.243 1.716-7.628-.001c-1.832 0-2.484.126-3.154.484a2.96 2.96 0 0 0-1.24 1.24c-.343.64-.473 1.264-.484 2.912v4.2c0 1.83.125 2.483.483 3.153q.433.809 1.241 1.24c.67.36 1.322.485 3.154.485h7.385c1.832 0 2.484-.126 3.154-.484a2.96 2.96 0 0 0 1.24-1.241c.36-.67.485-1.322.485-3.153V7.02c0-1.831-.126-2.483-.484-3.153a2.96 2.96 0 0 0-1.241-1.24c-.64-.343-1.263-.473-2.911-.484ZM11 10.714a.857.857 0 1 1 0 1.714H5.857a.857.857 0 0 1 0-1.714zm5.142 0a.857.857 0 1 1 0 1.714h-1.714a.857.857 0 0 1 0-1.714zm0-3.428a.857.857 0 1 1 0 1.714H11a.857.857 0 1 1 0-1.714zm-8.571 0a.857.857 0 0 1 0 1.714H5.857a.857.857 0 0 1 0-1.714z"></path></svg>');function xl(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=wl();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"18",fill:"none","aria-hidden":"true","data-testid":"subtitle-empty-icon",role:"img",...i}))),ji(e,n)}function kl(e,t){hi(t,!0);let i=ma(t,"isSubtitlesEnabled",3,!1),n=qa().ui.t,a=re((()=>i()?n("tooltip_subtitles_on"):n("tooltip_subtitles_off")));Hs(e,{testId:"btn-Subtitles",get ariaLabel(){return Ct(a)},get click(){return t.click},get ariaKeyShortCut(){return Sa},children:(e,t)=>{var n=Hi(),a=Be(n),o=e=>{!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=_l();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"16",fill:"none","aria-hidden":"true","data-testid":"subtitle-pained-icon",role:"img",...i}))),ji(e,n)}(e,{})},r=e=>{xl(e,{})};Ji(a,(e=>{i()?e(o):e(r,!1)})),ji(e,n)},$$slots:{default:!0}}),gi()}var $l=Di('<span class="duration svelte-sz9er7"> </span>'),Sl=Di('<div><span class="current svelte-sz9er7"> </span> <!></div>'),Cl={hash:"svelte-sz9er7",code:".time.svelte-sz9er7 {display:flex;align-items:center;font-weight:500;font-variant-numeric:tabular-nums;padding:12px 6px;color:var(--controls-time);}.time.mobile.svelte-sz9er7 {padding:0 0 0 8px;}.current.svelte-sz9er7 {position:relative;}.duration.svelte-sz9er7 {opacity:0.7;}.duration.svelte-sz9er7:before {content:' / ';white-space:pre;}"};function Al(e,t){hi(t,!0),bn(e,Cl);let i=ma(t,"isMobile",3,!1),n=ma(t,"showDuration",3,!0),a=ma(t,"ref",15),o=re((()=>dr(t.duration))),r=re((()=>dr(t.position)));var s=Sl();let l;var d=Re(s),u=Re(d,!0);Ce(d);var c=Oe(d,2),p=e=>{var t=$l(),i=Re(t,!0);Ce(t),Bt((()=>Wi(i,Ct(o)))),ji(e,t)};Ji(c,(e=>{n()&&e(p)})),Ce(s),Yn(s,(e=>a(e)),(()=>a())),Bt((e=>{l=$n(s,1,"time svelte-sz9er7",null,l,e),Wi(u,Ct(r))}),[()=>({mobile:i()})]),ji(e,s),gi()}var Tl=zi('<svg xmlns="http://www.w3.org/2000/svg" class="icon svelte-1n5yyua" aria-hidden="true"><g fill="var(--btn-color, #fff)" fill-rule="evenodd"><path class="wave2 svelte-1n5yyua" d="M12.98 18.823c-.031 1.207-.67 1.609-1.828.62-1.719-1.469-3.609-3.194-4.242-3.721-.632-.529-1.645-.62-3.073-.62-1.427 0-1.815-.621-1.815-1.241s-.014-1.83-.014-2.001c0-.055.005-.086.014-.13.02-.095-.058-.973 0-1.59.085-.906.388-1.241 1.815-1.241 1.428 0 2.44-.092 3.073-.62.633-.529 2.523-2.253 4.242-3.722 1.158-.989 1.797-.587 1.829.62.043 1.607 0 3.85 0 6.683 0 2.83.043 5.356 0 6.963zm2.901-8.704A.875.875 0 1 1 17.12 8.88c.176.177.41.47.64.872.384.671.616 1.425.616 2.247s-.232 1.576-.615 2.247a4.23 4.23 0 0 1-.641.872.875.875 0 1 1-1.238-1.238c.074-.073.214-.249.36-.503.241-.423.384-.887.384-1.378s-.143-.955-.385-1.378a2.597 2.597 0 0 0-.359-.503zm3-2A.875.875 0 1 1 20.12 6.88c.263.264.62.74.966 1.432.517 1.033.843 2.255.89 3.716-.047 1.403-.373 2.625-.89 3.658-.346.692-.703 1.168-.966 1.432a.875.875 0 1 1-1.238-1.238c.138-.137.383-.464.639-.976.407-.814.667-1.79.705-2.876-.038-1.144-.298-2.12-.705-2.934-.256-.512-.501-.839-.639-.976z"></path><path class="wave1 svelte-1n5yyua" d="M12.98 18.823c-.031 1.207-.67 1.609-1.828.62-1.719-1.469-3.609-3.194-4.242-3.721-.632-.529-1.645-.62-3.073-.62-1.427 0-1.815-.621-1.815-1.241s-.014-1.83-.014-2.001c0-.055.005-.086.014-.13.02-.095-.058-.973 0-1.59.085-.906.388-1.241 1.815-1.241 1.428 0 2.44-.092 3.073-.62.633-.529 2.523-2.253 4.242-3.722 1.158-.989 1.797-.587 1.829.62.043 1.607 0 3.85 0 6.683 0 2.83.043 5.356 0 6.963zm2.901-8.704A.875.875 0 1 1 17.12 8.88c.176.177.41.47.64.872.384.671.616 1.425.616 2.247s-.232 1.576-.615 2.247a4.23 4.23 0 0 1-.641.872.875.875 0 1 1-1.238-1.238c.074-.073.214-.249.36-.503.241-.423.384-.887.384-1.378s-.143-.955-.385-1.378a2.597 2.597 0 0 0-.359-.503z"></path><path class="cross svelte-1n5yyua" d="m20 10.763 2.381-2.382A.875.875 0 1 1 23.62 9.62L21.237 12l2.382 2.381a.875.875 0 1 1-1.238 1.238L20 13.237l-2.381 2.382a.875.875 0 1 1-1.238-1.238L18.763 12 16.38 9.619A.875.875 0 1 1 17.62 8.38zm-7.02 8.06c-.031 1.207-.67 1.609-1.828.62-1.719-1.469-3.609-3.194-4.242-3.721-.632-.529-1.645-.62-3.073-.62-1.427 0-1.815-.621-1.815-1.241s-.014-1.83-.014-2.001c0-.055.005-.086.014-.13.02-.095-.058-.973 0-1.59.085-.906.388-1.241 1.815-1.241 1.428 0 2.44-.092 3.073-.62.633-.529 2.523-2.253 4.242-3.722 1.158-.989 1.797-.587 1.829.62.043 1.607 0 3.85 0 6.683 0 2.83.043 5.356 0 6.963z"></path></g></svg>'),Pl={hash:"svelte-1n5yyua",code:".icon.svelte-1n5yyua {display:block;width:24px;height:24px;}.icon.svelte-1n5yyua .cross:where(.svelte-1n5yyua) {visibility:hidden;}.icon[data-value='off'].svelte-1n5yyua .wave1:where(.svelte-1n5yyua),\n  .icon[data-value='off'].svelte-1n5yyua .wave2:where(.svelte-1n5yyua) {visibility:hidden;}.icon[data-value='off'].svelte-1n5yyua .cross:where(.svelte-1n5yyua) {visibility:visible;}.icon[data-value='mid'].svelte-1n5yyua .wave2:where(.svelte-1n5yyua),\n  .icon[data-value='min'].svelte-1n5yyua .wave2:where(.svelte-1n5yyua) {visibility:hidden;}"};function El(e,t){bn(e,Pl);let i=ma(t,"volume",3,1),n=ma(t,"muted",3,!1),a=re((()=>((e,t)=>t?"off":e>.5?"max":e>.2?"mid":e>0?"min":"off")(i(),n())));var o=Tl();Bt((()=>{Ln(o,"data-value",Ct(a)),Ln(o,"data-testid",`volume-${Ct(a)??""}-icon`)})),ji(e,o)}var Il=Di('<div class="overlay"><!></div>');function Ll(e,t){hi(t,!0);let[i,n]=ca(),a=()=>ua(o,"$overlayContainer$",i),o=qa().ui.overlayContainer$,r=te(void 0),s=e=>{!e||!Ct(r)||e.contains(Ct(r))||e.appendChild(Ct(r))};Vt((()=>{s(a())})),ea((()=>(s(a()),()=>{var e;!(e=a())||!Ct(r)||!e.contains(Ct(r))||e.removeChild(Ct(r))})));var l=Il();hn(Re(l),(()=>t.children??O)),Ce(l),Yn(l,(e=>ne(r,e)),(()=>Ct(r))),ji(e,l),gi(),n()}var Ml=Di('<div><div class="content svelte-1jbbzcj"> </div> <div class="tooltip-pointer svelte-1jbbzcj"></div></div>'),Vl=Di("<div><!></div> <!>",1),Nl={hash:"svelte-1jbbzcj",code:'.tooltip-wrapper.svelte-1jbbzcj {display:flex;flex-direction:column;min-width:0;}.full-width.svelte-1jbbzcj {width:100%;}.tooltip.svelte-1jbbzcj {position:absolute;opacity:0;visibility:hidden;transition:opacity 200ms, visibility 200ms;bottom:100%;left:0;}.content.svelte-1jbbzcj {display:inline-block;padding:6px 10px;border-radius:3px;color:var(--white);background-color:rgba(41, 41, 41, .8);}.tooltip.active.svelte-1jbbzcj {opacity:1;visibility:visible;}.tooltip-pointer.svelte-1jbbzcj {position:absolute;bottom:0;width:0;border-top:5px solid rgba(41, 41, 41, .8);border-right:5px solid transparent;border-left:5px solid transparent;content:" ";font-size:0;line-height:0;}'};function Rl(e,t){hi(t,!0),bn(e,Nl);let i,[n,a]=ca(),o=()=>ua(S,"$overlayContainer$",n),r=ma(t,"isMobile",3,!1),s=ma(t,"content",3,""),l=ma(t,"active",15,!1),d=ma(t,"translateX",3,0),u=ma(t,"translateY",3,0),c=ma(t,"isFullWidthWrapper",3,!1),p=ma(t,"maxTooltipWidth",3,void 0),v=ma(t,"placement",3,"top"),h=ma(t,"onVisibilityChange",3,g.noop),f=te(void 0),m=te(void 0),b=te(0),y=te(0),_=te(0),w=te(0),x=wa(),k=qa(),$=k.ui.playerSize,S=k.ui.overlayContainer$;Vt((()=>{At((()=>{h()(l())}))}));let C=k.getLogger().createComponentLog("Tooltip component"),A=()=>{if(!o()||!Ct(m)||!Ct(f))return;ne(y,5);let e=o().getBoundingClientRect(),t=Ct(f).getBoundingClientRect(),i=t.width,a=Ct(m).clientWidth,r=ua($,"$containerSize",n).width,s=(i-a)/2,l=t.left+d()-e.left,c=l+s,p=t.top+u()-e.top,v=a/2-5,h=c+a>r-8;c<8&&(c=8,v=l+t.width/2-12.5),h&&(c=r-8-a,v=t.left-e.left+t.width/2-c-5),ne(_,Pe(c)),ne(w,p),ne(b,Pe(v))},T=()=>{switch(v()){case"top":A();break;case"bottom":!o()||!Ct(m)||!Ct(f)||ne(y,-5);break;case"left":(()=>{if(!o()||!Ct(m)||!Ct(f))return;ne(b,5);let e=o().getBoundingClientRect(),t=Ct(f).getBoundingClientRect(),i=t.height,n=Ct(m).clientHeight,a=(i-n)/2+n,r=t.left+d()-e.left-Ct(m).clientWidth-5;r<8&&(r=8);let s=t.top+u()-e.top+a,l=2-a/2;ne(_,Pe(r)),ne(w,s),ne(y,l),ne(b,-3)})();break;default:!o()||!Ct(m)||!Ct(f)||ne(b,-5)}},P=()=>{try{if(!o()||!Ct(f))return;T(),l(!0)}catch(e){C({message:String(e)})}},E=()=>{Ct(m)&&(i||(i=window.setTimeout(P,x.controls.hideTimeoutTooltips)),l()&&P())},I=()=>{l(!1),window.clearTimeout(i),i=void 0},L=re((()=>((e,t)=>{let i="";switch(v()){case"top":default:i=`transform: translate(${e}px, ${t}px);`;break;case"bottom":i=`transform: translate(${e}px, ${t}px); top: auto; bottom: 100%;`;break;case"left":i=`transform: translate(${e}px, ${t}px); left: 0; right: auto;`}return i+=` max-width: ${void 0===p()?"auto":`${p()}px`};`,i})(Ct(_),Ct(w)))),M=re((()=>((e,t)=>{let i="";switch(v()){case"top":i=`transform: translate(${e}px, ${t}px) rotate(0); top: auto; bottom: 0;`;break;case"bottom":i=`transform: translate(${e}px, ${t}px) rotate(180deg); top: 0; bottom: auto;`;break;case"left":i=`transform: translate(${e}px, ${t}px) rotate(-90deg); left: 100%; top: auto; bottom: 0;`;break;default:i=`transform: translate(${e}px, ${t}px) rotate(90deg); right: 100%; top: auto; bottom: 0;`}return i})(Ct(b),Ct(y))));ea(T),ta((()=>window.clearTimeout(i)));var V=Vl(),N=Be(V);let R;N.__mousemove=E,N.__mousedown=I,N.__mouseup=E,hn(Re(N),(()=>t.children??O)),Ce(N),Yn(N,(e=>ne(f,e)),(()=>Ct(f)));var B=Oe(N,2),D=e=>{Ll(e,{children:(e,t)=>{var i=Ml();let n;var a=Re(i),o=Re(a,!0);Ce(a);var r=Oe(a,2);Ce(i),Yn(i,(e=>ne(m,e)),(()=>Ct(m))),Bt((e=>{n=$n(i,1,"tooltip svelte-1jbbzcj",null,n,e),Cn(i,Ct(L)),Wi(o,s()),Cn(r,Ct(M))}),[()=>({active:l()})]),ji(e,i)},$$slots:{default:!0}})};Ji(B,(e=>{s()&&!r()&&e(D)})),Bt((e=>R=$n(N,1,"tooltip-wrapper svelte-1jbbzcj",null,R,e)),[()=>({"full-width":c()})]),Vi("mouseenter",N,E),Vi("mouseleave",N,I),ji(e,V),gi(),a()}Ni(["mousemove","mousedown","mouseup"]);var Bl=e=>{e.stopPropagation()},Ol=Di("<div><!></div>"),Dl={hash:"svelte-p9r045",code:".btn-container.svelte-p9r045 {position:relative;display:flex;align-items:center;height:100%;transition:var(--button-hover-transition);will-change:opacity;-webkit-tap-highlight-color:transparent;}.w-max.svelte-p9r045 {width:100%;min-width:0;}"};function zl(e,t){hi(t,!0),bn(e,Dl);let[i,n]=ca(),a=qa(),o=Ha(),r=a.ui.isMobile,s=o.graphIsOpened$,l=a.ui.t,d=ma(t,"className",3,""),u=ma(t,"disabled",3,!1),c=ma(t,"hasTooltip",3,!0),p=ma(t,"ref",15,void 0),v=ma(t,"width",15,void 0),h=ma(t,"isFullWidthTooltip",3,!0),f=ma(t,"tooltipContent",3,""),m=ma(t,"tooltipActive",3,!1),b=ma(t,"tooltipPlacement",3,"top"),y=ma(t,"disabledTooltipContent",19,(()=>l("tooltip_button_disabled"))),_=ma(t,"isAriaHidden",3,!1),w=ma(t,"onTooltipVisibilityChange",3,g.noop),x=ma(t,"initialTranslateXPx",3,0),k=ma(t,"initialTranslateYPx",19,(()=>-18)),$=ma(t,"mouseEnter",3,g.noop),S=ma(t,"mouseLeave",3,g.noop),C=re((()=>u()?ua(s,"$isGraphOpened$",i)?l("tooltip_disabled_when_graph_on"):y():f()));var A=Ol();A.__pointerdown=[Bl],A.__click=[Bl];var T=Re(A),P=e=>{Rl(e,{get content(){return Ct(C)},get translateX(){return x()},get translateY(){return k()},get isFullWidthWrapper(){return h()},get active(){return m()},get placement(){return b()},get onVisibilityChange(){return w()},children:(e,i)=>{var n=Hi();hn(Be(n),(()=>t.children??O)),ji(e,n)},$$slots:{default:!0}})},E=e=>{var i=Hi();hn(Be(i),(()=>t.children??O)),ji(e,i)};Ji(T,(e=>{c()&&Ct(C)&&!ua(r,"$isMobile",i)?e(P):e(E,!1)})),Ce(A),Yn(A,(e=>p(e)),(()=>p())),Bt((()=>{$n(A,1,`btn-container ${d()??""}`,"svelte-p9r045"),Ln(A,"aria-hidden",_()||null)})),Vi("mouseenter",A,(function(...e){$()?.apply(this,e)})),Vi("mouseleave",A,(function(...e){S()?.apply(this,e)})),Gn(A,"clientWidth",v),ji(e,A),gi(),n()}Ni(["pointerdown","click"]);var ql=zi('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><rect width="20" height="20" rx="10" fill="var(--btn-color, #fff)"></rect><path d="M12.5259 8.68864L12.587 8.87536L12.3702 8.23648C12.236 7.84095 11.8295 7.60563 11.4192 7.68593C10.9471 7.77831 10.6508 8.24892 10.7718 8.71381L10.8968 9.19361L10.6671 8.33855C10.5566 7.92714 10.1475 7.67011 9.72832 7.74872C9.32282 7.82476 9.04808 8.18606 9.06319 8.57993L8.34064 5.64592C8.21338 5.12912 7.64646 4.85578 7.1621 5.07767C6.79216 5.24715 6.59467 5.65495 6.69131 6.0498L7.98547 11.3373L6.87 10.178C6.52545 9.81987 5.94024 9.86103 5.64933 10.2638C5.44455 10.5474 5.44907 10.9312 5.66048 11.2098L7.89246 14.1518C7.89246 14.1518 9.12075 15.9833 12.1932 15.3769C14.6243 14.8972 15.4434 12.7097 14.7748 10.4997L14.2213 8.20869C14.0975 7.69621 13.5537 7.40646 13.0585 7.58916C12.614 7.75319 12.3788 8.23875 12.5259 8.68864Z"></path></svg>');function Hl(e,t){var i=ql(),n=Re(i),a=Oe(n);Ce(i),Bt((()=>{Ln(i,"data-testid",(t.completed,"interactive-episode-completed-icon")),Ln(n,"fill-opacity",t.completed?1:.24),Ln(a,"fill",t.completed?"var(--interactive-episode-complete)":"white")})),ji(e,i)}var jl=Di("<div><!></div>"),Fl={hash:"svelte-bklhpe",code:".interactive-episode-icon.svelte-bklhpe {width:20px;height:20px;position:absolute;transform:translateX(-50%);cursor:default;}.interactive-episode-icon.disabled.svelte-bklhpe {pointer-events:none;opacity:0.4;}"};var Ul=Di('<div><div class="video-episode-inner svelte-1u6kv8l"><div class="video-episode-loaded svelte-1u6kv8l"></div> <div></div></div></div>'),Wl=Di('<div class="video-episodes-wrap svelte-1u6kv8l"></div>'),Ql={hash:"svelte-1u6kv8l",code:".video-episodes-wrap.svelte-1u6kv8l {position:absolute;width:100%;height:100%;}.video-episode.svelte-1u6kv8l {position:absolute;height:calc(3 * var(--slider-height));box-sizing:border-box;margin-top:calc(-1 * var(--slider-height));padding:var(--slider-height) var(--slider-video-episode-gap);transition:transform 0.2s;}.video-episode.svelte-1u6kv8l:not(.disabled):where(:hover, :active) {transform:scaleY(1.5);}.video-episode-inner.svelte-1u6kv8l,\n  .video-episode-loaded.svelte-1u6kv8l,\n  .video-episode-filled.svelte-1u6kv8l {position:absolute;height:var(--slider-height);border-radius:var(--slider-radius);}.video-episode-inner.svelte-1u6kv8l {position:absolute;overflow:hidden;width:calc(100% - 2 * var(--slider-video-episode-gap));background:var(--slider-bg);}.video-episode-loaded.svelte-1u6kv8l {position:absolute;left:-100%;width:100%;height:100%;border-radius:var(--slider-radius);background:var(--slider-loaded-bg);transition:transform 0.2s;}.video-episode-filled.svelte-1u6kv8l {position:absolute;left:-100%;width:100%;height:100%;border-radius:var(--slider-radius);background-color:var(--slider-filled-bg);}"};function Kl(e,t,i,n,a,o,r){if(e.preventDefault(),t()&&ne(i,Pe(t().getBoundingClientRect())),n()||Ct(a)||!t())return;ne(a,!0);let s=o(e.clientX,e.clientY);r()(s),t().setPointerCapture(e.pointerId)}function Gl(e,t,i,n,a,o,r,s){if(e.preventDefault(),t())return;let l=i(e.clientX,e.clientY),d=n(e.clientX);a()(l,d,Ct(o).width),Ct(r)&&s()(l)}function Zl(e,t,i,n,a){if(e.preventDefault(),t()||!Ct(i))return;ne(i,!1);let o=n(e.clientX,e.clientY);a()(o)}function Yl(e,t,i,n){e.stopPropagation(),t()&&i()(n(e.clientX,e.clientY))}var Xl=Di("<div></div>"),Jl=Di('<div class="bars svelte-1tpemng"><div class="loaded svelte-1tpemng"></div> <div></div></div>'),ed=Di('<!> <div role="slider" tabindex="0"><!> <div><div></div></div></div>',1),td={hash:"svelte-1tpemng",code:".interactive-icons.svelte-1tpemng {position:absolute;width:calc(100% - 20px);top:-28px;}.interactive-icons.mobile.svelte-1tpemng {top:-10px;}.slider.svelte-1tpemng {position:relative;height:var(--slider-height);border-radius:var(--slider-radius);cursor:pointer;transition:visibility 0.2s, opacity 0.2s;will-change:opacity, transform;width:100%;touch-action:none;-webkit-tap-highlight-color:transparent;}.no-handle.svelte-1tpemng {cursor:default;}.slider.svelte-1tpemng:before {\n    /* hit area */content:'';position:absolute;left:0;right:0;top:calc(-1 * (var(--controls-height) / 2 - var(--slider-height)) / 2);height:calc(var(--controls-height) / 2);}.bars.svelte-1tpemng {position:absolute;width:100%;height:100%;border-radius:var(--slider-radius);overflow:hidden;background:var(--slider-bg);}.loaded.svelte-1tpemng {position:absolute;left:-100%;width:100%;height:100%;border-radius:var(--slider-radius);background:var(--slider-loaded-bg);transition:transform 0.2s;will-change:transform;}.filled.svelte-1tpemng {position:absolute;left:-100%;width:100%;height:100%;border-radius:var(--slider-radius);background-color:var(--slider-filled-bg);}.slider.square.svelte-1tpemng,\n  .slider.square.svelte-1tpemng > .bars:where(.svelte-1tpemng),\n  .slider.square.svelte-1tpemng .loaded:where(.svelte-1tpemng),\n  .slider.square.svelte-1tpemng .filled:where(.svelte-1tpemng) {border-radius:unset;}.filled.active-live.svelte-1tpemng {background-color:var(--timeline-slider-filled-active-live-bg);}.filled.ads.svelte-1tpemng {background-color:var(--slider-filled-ads);}.handleWrap.svelte-1tpemng {position:absolute;left:-100%;width:100%;}.handle.svelte-1tpemng {position:absolute;width:var(--slider-handle-size);height:var(--slider-handle-size);right:calc(-1 * var(--slider-handle-size) / 2);top:calc((var(--slider-height) - var(--slider-handle-size)) / 2);border-radius:50%;background-color:var(--slider-handle-bg);visibility:hidden;opacity:0;transform:scale(0);transition:opacity 0.2s, transform 0.2s, visibility 0.2s;will-change:opacity, transform;}.handle.active-live.svelte-1tpemng {background-color:var(--timeline-slider-handle-active-live-bg);}.slider.svelte-1tpemng:hover .handle:where(.svelte-1tpemng),\n  .slider-dragging.svelte-1tpemng .handle:where(.svelte-1tpemng) {visibility:visible;opacity:1;transform:scale(1);}.slider-dragging.svelte-1tpemng .handle:where(.svelte-1tpemng) {transform:scale(1.3);}.slider-vertical.svelte-1tpemng {position:absolute;left:-8px;top:-18px;transform-origin:0 0;transform:rotate(-90deg);}.slider.disabled.svelte-1tpemng {cursor:default;opacity:0.4;}"};function id(e,t){hi(t,!0),bn(e,td);let i=ma(t,"ref",15,void 0),n=ma(t,"className",3,""),a=ma(t,"testId",3,void 0),o=ma(t,"isHidden",3,!1),r=ma(t,"isVertical",3,!1),s=ma(t,"isActiveLive",3,!1),l=ma(t,"isMobile",3,!1),d=ma(t,"squareBorders",3,!1),u=ma(t,"videoEpisodes",19,(()=>[])),c=ma(t,"withWheelHandler",3,!1),p=ma(t,"isInteractive",3,!1),v=ma(t,"disabled",3,!1),h=ma(t,"hideHandel",3,!1),f=ma(t,"onPointerDown",3,g.noop),m=ma(t,"onHandleMove",3,g.noop),b=ma(t,"onPointerUp",3,g.noop),y=ma(t,"onPointerEnter",3,g.noop),_=ma(t,"onPointerMove",3,g.noop),w=ma(t,"onPointerLeave",3,g.noop),x=ma(t,"onWheelUp",3,g.noop),k=ma(t,"onWheelDown",3,g.noop),$=ma(t,"onWheelLeft",3,g.noop),S=ma(t,"onWheelRight",3,g.noop),C=ma(t,"onDisabledClick",3,g.noop),A=ma(t,"loadedProgress",3,0),T=ma(t,"filledProgress",3,0),P=ma(t,"handleProgress",3,0),E=ma(t,"ariaLabel",3,""),I=ma(t,"ariaValueMin",3,void 0),L=ma(t,"ariaValueMax",3,void 0),M=ma(t,"ariaValueNow",3,void 0),V=ma(t,"ariaValueText",3,""),N=wa(),R=te(void 0),B=te(!1),O=re((()=>L()??0)),D=re((()=>(0,g.isNonNullable)(u())&&u()[u().length-1]?.time<Ct(O))),z=re((()=>(0,g.isNonNullable)(u())&&u().length&&Ct(D)&&Ct(O)?function(e,t){let i=N.features.episodesClustering&&!p()?N.episodeMinWidthPc:0,n=[],a=u()[0].time/Ct(O)*100,o=0,r=0;for(let s=1;s<u().length;s++)o=u()[s].time/Ct(O)*100,o-a>i&&(n.push({from:a,width:Math.max(0,o-a),loadedWidth:Math.max(0,Math.min(o,e)-a),filledWidth:Math.max(0,Math.min(o,t)-a),interactive:u()[s-1].interactive,completed:u()[s-1].completed}),a=u()[s].time/Ct(O)*100,r++);let s={from:a,width:Math.max(0,100-a),loadedWidth:Math.max(0,Math.min(e,100)-a),filledWidth:Math.max(0,Math.min(t,100)-a),interactive:u()[r].interactive,completed:u()[r].completed};100-a<i?(r-=1,n[r].width+=100-a,n[r].loadedWidth+=Math.max(0,Math.min(e,100)-a),n[r].filledWidth+=Math.max(0,Math.min(t,100)-a)):n[r]=s;let l=u()[0].time;if(0!==l){let i=l/Ct(O)*100;n.unshift({from:0,width:i,loadedWidth:Math.min(i,e),filledWidth:Math.min(i,t)})}return n}(100*A(),100*T()):[]));function q(e,t){return r()?Math.max(0,Math.min(1,(Ct(R).height-(t-Ct(R).top))/Ct(R).height)):Math.min(Math.max(e-Ct(R).x,0),Ct(R).width)/Ct(R).width}function H(e){return Math.min(Math.max(e-Ct(R).x,0),Ct(R).width)}var j=ed(),F=Be(j),U=e=>{var t=Xl();let i;rn(t,21,(()=>Ct(z)),(e=>e.from),((e,t)=>{var i=Hi(),n=Be(i),a=e=>{!function(e,t){hi(t,!0),bn(e,Fl);let i=qa().ui.t,n=te(0),a=re((()=>i(t.videoEpisode.completed?"tooltip_episode_finished":"tooltip_episode_unfinished")));zl(e,{get tooltipContent(){return Ct(a)},initialTranslateXPx:-10,initialTranslateYPx:-10,get disabled(){return t.disabled},get width(){return Ct(n)},isAriaHidden:!0,isFullWidthTooltip:!1,children:(e,i)=>{var a=jl();let o;var r=Re(a);let s=re((()=>!!t.videoEpisode.completed));Hl(r,{get completed(){return Ct(s)}}),Ce(a),Bt((e=>{o=$n(a,1,"interactive-episode-icon svelte-bklhpe",null,o,e),Cn(a,`left: ${t.videoEpisode.from+t.videoEpisode.width/2}%`)}),[()=>({disabled:t.disabled})]),Gn(a,"clientWidth",(e=>ne(n,e))),ji(e,a)},$$slots:{default:!0}}),gi()}(e,{get videoEpisode(){return Ct(t)},get disabled(){return v()}})};Ji(n,(e=>{Ct(t).interactive&&e(a)})),ji(e,i)})),Ce(t),Bt((e=>i=$n(t,1,"interactive-icons svelte-1tpemng",null,i,e)),[()=>({mobile:l(),hidden:l()&&!Ct(B)})]),ji(e,t)};Ji(F,(e=>{p()&&e(U)}));var W=Oe(F,2);let Q;W.__pointerdown=[Kl,i,R,v,B,q,f],W.__pointermove=[Gl,v,q,H,_,R,B,m],W.__pointerup=[Zl,v,B,q,b],W.__click=[Yl,v,C,q];var K=Re(W),G=e=>{!function(e,t){bn(e,Ql);let i=ma(t,"videoEpisodes",19,(()=>[]));var n=Wl();rn(n,21,i,(e=>e.from),((e,i)=>{var n=Ul();let a;var o=Re(n),r=Re(o),s=Oe(r,2);let l;Ce(o),Ce(n),Bt(((e,t)=>{a=$n(n,1,"video-episode svelte-1u6kv8l",null,a,e),Cn(n,`left: ${Ct(i).from}%; width: ${Ct(i).width}%`),Cn(r,`transform: translateX(${Ct(i).loadedWidth/Ct(i).width*100}%)`),l=$n(s,1,"video-episode-filled svelte-1u6kv8l",null,l,t),Cn(s,`transform: translateX(${Ct(i).filledWidth/Ct(i).width*100}%)`)}),[()=>({disabled:t.disabled,mobile:t.isMobile}),()=>({mobile:t.isMobile})]),ji(e,n)})),Ce(n),ji(e,n)}(e,{get videoEpisodes(){return Ct(z)},get disabled(){return v()},get isMobile(){return l()}})},Z=e=>{var t=Jl(),i=Re(t),n=Oe(i,2);let a;Ce(t),Bt((e=>{Cn(i,`transform: translateX(${100*A()}%);`),a=$n(n,1,"filled svelte-1tpemng",null,a,e),Cn(n,`transform: translateX(${100*T()}%);`)}),[()=>({"active-live":s()})]),ji(e,t)};Ji(K,(e=>{Ct(z).length?e(G):e(Z,!1)}));var Y=Oe(K,2);let X;var J=Re(Y);let ee;Ce(Y),Ce(W),Yn(W,(e=>i(e)),(()=>i())),Bt(((e,t,i)=>{Q=$n(W,1,`slider ${n()??""}`,"svelte-1tpemng",Q,e),Ln(W,"aria-label",E()),Ln(W,"aria-valuemin",I()),Ln(W,"aria-valuemax",L()),Ln(W,"aria-valuenow",M()),Ln(W,"aria-valuetext",V()),Ln(W,"data-testid",a()??null),X=$n(Y,1,"handleWrap svelte-1tpemng",null,X,t),Cn(Y,`transform: translateX(${100*P()}%);`),ee=$n(J,1,"handle svelte-1tpemng",null,ee,i)}),[()=>({disabled:v(),"slider-dragging":Ct(B),hidden:o(),"slider-vertical":r(),"no-handle":h(),square:d()}),()=>({hidden:h()}),()=>({"active-live":s()})]),Vi("pointerenter",W,(function(e){if(e.preventDefault(),i()&&ne(R,Pe(i().getBoundingClientRect())),v())return;let t=q(e.clientX,e.clientY),n=H(e.clientX);y()(t,n,Ct(R).width)})),Vi("pointerleave",W,(function(e){e.preventDefault(),!v()&&w()()})),Vi("wheel",W,(function(e){v()||c()&&(e.preventDefault(),e.deltaY<0?x()():e.deltaY>0?k()():e.deltaX>0?S()():$()())})),ji(e,j),gi()}Ni(["pointerdown","pointermove","pointerup","click"]);var nd=(e,t)=>Na[e]>=Na[t],ad=(e,t)=>Na[e]<=Na[t],od=Di("<div><!></div>"),rd=Di("<div><!> <!></div>"),sd={hash:"svelte-1auih1j",code:".volumeBar-container.svelte-1auih1j {display:flex;align-items:center;}.volumeBar-container.vertical.svelte-1auih1j, .vertical.svelte-1auih1j .tooltip-wrapper, .vertical.svelte-1auih1j .btn {width:40px;}.volumeBar.svelte-1auih1j {display:flex;align-items:center;margin:0 8px;position:relative;width:70px;--slider-height: var(--slider-volume-height);--slider-radius: var(--slider-volume-radius);--slider-handle-size: var(--slider-volume-handle-size);--slider-bg: var(--volume-slider-bg);--slider-filled-bg: var(--volume-slider-filled-bg);--slider-handle-bg: var(--volume-slider-handle-bg);}.volumeBar-slider-vertical {width:50px !important;}.volumeBar-vertical.svelte-1auih1j {padding:0 8px 0 0;width:0;}"};function ld(e,t){hi(t,!0),bn(e,sd);let i,[n,a]=ca(),o=()=>ua(b,"$isAudioAvailable$",n),r=()=>ua(d,"$volume$",n),s=qa(),l=wa(),d=s.state.volume$,u=s.state.muted$,{setVolume:c,startVolumeChanging:p,stopVolumeChanging:v}=s.actions.internal,h=s.ui.currentGridType$,f=s.callbacks?.onAudioDoesNotExistHint,m=s.callbacks?.onAudioDisabledHint,b=s.state.isAudioAvailable$,y=s.state.isAudioDisabled,_=s.ui.t,w=te(!1),x=re((()=>!o()||ua(u,"$muted$",n)||0===r())),k=re((()=>ad(ua(h,"$currentGridType$",n),"s"))),$=re((()=>Ct(k)?"":Ct(x)?_("tooltip_volume"):_("tooltip_volume_muted"))),S=re((()=>Ct(x)?_("tooltip_volume"):_("tooltip_volume_muted"))),C=re((()=>Ct(x)?0:r())),A=!1,T=re((()=>o()?y&&!m:!f));function P(e){p(),c(e)}function E(){Ps(s,r(),l.controls.volumeStepWheel)}function I(){Es(s,r(),l.controls.volumeStepWheel)}function L(e){c(e)}function M(e){c(e),v()}function V(){A=!0}function N(){A=!1,O()}function R(){clearTimeout(i),ne(w,!0)}function B(){O()}function O(){i=window.setTimeout((()=>{A||ne(w,!1)}),l.controls.volumeBarTimeout)}var D=rd();let z;var q=Re(D);Rl(q,{get content(){return Ct($)},translateY:-18,children:(e,i)=>{let n=re((()=>Ct(k)?"btn-volume-vertical":"btn-volume-horizontal"));Hs(e,{className:"btn-full-opacity",get disabled(){return Ct(T)},get testId(){return Ct(n)},get ariaLabel(){return Ct(S)},get click(){return t.click},get ariaKeyShortCut(){return Ca},children:(e,t)=>{El(e,{get volume(){return r()},get muted(){return Ct(x)}})},$$slots:{default:!0}})},$$slots:{default:!0}});var H=Oe(q,2),j=e=>{var t=od();let i;var n=Re(t);let a=re((()=>Ct(k)?"volumeBar-slider-vertical":"")),o=re((()=>Ct(k)&&!Ct(w))),r=re((()=>Ct(k)?V:g.noop)),s=re((()=>Ct(k)?N:g.noop)),l=re((()=>Math.round(100*Ct(C)))),d=re((()=>`${Math.round(100*Ct(C))}%`)),u=re((()=>Ct(k)?"volume-slider-vertical":"volume-slider"));id(n,{get className(){return Ct(a)},get isHidden(){return Ct(o)},get isVertical(){return Ct(k)},withWheelHandler:!0,onWheelUp:E,onWheelDown:I,onPointerDown:P,onHandleMove:L,onPointerUp:M,get onPointerEnter(){return Ct(r)},get onPointerLeave(){return Ct(s)},ariaLabel:"Ползунок громкости",ariaValueMin:0,ariaValueMax:100,get ariaValueNow(){return Ct(l)},get ariaValueText(){return Ct(d)},get filledProgress(){return Ct(C)},get handleProgress(){return Ct(C)},get testId(){return Ct(u)}}),Ce(t),Bt((e=>i=$n(t,1,"volumeBar svelte-1auih1j",null,i,e)),[()=>({"volumeBar-vertical":Ct(k)})]),ji(e,t)};Ji(H,(e=>{o()&&e(j)})),Ce(D),Bt((e=>z=$n(D,1,"volumeBar-container svelte-1auih1j",null,z,e)),[()=>({vertical:Ct(k)})]),Vi("mouseenter",D,(function(...e){(Ct(k)?R:g.noop)?.apply(this,e)})),Vi("mouseleave",D,(function(...e){(Ct(k)?B:g.noop)?.apply(this,e)})),Vi("wheel",D,(function(e){e.preventDefault(),e.deltaY<0?E():e.deltaY>0&&I()})),ji(e,D),gi(),a()}var dd=zi('<svg><!><g fill-rule="evenodd"><path d="M4.58 13.979a.99.99 0 0 1 .99-.99h4.451a.99.99 0 0 1 .99.99v4.452a.99.99 0 0 1-1.98 0v-2.05l-3.319 3.322a1 1 0 0 1-1.414 0v-.001a1 1 0 0 1 0-1.414l3.32-3.32H5.57a.99.99 0 0 1-.99-.99m10.388-6.36 3.32-3.322a1 1 0 0 1 1.414 0v.001a1 1 0 0 1 0 1.414l-3.32 3.32h2.049a.99.99 0 0 1 0 1.979h-4.442a1 1 0 0 1-1-1V5.569a.99.99 0 1 1 1.98 0z" class="_exit"></path><path d="M10.5 19a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-4.5a1 1 0 0 1 2 0v2.072l3.363-3.365a1 1 0 0 1 1.414 0l.016.016a1 1 0 0 1 0 1.414L7.429 18H9.5a1 1 0 0 1 1 1M18 7.429l-3.363 3.364a1 1 0 0 1-1.414 0l-.016-.016a1 1 0 0 1 0-1.414L16.571 6H14.5a1 1 0 0 1 0-2H19a1 1 0 0 1 1 1v4.5a1 1 0 0 1-2 0z" class="_enter"></path></g></svg>');var ud={hash:"svelte-17t966y",code:'svg[data-testid="close-fullscreen-icon"] ._enter,\n  svg[data-testid="open-fullscreen-icon"] ._exit {visibility:hidden;opacity:0;}'};function cd(e,t){bn(e,ud);let i=ma(t,"isFullscreen",8,!1),n=se((()=>i()?"close-fullscreen-icon":"open-fullscreen-icon"));!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=dd();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"var(--btn-color, #fff)","aria-hidden":"true",role:"img",...i}))),ji(e,n)}(e,{get"data-testid"(){return Ct(n)},fill:"var(--btn-color, #fff)"})}function pd(e,t){hi(t,!0);let i=ma(t,"isFullscreen",3,!1),n=ma(t,"click",3,g.noop),a=qa(),o=a.ui.isFullscreenOpenedByKeyboard,r=a.ui.t,s=re((()=>i()?r("tooltip_fullscreen_on"):r("tooltip_fullscreen_off")));Hs(e,{testId:"btn-fullscreen",get ariaLabel(){return Ct(s)},click:e=>{let t=xr(e);o.set(t),n()()},get ariaKeyShortCut(){return ka},children:(e,t)=>{cd(e,{get isFullscreen(){return i()}})},$$slots:{default:!0}}),gi()}var vd=zi('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M4.265 4.265C3 5.531 3 7.567 3 11.64v.72c0 4.073 0 6.11 1.265 7.375C5.531 21 7.567 21 11.64 21h.72c4.073 0 6.11 0 7.375-1.265C21 18.469 21 16.433 21 12.36v-.72c0-4.073 0-6.11-1.265-7.375C18.469 3 16.433 3 12.36 3h-.72C7.567 3 5.53 3 4.265 4.265M6 8.5c.096 4.682 2.556 7.5 6.61 7.5h.235v-2.679c1.476.15 2.577 1.254 3.026 2.679H18c-.578-2.132-2.075-3.31-3.005-3.76.93-.558 2.246-1.908 2.556-3.74h-1.937c-.406 1.49-1.615 2.84-2.77 2.968V8.5h-1.968v5.197c-1.197-.3-2.759-1.757-2.823-5.197z" clip-rule="evenodd"></path></svg>');var hd=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M32.55 17.042h2.494L38.707 7h-1.81l-2.936 8.276h-.286L30.84 7H29zM48.075 17.042l-4.619-5.199L47.718 7h-2.11l-3.563 4.088h-.413V7h-1.71v10.042h1.71V12.74h.427l3.764 4.302z"></path><path fill="var(--btn-color, #fff)" d="M57.888 11.886c.883-.342 1.44-1.125 1.44-2.151C59.327 8.14 58.001 7 56.062 7h-3.92v10.042h4.205c1.953 0 3.279-1.14 3.279-2.806 0-1.168-.656-2.037-1.74-2.35m-4.034-3.39h2.21c.911 0 1.539.555 1.539 1.381 0 .812-.628 1.368-1.54 1.368h-2.21zm2.494 7.05h-2.494V12.74h2.494c.898 0 1.525.57 1.525 1.396 0 .84-.627 1.41-1.525 1.41M61.188 17.042h2.323l2.766-5.498h.228v5.498h1.568V9.635h-2.324l-2.765 5.498h-.228V9.635h-1.568zM69.146 19.25h1.64v-2.208h5.33v2.208h1.64v-3.703h-1.283V9.635h-5.431l-.37 3.79c-.13 1.338-.528 2.121-1.34 2.121h-.186zm2.494-3.703c.4-.385.57-1.04.685-2.151l.228-2.265h2.28v4.416zM86.025 13.253c0-2.136-1.597-3.76-3.849-3.76s-3.848 1.61-3.848 3.846 1.596 3.846 3.848 3.846c1.54 0 2.994-.727 3.55-2.137l-1.54-.256c-.356.527-1.04.897-1.91.897-1.254 0-2.081-.77-2.238-1.909h5.958c.015-.156.029-.327.029-.527m-3.849-2.336c1.027 0 1.796.655 2.067 1.581h-4.105c.27-.954 1.04-1.58 2.038-1.58M90.837 17.185c2.324 0 3.963-1.596 3.963-3.846s-1.64-3.846-3.963-3.846-3.962 1.595-3.962 3.846c0 2.25 1.639 3.846 3.962 3.846m0-1.496c-1.34 0-2.252-.954-2.252-2.35s.912-2.35 2.252-2.35 2.252.954 2.252 2.35-.912 2.35-2.252 2.35" class="_ru"></path><path fill="var(--btn-color, #fff)" d="M35.02 17.36h-2.484L29 7.422h1.832l2.826 8.188h.284l2.925-8.188h1.803zM43.43 12.215l4.6 5.144h-2.243l-3.749-4.256h-.426v4.256h-1.704V7.423h1.704v4.045h.412l3.55-4.045h2.101zM56.808 17.36h-2.485l-3.536-9.937h1.832l2.826 8.188h.284l2.925-8.188h1.803zM63.257 17.36h-1.633v-7.33h1.633zm-.809-8.373q-.455 0-.738-.268a.97.97 0 0 1-.284-.718.97.97 0 0 1 .284-.72q.297-.28.738-.281.44 0 .724.282a.97.97 0 0 1 .284.719.97.97 0 0 1-.284.718q-.284.268-.724.268M68.382 17.5q-1.037 0-1.86-.48a3.5 3.5 0 0 1-1.293-1.352q-.454-.874-.454-1.973t.454-1.96a3.37 3.37 0 0 1 1.293-1.352 3.55 3.55 0 0 1 1.86-.494q.894 0 1.59.367.696.352 1.136.888V7.423h1.633v9.936h-1.22l-.342-1.184a4 4 0 0 1-1.164.944q-.71.381-1.633.381m.397-1.452q1.038 0 1.676-.648.654-.663.653-1.705 0-1.044-.653-1.692-.639-.662-1.675-.662-1.023 0-1.662.662-.639.649-.639 1.692t.64 1.705q.638.648 1.66.648M81.929 13.61q0 .211-.029.522h-5.935q.113.86.71 1.38.597.508 1.52.508.624 0 1.121-.24.51-.24.781-.648l1.534.254a3 3 0 0 1-1.378 1.564q-.965.55-2.158.55-1.108 0-1.988-.48a3.6 3.6 0 0 1-1.363-1.352q-.483-.874-.483-1.973t.483-1.96a3.5 3.5 0 0 1 1.363-1.352q.88-.495 1.988-.494 1.107 0 1.974.494.88.478 1.363 1.339.497.845.497 1.888M78.095 11.3q-.738 0-1.292.423-.54.422-.739 1.141h4.09a2.17 2.17 0 0 0-.767-1.127q-.54-.437-1.292-.437M86.751 17.5q-1.136 0-2.044-.48a3.66 3.66 0 0 1-1.406-1.352q-.497-.874-.497-1.973t.497-1.96q.511-.873 1.406-1.352.909-.495 2.044-.494 1.137 0 2.031.494a3.4 3.4 0 0 1 1.406 1.353q.51.86.511 1.959 0 1.098-.511 1.973a3.53 3.53 0 0 1-1.406 1.353q-.894.48-2.03.479m0-1.48q.995 0 1.62-.634.624-.648.624-1.691t-.625-1.678q-.624-.648-1.619-.648-.993 0-1.618.648-.625.634-.625 1.678 0 1.043.625 1.69.625.636 1.618.635" class="_en"></path><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M7 8.6c0-1.96 0-2.94.381-3.689a3.5 3.5 0 0 1 1.53-1.53C9.66 3 10.64 3 12.6 3h1.36c2.464 0 3.696 0 4.638.48a4.4 4.4 0 0 1 1.922 1.922c.48.942.48 2.174.48 4.638v3.92c0 2.464 0 3.696-.48 4.638a4.4 4.4 0 0 1-1.922 1.922c-.942.48-2.174.48-4.638.48H12.6c-1.96 0-2.94 0-3.689-.381a3.5 3.5 0 0 1-1.53-1.53C7 18.34 7 17.36 7 15.4zm9.265 1.744c.901.539 1.352.808 1.505 1.157.133.304.133.65 0 .954-.153.349-.604.618-1.505 1.157l-2.386 1.425c-.943.563-1.414.844-1.802.807a1.2 1.2 0 0 1-.847-.48C11 15.05 11 14.5 11 13.403v-2.85c0-1.098 0-1.647.23-1.96.201-.274.51-.45.847-.481.388-.037.86.244 1.802.807zM5 9.04c0-2.464 0-3.696.48-4.638a4.4 4.4 0 0 1 .955-1.253 3.7 3.7 0 0 0-1.033.33A4.4 4.4 0 0 0 3.48 5.403C3 6.344 3 7.576 3 10.04v3.92c0 2.464 0 3.696.48 4.638a4.4 4.4 0 0 0 1.922 1.922c.304.155.637.26 1.033.33a4.4 4.4 0 0 1-.955-1.252C5 18.656 5 17.424 5 14.96z" clip-rule="evenodd"></path></svg>');var gd={hash:"svelte-1nhjml",code:'svg[data-testid="vk-video-logo-icon--short"] ._ru,\n  svg[data-testid="vk-video-logo-icon--short"] ._en,\n  svg[data-testid="vk-video-logo-icon"] ._en,\n  svg[data-testid="vk-video-logo-icon--en"] ._ru {visibility:hidden;opacity:0;}'};function fd(e,t){bn(e,gd);let i=ma(t,"short",3,!1),n=ma(t,"isCyrillic",3,!0),a=re((()=>n()||i()?i()?21:95:91)),o=re((()=>n()||i()?i()?"vk-video-logo-icon--short":"vk-video-logo-icon":"vk-video-logo-icon--en")),r=re((()=>`0 0 ${Ct(a)+1} 24`));!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=hd();let a;hn(Re(n),(()=>t.children??O)),Ae(4),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"95",height:"24",fill:"none","aria-hidden":"true",role:"img",...i}))),ji(e,n)}(e,{get width(){return Ct(a)},height:"24",get viewBox(){return Ct(r)},get"data-testid"(){return Ct(o)}})}function md(e,t){hi(t,!0);let[i,n]=ca(),a=ma(t,"ref",15,void 0),o=ma(t,"logoClickable",3,!1),r=ma(t,"targetUrl",3,""),s=wa(),l=qa(),d=l.ui.currentGridType$,u=l.ui.isMobile,c=l.ui.t,p=l.isCyrillicRelatedInterface$,v=re((()=>"vk_video"===s.logoType?c("tooltip_vk_video_logo"):c("tooltip_vk_logo"))),h=re((()=>"vk_video"===s.logoType||"vk_video_mobile"===s.logoType)),g=re((()=>(ua(u,"$isMobile",i)||ad(ua(d,"$currentGridType$",i),"l"))&&Ct(h))),f=re((()=>!o())),m=re((()=>Ct(h)?"btn-vk-video-logo":"btn-vk-logo"));Hs(e,{className:"btn-full-opacity",get disabled(){return Ct(f)},click:()=>{t.click(),l.callbacks?.onLogoClicked?l.callbacks?.onLogoClicked():r()&&window.open(r(),"_blank")},get testId(){return Ct(m)},get ariaLabel(){return Ct(v)},get ref(){return a()},set ref(e){a(e)},children:(e,t)=>{var n=Hi(),a=Be(n),o=e=>{fd(e,{get short(){return Ct(g)},get isCyrillic(){return ua(p,"$isCyrillicRelatedInterface$",i)}})},r=e=>{!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=vd();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true","data-testid":"vk-logo-icon",role:"img",...i}))),ji(e,n)}(e,{})};Ji(a,(e=>{Ct(h)?e(o):e(r,!1)})),ji(e,n)},$$slots:{default:!0}}),gi(),n()}var bd=zi('<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-testid="chromecast-mobile-icon" class="svelte-8z1bf5"><g filter="url(#b)" clip-path="url(#a)" class="svelte-8z1bf5"><mask id="c" maskUnits="userSpaceOnUse" x="1.1" y="3.1" width="22" height="18" fill="#000" class="svelte-8z1bf5"><path d="M1.1 3.1h22v18h-22z" class="svelte-8z1bf5"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M16.2 5.9c.855 0 1.442 0 1.897.038.445.036.683.103.856.19a2.1 2.1 0 0 1 .918.919c.088.172.155.411.191.856.037.455.038 1.042.038 1.897v4.4c0 .855 0 1.442-.038 1.897-.036.445-.103.683-.19.856a2.1 2.1 0 0 1-.919.918c-.172.088-.411.155-.856.191-.455.037-1.042.038-1.897.038H15a.9.9 0 0 0 0 1.8h1.238c.808 0 1.469 0 2.006-.044.556-.045 1.058-.142 1.527-.381a3.9 3.9 0 0 0 1.704-1.704c.239-.47.336-.971.381-1.527.044-.537.044-1.198.044-2.006V9.762c0-.808 0-1.469-.044-2.006-.045-.556-.142-1.058-.381-1.527a3.9 3.9 0 0 0-1.704-1.704c-.47-.239-.971-.336-1.527-.381-.537-.044-1.198-.044-2.006-.044H6a3.901 3.901 0 0 0-3.678 2.6.9.9 0 0 0 1.697.6A2.101 2.101 0 0 1 6 5.9h10.2ZM3.069 11.52a6.9 6.9 0 0 1 7.413 7.413.9.9 0 0 0 1.795.137 8.7 8.7 0 0 0-9.344-9.344.9.9 0 0 0 .136 1.794Zm.533 3.58c-.161 0-.32.011-.474.034a.9.9 0 1 1-.256-1.782A5.1 5.1 0 0 1 8.65 19.13a.9.9 0 1 1-1.782-.256A3.3 3.3 0 0 0 3.602 15.1Zm-1.5 3.3a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z" class="svelte-8z1bf5"></path></mask><path fill-rule="evenodd" clip-rule="evenodd" d="M16.2 5.9c.855 0 1.442 0 1.897.038.445.036.683.103.856.19a2.1 2.1 0 0 1 .918.919c.088.172.155.411.191.856.037.455.038 1.042.038 1.897v4.4c0 .855 0 1.442-.038 1.897-.036.445-.103.683-.19.856a2.1 2.1 0 0 1-.919.918c-.172.088-.411.155-.856.191-.455.037-1.042.038-1.897.038H15a.9.9 0 0 0 0 1.8h1.238c.808 0 1.469 0 2.006-.044.556-.045 1.058-.142 1.527-.381a3.9 3.9 0 0 0 1.704-1.704c.239-.47.336-.971.381-1.527.044-.537.044-1.198.044-2.006V9.762c0-.808 0-1.469-.044-2.006-.045-.556-.142-1.058-.381-1.527a3.9 3.9 0 0 0-1.704-1.704c-.47-.239-.971-.336-1.527-.381-.537-.044-1.198-.044-2.006-.044H6a3.901 3.901 0 0 0-3.678 2.6.9.9 0 0 0 1.697.6A2.101 2.101 0 0 1 6 5.9h10.2ZM3.069 11.52a6.9 6.9 0 0 1 7.413 7.413.9.9 0 0 0 1.795.137 8.7 8.7 0 0 0-9.344-9.344.9.9 0 0 0 .136 1.794Zm.533 3.58c-.161 0-.32.011-.474.034a.9.9 0 1 1-.256-1.782A5.1 5.1 0 0 1 8.65 19.13a.9.9 0 1 1-1.782-.256A3.3 3.3 0 0 0 3.602 15.1Zm-1.5 3.3a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z" class="svelte-8z1bf5"></path><path d="m18.097 5.938-.04.498.04-.498Zm.856.19-.227.446.227-.445Zm.918.919-.445.227.445-.227Zm.191.856-.498.04.498-.04Zm0 8.194-.498-.04.498.04Zm-.19.856-.446-.227.445.227Zm-.919.918-.227-.445.227.445Zm-.856.191.04.498-.04-.498Zm-1.86 1.838v-.5.5Zm2.007-.044.04.498-.04-.498Zm1.527-.381-.227-.446.227.446Zm1.704-1.704.445.227-.445-.227Zm.381-1.527.498.04-.498-.04Zm.044-2.006h-.5.5Zm0-4.476h-.5.5Zm-.044-2.006.498-.04-.498.04Zm-.381-1.527.445-.227-.445.227ZM19.77 4.525l-.227.446.227-.446Zm-1.527-.381.04-.498-.04.498ZM16.238 4.1v.5-.5ZM6 4.1v-.5.5ZM2.322 6.7l-.471-.167.471.167Zm1.697.6-.471-.167.471.167ZM6 5.9v-.5.5Zm-2.931 5.62-.038-.498.038.498Zm7.413 7.413.498.038-.498-.038Zm1.795.137.498.038-.498-.038ZM2.931 9.725l-.038-.498.038.498Zm-.829.966.499-.038-.499.038Zm1.025 4.443-.071-.495.071.495Zm-1.019-.763.495-.071-.495.07Zm.763-1.02.071.496-.07-.495ZM8.65 19.13l.495.072-.495-.072Zm-1.019.764-.07.494.07-.494Zm-.763-1.02.495.072-.495-.071ZM18.138 5.44c-.48-.04-1.091-.04-1.938-.04v1c.863 0 1.426.001 1.856.036l.082-.996Zm1.042.243c-.255-.13-.567-.205-1.042-.243l-.082.996c.414.034.58.092.67.138l.454-.89Zm1.137 1.137a2.6 2.6 0 0 0-1.137-1.137l-.454.891a1.6 1.6 0 0 1 .7.7l.89-.454Zm.244 1.042c-.04-.475-.114-.787-.244-1.042l-.891.454c.046.09.104.256.138.67l.997-.082ZM20.6 9.8c0-.846 0-1.458-.04-1.938l-.996.082c.035.43.036.993.036 1.856h1Zm0 4.4V9.8h-1v4.4h1Zm-.04 1.938c.04-.48.04-1.092.04-1.938h-1c0 .863-.001 1.426-.036 1.856l.997.082Zm-.243 1.042c.13-.255.205-.567.244-1.042l-.997-.082c-.034.414-.092.58-.138.67l.89.454Zm-1.137 1.137a2.6 2.6 0 0 0 1.137-1.137l-.891-.454a1.6 1.6 0 0 1-.7.7l.454.89Zm-1.042.244c.475-.04.787-.114 1.042-.244l-.454-.891c-.09.046-.256.104-.67.138l.082.997ZM16.2 18.6c.847 0 1.458 0 1.938-.04l-.082-.996c-.43.035-.993.036-1.856.036v1Zm-1.2 0h1.2v-1H15v1Zm-.4.4c0-.22.18-.4.4-.4v-1a1.4 1.4 0 0 0-1.4 1.4h1Zm.4.4a.4.4 0 0 1-.4-.4h-1a1.4 1.4 0 0 0 1.4 1.4v-1Zm1.238 0H15v1h1.238v-1Zm1.965-.042c-.512.042-1.15.042-1.965.042v1c.8 0 1.484 0 2.046-.045l-.081-.997Zm1.34-.329c-.386.198-.815.286-1.34.329l.081.997c.587-.049 1.163-.154 1.714-.435l-.454-.89Zm1.486-1.485a3.4 3.4 0 0 1-1.485 1.485l.454.891a4.4 4.4 0 0 0 1.922-1.922l-.89-.454Zm.329-1.341c-.043.525-.131.954-.329 1.34l.891.455c.281-.552.386-1.127.434-1.714l-.996-.081Zm.042-1.965c0 .815 0 1.453-.042 1.965l.997.081c.045-.561.045-1.246.045-2.046h-1Zm0 0h1-1Zm0-4.476v4.476h1V9.762h-1Zm0 0h1-1Zm-.042-1.965c.042.512.042 1.15.042 1.965h1c0-.8 0-1.484-.045-2.046l-.997.081Zm-.329-1.34c.198.386.286.815.329 1.34l.997-.081c-.049-.587-.154-1.162-.435-1.714l-.89.454ZM19.544 4.97a3.4 3.4 0 0 1 1.485 1.485l.891-.454a4.4 4.4 0 0 0-1.922-1.922l-.454.89Zm-1.341-.329c.525.043.954.132 1.34.329l.455-.891c-.552-.281-1.127-.387-1.714-.434l-.081.996ZM16.238 4.6c.815 0 1.453 0 1.965.042l.081-.996c-.562-.046-1.246-.046-2.046-.046v1Zm0 0v-1 1ZM6 4.6h10.238v-1H6v1Zm0-1v1-1Zm0 0a4.401 4.401 0 0 0-4.15 2.933l.944.334A3.401 3.401 0 0 1 6 4.6v-1ZM1.85 6.533a1.4 1.4 0 0 0 .854 1.787l.333-.943a.4.4 0 0 1-.243-.51l-.943-.334Zm.854 1.787a1.4 1.4 0 0 0 1.787-.853l-.943-.334a.4.4 0 0 1-.51.244l-.334.943Zm1.787-.853A1.601 1.601 0 0 1 6 6.4v-1c-1.131 0-2.095.722-2.452 1.733l.943.334ZM16.2 5.4H6v1h10.2v-1ZM3.602 11c-.192 0-.383.007-.571.022l.076.997A6.53 6.53 0 0 1 3.602 12v-1Zm7.4 7.4a7.4 7.4 0 0 0-7.4-7.4v1a6.4 6.4 0 0 1 6.4 6.4h1Zm-.022.571c.015-.188.022-.379.022-.571h-1c0 .167-.006.332-.019.495l.997.076Zm.369.43a.4.4 0 0 1-.369-.43l-.997-.076a1.4 1.4 0 0 0 1.29 1.502l.076-.997Zm.429-.37a.4.4 0 0 1-.43.37l-.075.996a1.4 1.4 0 0 0 1.502-1.29l-.997-.075Zm.024-.631c0 .213-.008.423-.024.632l.997.076c.018-.234.027-.47.027-.708h-1Zm-8.2-8.2a8.2 8.2 0 0 1 8.2 8.2h1a9.2 9.2 0 0 0-9.2-9.2v1Zm-.632.024c.209-.016.42-.024.632-.024v-1c-.238 0-.474.01-.708.027l.076.997Zm-.368.43a.4.4 0 0 1 .368-.43l-.076-.997a1.4 1.4 0 0 0-1.29 1.502l.998-.076Zm.429.368a.4.4 0 0 1-.43-.369l-.996.076a1.4 1.4 0 0 0 1.502 1.29l-.076-.997Zm.168 4.607c.13-.02.265-.029.403-.029v-1c-.185 0-.367.013-.545.039l.142.99Zm-1.585-1.187A1.4 1.4 0 0 0 3.2 15.629l-.142-.99a.4.4 0 0 1-.453-.34l-.99.143Zm1.187-1.585a1.4 1.4 0 0 0-1.187 1.585l.99-.142a.4.4 0 0 1 .34-.453l-.143-.99Zm.801-.057c-.271 0-.538.02-.8.057l.141.99c.216-.031.436-.047.659-.047v-1Zm5.6 5.6a5.6 5.6 0 0 0-5.6-5.6v1a4.6 4.6 0 0 1 4.6 4.6h1Zm-.057.8c.038-.262.057-.529.057-.8h-1c0 .223-.016.443-.047.659l.99.142ZM7.56 20.389A1.4 1.4 0 0 0 9.145 19.2l-.99-.142a.4.4 0 0 1-.453.34l-.142.99Zm-1.187-1.585a1.4 1.4 0 0 0 1.187 1.584l.142-.99a.4.4 0 0 1-.339-.452l-.99-.142Zm.029-.403c0 .138-.01.272-.029.403l.99.142c.026-.178.039-.36.039-.545h-1Zm-2.8-2.8a2.8 2.8 0 0 1 2.8 2.8h1a3.8 3.8 0 0 0-3.8-3.8v1Zm0 .8a2 2 0 0 0-2 2h1a1 1 0 0 1 1-1v-1Zm2 2a2 2 0 0 0-2-2v1a1 1 0 0 1 1 1h1Zm-2 2a2 2 0 0 0 2-2h-1a1 1 0 0 1-1 1v1Zm-2-2a2 2 0 0 0 2 2v-1a1 1 0 0 1-1-1h-1Z" fill="#000" fill-opacity=".12" mask="url(#c)" class="svelte-8z1bf5"></path></g><defs class="svelte-8z1bf5"><clipPath id="a" class="svelte-8z1bf5"><path d="M0 0h24v24H0z" class="svelte-8z1bf5"></path></clipPath><filter id="b" x="-3.4" y="-1.4" width="30.8" height="26.802" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB" class="svelte-8z1bf5"><feFlood flood-opacity="0" result="BackgroundImageFix" class="svelte-8z1bf5"></feFlood><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" class="svelte-8z1bf5"></feColorMatrix><feOffset class="svelte-8z1bf5"></feOffset><feGaussianBlur stdDeviation="2.5" class="svelte-8z1bf5"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0" class="svelte-8z1bf5"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_4085_178456" class="svelte-8z1bf5"></feBlend><feBlend in="SourceGraphic" in2="effect1_dropShadow_4085_178456" result="shape" class="svelte-8z1bf5"></feBlend></filter></defs></svg>'),yd=zi('<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-testid="chromecast-icon"><g fill="none" fill-rule="evenodd" class="svelte-8z1bf5"><path class="wave wave1 svelte-8z1bf5" d="M1 18v3h3c0-1.66-1.34-3-3-3z" fill="var(--btn-color, #fff)"></path><path class="wave wave2 svelte-8z1bf5" d="M1 14v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7z" fill="var(--btn-color, #fff)"></path><path class="wave wave3 svelte-8z1bf5" d="M1 10v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11z" fill="var(--btn-color, #fff)"></path><path d="M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="var(--btn-color, #fff)" class="svelte-8z1bf5"></path><path d="M0 0h24v24H0z" class="svelte-8z1bf5"></path><path d="M5.667 7.44H18.5v9.167h-5.161a11.947 11.947 0 0 0-7.673-7.672V7.44Z" fill="var(--btn-color, #fff)"></path></g></svg>'),_d={hash:"svelte-8z1bf5",code:".connecting.svelte-8z1bf5 .wave:where(.svelte-8z1bf5) {animation-duration:1s;animation-iteration-count:infinite;}.connecting.svelte-8z1bf5 .wave1:where(.svelte-8z1bf5) {\n    animation-name: svelte-8z1bf5-wave1;}.connecting.svelte-8z1bf5 .wave2:where(.svelte-8z1bf5) {\n    animation-name: svelte-8z1bf5-wave2;}.connecting.svelte-8z1bf5 .wave3:where(.svelte-8z1bf5) {\n    animation-name: svelte-8z1bf5-wave3;}\n\n  @keyframes svelte-8z1bf5-wave1 {\n    0% {\n      opacity: 0.3;\n    }\n    33% {\n      opacity: 1;\n    }\n    66% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  @keyframes svelte-8z1bf5-wave2 {\n    0% {\n      opacity: 0.3;\n    }\n    33% {\n      opacity: 0.3;\n    }\n    66% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  @keyframes svelte-8z1bf5-wave3 {\n    0% {\n      opacity: 0.3;\n    }\n    33% {\n      opacity: 0.3;\n    }\n    66% {\n      opacity: 0.3;\n    }\n    100% {\n      opacity: 1;\n    }\n  }"};function wd(e,t){hi(t,!0);let i=ma(t,"ref",15,void 0),n=ma(t,"isMobile",3,!1),a=ma(t,"click",3,g.noop),o=qa().ui.t,r=re((()=>t.state===h.ChromecastState.CONNECTED?o("tooltip_chromecast_on"):o("tooltip_chromecast_off")));Hs(e,{get ariaLabel(){return Ct(r)},get click(){return a()},testId:"btn-chromecast",get ref(){return i()},set ref(e){i(e)},children:(e,i)=>{!function(e,t){hi(t,!0),bn(e,_d);let i=ma(t,"isMobile",3,!1),n=re((()=>t.iconState===h.ChromecastState.CONNECTED)),a=re((()=>t.iconState===h.ChromecastState.CONNECTING));var o=Hi(),r=Be(o),s=e=>{var t=bd(),i=Re(t),a=Re(i),o=Re(a);Ae(),Ce(a);var r=Oe(a);Ae(),Ce(i);var s=Oe(i),l=Re(s),d=Re(l);Ce(l),Ae(),Ce(s),Ce(t),Bt((()=>{Ln(o,"fill",Ct(n)?"#2688EB":"var(--btn-color, #fff)"),Ln(r,"fill",Ct(n)?"#2688EB":"var(--btn-color, #fff)"),Ln(d,"fill",Ct(n)?"#2688EB":"var(--btn-color, #fff)")})),ji(e,t)},l=e=>{var t=yd();let i;var o=Re(t),r=Oe(Re(o),5);let s;Ce(o),Ce(t),Bt(((e,n)=>{i=$n(t,0,"svelte-8z1bf5",null,i,e),s=$n(r,0,"svelte-8z1bf5",null,s,n)}),[()=>({connecting:Ct(a)}),()=>({hidden:!Ct(n)})]),ji(e,t)};Ji(r,(e=>{i()?e(s):e(l,!1)})),ji(e,o),gi()}(e,{get isMobile(){return n()},get iconState(){return t.state}})},$$slots:{default:!0}}),gi()}var xd=Di('<div class="tooltip-wrapper svelte-5ygsa2"><div><!></div></div>'),kd={hash:"svelte-5ygsa2",code:'.tooltip-wrapper.svelte-5ygsa2 {position:relative;display:block;}.tooltip.svelte-5ygsa2 {position:absolute;opacity:0;visibility:hidden;transition:opacity 200ms, visibility 200ms;bottom:100%;transform:translateX(-50%);}.pointer.svelte-5ygsa2:after {position:absolute;bottom:0;left:50%;width:0;border-top:5px solid rgba(41, 41, 41, .8);border-right:5px solid transparent;border-left:5px solid transparent;content:" ";font-size:0;line-height:0;transform:translate(-50%, 5px);}.tooltip.active.svelte-5ygsa2 {opacity:1;visibility:visible;}'};function $d(e,t){bn(e,kd);let i=ma(t,"active",3,!1),n=ma(t,"pointer",3,!1),a=ma(t,"translateXPx",3,0),o=ma(t,"translateYPx",3,0),r=te(void 0),s=te(void 0);let l=re((()=>function(e){if(!Ct(s))return 0;let{width:i}=Ct(s).getBoundingClientRect(),n=i/2;return e<n?n:e>t.containerWidth-n?t.containerWidth-n:e}(a())));var d=xd(),u=Re(d);let c;hn(Re(u),(()=>t.children??O)),Ce(u),Yn(u,(e=>ne(s,e)),(()=>Ct(s))),Ce(d),Yn(d,(e=>ne(r,e)),(()=>Ct(r))),Bt((e=>{Cn(d,`transform: translate(${Ct(l)}px, ${o()}px);`),c=$n(u,1,"tooltip svelte-5ygsa2",null,c,e)}),[()=>({active:i(),pointer:n()})]),ji(e,d)}var Sd=(e,t,i)=>i.filter((i=>i.time<=e*t)).pop(),Cd=Di('<div class="preview svelte-1wqg760"></div>'),Ad=Di('<div class="time svelte-1wqg760"> </div>'),Td=Di('<div><!> <div class="episode svelte-1wqg760"><!></div> <!></div>'),Pd={hash:"svelte-1wqg760",code:".timeline-preview.svelte-1wqg760 {bottom:18px;border-radius:2px;pointer-events:none;}.timeline-preview.mobile.svelte-1wqg760 {bottom:72px;}.preview.svelte-1wqg760 {background-color:var(--timeline-preview-bg);box-shadow:0 0 2px var(--timeline-preview-shadow), 0 8px 24px var(--timeline-preview-shadow);border-radius:8px;border:1px solid var(--white);}.episode.svelte-1wqg760 {margin-top:10px;margin-bottom:4px;font-size:13px;line-height:16px;text-shadow:0 8px 24px var(--timeline-preview-shadow), 0 0 2px var(--timeline-preview-shadow);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;font-weight:500;}.time.svelte-1wqg760 {font-size:13px;line-height:16px;text-align:center;color:var(--white);text-shadow:0 8px 24px var(--timeline-preview-shadow), 0 0 2px var(--timeline-preview-shadow);font-weight:500;}"};function Ed(e,t){hi(t,!0),bn(e,Pd);let[i,n]=ca(),a=()=>ua(h,"$rotateAlpha",i),o=150,r=278,s=ma(t,"time",3,""),l=ma(t,"isMobile",3,!1),d=ma(t,"videoEpisodes",19,(()=>[])),u=ma(t,"progress",3,0),c=ma(t,"duration",3,0),p=ma(t,"isInteractive",3,!1),v=qa(),h=v.ui.rotateAlpha,g=v.ui.playerSize,f=te(0),m=te(0),b=te(""),y=te(0),_=te(0),w=te(0),x=te(0),k=re((()=>Sd(u(),c(),d()))),$=re((()=>(e=>!!(Math.round(Math.abs(e)/90)%2))(a()))),S=re((()=>(e=>Math.abs(e)/90%4==1)(a()))),C=re((function(){let e=l()?o:r,{isVertical:t}=P(),n=30;return Ct(k)?.text&&(n+=16),(t||Ct($))&&(n+=18,n+=50),Math.min(Math.max(ua(g,"$playerSize",i).height-n,0),e)})),A=re((()=>(Ct(S)?1:-1)*(Ct(f)/2-Ct(m)/2))),T=re((()=>-1*Ct(A)));function P(){let e=t.previewThumbsData.frameWidth,i=t.previewThumbsData.frameHeight,n=i>e;return{width:e,height:i,isHorizontal:!n,isVertical:n}}Vt((()=>{var e;e=function(){let{height:e,isHorizontal:t,isVertical:i,width:n}=P();return t&&(e=e/n*Ct(C),n=Ct(C)),i&&(n=n/e*Ct(C),e=Ct(C)),{width:n,height:e}}(),ne(f,Pe(e.width)),ne(m,Pe(e.height))})),Vt((()=>{var e;e=function(e){let i;i=t.previewThumbsData.isUV?Math.floor(c()*e/t.previewThumbsData.frequency):Math.min(t.previewThumbsData.countTotal,Math.max(0,Math.floor(t.previewThumbsData.countTotal*e)));let n=Math.floor(i/t.previewThumbsData.countPerImage),a=Math.floor(i%t.previewThumbsData.countPerImage/t.previewThumbsData.countPerRow),o=i%t.previewThumbsData.countPerRow,r=Math.floor(t.previewThumbsData.countPerImage/t.previewThumbsData.countPerRow);!t.previewThumbsData.isUV&&n===Math.floor(t.previewThumbsData.countTotal/t.previewThumbsData.countPerImage)&&(r=Math.floor(t.previewThumbsData.countTotal%t.previewThumbsData.countPerImage/t.previewThumbsData.countPerRow),t.previewThumbsData.countTotal%t.previewThumbsData.countPerImage%t.previewThumbsData.countPerRow>0&&r++);let s=t.previewThumbsData.countPerRow;!t.previewThumbsData.isUV&&n===Math.floor(t.previewThumbsData.countTotal/t.previewThumbsData.countPerImage)&&t.previewThumbsData.countTotal%t.previewThumbsData.countPerImage>0&&(s=Math.min(t.previewThumbsData.countPerRow,t.previewThumbsData.countTotal%t.previewThumbsData.countPerImage));let l=Ct(f)*s,d=Ct(m)*r,u=-o*Ct(f),p=-a*Ct(m);return{imgSrc:t.previewThumbsData.links[n],imgWidth:l,imgHeight:d,imgOffsetX:u,imgOffsetY:p}}(u()),ne(b,Pe(e.imgSrc)),ne(y,Pe(e.imgWidth)),ne(_,Pe(e.imgHeight)),ne(w,Pe(e.imgOffsetX)),ne(x,Pe(e.imgOffsetY))}));var E=Td();let I;var L=Re(E),M=e=>{var t=Cd();Bt((()=>Cn(t,`width: ${Ct(f)}px; height: ${Ct(m)}px; background-image: url(${Ct(b)}); background-size: ${Ct(y)}px ${Ct(_)}px; background-position: ${Ct(w)}px ${Ct(x)}px;\n    transform: rotate(${a()}deg) ${Ct($)?`translate(${Ct(A)}px, ${Ct(T)}px)`:""};\n    `))),ji(e,t)};Ji(L,(e=>{Ct(b)&&e(M)}));var V=Oe(L,2),N=Re(V),R=e=>{var t=Hi(),i=Be(t),n=e=>{var t=qi();Bt((e=>Wi(t,e)),[()=>Io("tooltip_episode_unfinished")]),ji(e,t)},a=e=>{var t=qi();Bt((()=>Wi(t,Ct(k).text||""))),ji(e,t)};Ji(i,(e=>{p()&&!1===Ct(k).completed?e(n):e(a,!1)})),ji(e,t)};Ji(N,(e=>{Ct(k)&&e(R)})),Ce(V);var B=Oe(V,2),O=e=>{var t=Ad(),i=Re(t,!0);Ce(t),Bt((()=>Wi(i,s()))),ji(e,t)};Ji(B,(e=>{p()||e(O)})),Ce(E),Bt((e=>{I=$n(E,1,"timeline-preview svelte-1wqg760",null,I,e),Cn(E,`width: ${Ct($)?Ct(m):Ct(f)}px;`)}),[()=>({mobile:l()})]),ji(e,E),gi(),n()}var Id=Di('<span class="time svelte-1jr6obn"> </span>'),Ld=Di("<!> <!>",1),Md={hash:"svelte-1jr6obn",code:".time.svelte-1jr6obn {display:inline-block;padding:6px 10px;border-radius:3px;color:var(--white);background-color:rgba(41, 41, 41, .8);}.timeline-slider {--slider-bg: var(--timeline-slider-bg);--slider-filled-bg: var(--timeline-slider-filled-bg);--slider-handle-bg: var(--timeline-slider-handle-bg);--slider-loaded-bg: var(--timeline-slider-loaded-bg);}"};function Vd(e,t){hi(t,!0),bn(e,Md);let[i,n]=ca(),a=()=>ua(g,"$duration$",i),o=()=>ua(h,"$position$",i),r=()=>ua(k,"$isInteractiveTime$",i),s=()=>ua(f,"$isLive$",i),l=()=>ua(b,"$isMobile",i),d=ma(t,"showTimeline",3,!1),u=ma(t,"ref",15,void 0),c=qa(),p=wa(),v=c.state.bufferedProgress$,h=c.state.positionWithScrubbing$,g=c.state.duration$,f=c.state.isLive$,m=c.state.isActiveLive$,b=c.ui.isMobile,y=p.features.episodes?c.actions.internal.getVideoEpisodes():void 0,_=c.actions.internal.getPreviewThumbsData(),w=c.state.interactiveEpisodes$,x=c.state.isInteractive,k=c.state.isInteractiveTime$,$=c.state.isInteractiveExpectation$,S=c.actions.internal.correctSeekTimeToInteractive,C=c.callbacks?.onDisabledTimelineClick,A=c.ui.controls.disabledControls$,T=c.ui.t,P=p.features.interactiveResponsiveUi,E=re((()=>x?ua(w,"$interactiveEpisodes$",i):y)),I=re((()=>dr(a()))),L=re((()=>dr(o()))),M=re((()=>o()/a())),V=re((()=>ua($,"$isInteractiveExpectation$",i)||r())),N=te(!1),R=te(""),B=te(0),O=te(0),D=te(0),z=re((()=>({containerWidth:Ct(O),translateXPx:Ct(B),translateYPx:x&&_?-36:-16,active:Ct(N)&&d()&&!Ct(V)&&!P,pointer:!p.features.timelinePreview||!_||s()}))),q=T("aria_timeline"),H=re((()=>T("aria_timeline_value",{position:Ct(L),duration:Ct(I)})));function j(e){return S&&x?S(e*a())/a():e}function F(e,t,i){ne(D,Pe(j(e))),ne(B,Pe(t)),i&&ne(O,Pe(i)),ne(R,Pe(function(e){let t=dr((s()?1-e:e)*a());return s()?`-${t}`:t}(e)))}var U=Ld(),W=Be(U);$d(W,ga((()=>Ct(z)),{children:(e,t)=>{var i=Hi(),n=Be(i),o=e=>{Ed(e,{get time(){return Ct(R)},get isMobile(){return l()},get videoEpisodes(){return Ct(E)},previewThumbsData:_,get progress(){return Ct(D)},get duration(){return a()},isInteractive:x})},r=e=>{var t=Id(),i=Re(t,!0);Ce(t),Bt((()=>Wi(i,Ct(R)))),ji(e,t)};Ji(n,(e=>{p.features.timelinePreview&&_&&!s()?e(o):e(r,!1)})),ji(e,i)},$$slots:{default:!0}}));var Q=Oe(W,2);let K=re((()=>Math.round(100*Ct(M)))),G=re((()=>ua(A,"$disabledControls$",i).has("TIMELINE")));id(Q,{className:"timeline-slider",get isActiveLive(){return ua(m,"$isActiveLive$",i)},get isMobile(){return l()},ariaLabel:q,ariaValueMin:0,get ariaValueMax(){return a()},get ariaValueNow(){return Ct(K)},get ariaValueText(){return Ct(H)},get loadedProgress(){return ua(v,"$bufferedProgress$",i)},get filledProgress(){return Ct(M)},get handleProgress(){return Ct(M)},get videoEpisodes(){return Ct(E)},onPointerDown:function(e){c.actions.internal.startScrubbing(j(e))},onHandleMove:function(e){r()||c.actions.internal.progressScrubbing(j(e))},onPointerMove:function(e,t,i){F(e,t,i),ne(N,!0)},onPointerUp:function(e){c.actions.internal.completeScrubbing(j(e)),ne(N,!1)},onPointerEnter:function(e,t,i){F(e,t,i),ne(N,!0)},onPointerLeave:function(){ne(N,!1)},onDisabledClick:C,isInteractive:x,get disabled(){return Ct(G)},get hideHandel(){return r()},get ref(){return u()},set ref(e){u(e)}}),ji(e,U),gi(),n()}var Nd={hash:"svelte-1yate8h",code:".timeline-ads-slider {--slider-bg: var(--timeline-slider-bg);--slider-filled-bg: var(--timeline-slider-filled-bg);--slider-handle-bg: var(--timeline-slider-handle-bg);--slider-loaded-bg: var(--timeline-slider-loaded-bg);}"};function Rd(e,t){hi(t,!0),bn(e,Nd);let[i,n]=ca(),a=ma(t,"position",3,0),o=ma(t,"duration",3,0),r=qa(),s=r.ui.isMobile,l=r.ui.t,d=re((()=>dr(o()))),u=re((()=>dr(a()))),c=re((()=>a()/o())),p=re((()=>l("aria_timeline_value",{position:Ct(u),duration:Ct(d)}))),v=re((()=>Math.round(100*Ct(c))));id(e,{className:"timeline-ads-slider",ariaValueMin:0,get ariaValueMax(){return o()},get ariaValueNow(){return Ct(v)},get ariaValueText(){return Ct(p)},get filledProgress(){return Ct(c)},hideHandel:!0,get squareBorders(){return ua(s,"$isMobile",i)}}),gi(),n()}var Bd=Di("<div><!></div>"),Od=Di("<div></div>"),Dd={hash:"svelte-1gqonyf",code:".timeline.svelte-1gqonyf {position:relative;pointer-events:all;display:flex;align-items:center;bottom:0;width:100%;min-width:86px;padding:3px 10px 4px;box-sizing:border-box;}.timeline.mobile.svelte-1gqonyf {height:16px;padding:6px 12px 7px;margin-top:6px;}.timeline-stub.svelte-1gqonyf {width:100%;min-width:20px;}.timeline-stub.mobile.svelte-1gqonyf {height:8px;}"};function zd(e,t){hi(t,!0),bn(e,Dd);let[i,n]=ca(),a=()=>ua(u,"$isLive$",i),o=()=>ua(v,"$isMobile",i),r=ma(t,"isAds",3,!1),s=ma(t,"isHidden",3,!1),l=ma(t,"ref",15,void 0),d=qa(),u=d.state.isLive$,c=d.ads.duration,p=d.ads.position,v=d.ui.isMobile,h=re((()=>!s()&&(!a()||a()&&t.canRewindLive&&t.isRewindableLive||r())));var g=Hi(),f=Be(g),m=e=>{var t=Bd();let n;var a=Re(t),s=e=>{Rd(e,{get position(){return ua(p,"$adPosition",i)},get duration(){return ua(c,"$adDuration",i)}})},d=e=>{Vd(e,{get showTimeline(){return Ct(h)},get ref(){return l()},set ref(e){l(e)}})};Ji(a,(e=>{r()?e(s):e(d,!1)})),Ce(t),Bt((e=>n=$n(t,1,"timeline svelte-1gqonyf",null,n,e)),[()=>({mobile:o()})]),ji(e,t)},b=e=>{var t=Od();let i;Bt((e=>i=$n(t,1,"timeline-stub svelte-1gqonyf",null,i,e)),[()=>({mobile:o()})]),ji(e,t)};Ji(f,(e=>{Ct(h)?e(m):e(b,!1)})),ji(e,g),gi(),n()}var qd=zi('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="m21.616 16.495-.012.07c-.156.852-.282 1.541-.427 2.093-.148.569-.333 1.063-.64 1.5a4.4 4.4 0 0 1-2.507 1.732c-.52.133-1.046.131-1.63.069-.568-.06-1.257-.187-2.11-.343l-4.34-.794c-.853-.156-1.542-.282-2.094-.426-.568-.149-1.062-.334-1.5-.642a4.4 4.4 0 0 1-1.731-2.507c-.133-.518-.131-1.045-.069-1.63.06-.567.187-1.257.343-2.11l.012-.068c.156-.853.282-1.542.427-2.095.148-.568.333-1.062.641-1.5a4.4 4.4 0 0 1 2.507-1.731c.518-.133 1.045-.131 1.63-.069.567.06 1.256.187 2.109.343l4.34.794c.853.156 1.542.282 2.094.426.568.149 1.062.334 1.5.642a4.4 4.4 0 0 1 1.731 2.506c.133.52.131 1.046.069 1.63-.06.568-.187 1.258-.343 2.11m-1.446-2.3c.052-.483.035-.769-.022-.993a2.6 2.6 0 0 0-1.023-1.481c-.19-.133-.45-.25-.921-.373-.48-.125-1.102-.24-1.997-.404l-4.272-.781c-.895-.164-1.518-.277-2.01-.33-.483-.051-.769-.035-.993.023-.6.153-1.125.516-1.481 1.023-.133.19-.25.45-.373.92-.125.48-.24 1.103-.403 1.998s-.277 1.518-.33 2.01c-.051.484-.035.77.023.994.153.6.516 1.125 1.023 1.481.189.133.45.25.92.373.48.125 1.102.24 1.997.404l4.272.781c.895.164 1.518.277 2.01.33.483.051.77.035.993-.023a2.6 2.6 0 0 0 1.481-1.023c.133-.19.25-.45.373-.92.125-.48.24-1.103.403-1.998s.278-1.518.33-2.01Z" clip-rule="evenodd"></path><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M18.187 7.488a.9.9 0 0 1-1.045-.727c-.145-.807-.199-1.086-.28-1.296A2.6 2.6 0 0 0 14.504 3.8c-.224-.006-.505.036-1.315.169l-5.846.962c-1.366.224-1.834.313-2.174.492A2.6 2.6 0 0 0 3.837 7.18c-.08.376-.039.85.114 2.226l.011.1a.9.9 0 1 1-1.787.198l-.01-.093-.019-.17c-.129-1.147-.217-1.937-.068-2.636A4.4 4.4 0 0 1 4.332 3.83c.633-.333 1.417-.461 2.556-.648l.163-.027 5.846-.961.098-.016c.674-.111 1.138-.188 1.556-.177a4.4 4.4 0 0 1 3.99 2.819c.15.39.234.853.355 1.526l.017.097a.9.9 0 0 1-.726 1.045" clip-rule="evenodd"></path><path fill="var(--btn-color, #fff)" d="M12.724 12.414a.415.415 0 0 0-.69.231l-.72 4.18a.4.4 0 0 0 .025.221c.085.21.327.311.539.226l3.669-1.467a.406.406 0 0 0 .127-.68z"></path></svg>');var Hd=zi('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M4.146 3.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L6.793 6.5 4.146 3.854a.5.5 0 0 1 0-.708" clip-rule="evenodd" opacity=".7"></path></svg>');var jd=Di('<span class="text mobile svelte-1yhs2ga"> </span> <div class="chevron-episodes svelte-1yhs2ga"><!></div>',1),Fd=Di('<span class="text svelte-1yhs2ga"> </span>'),Ud=Di('<span class="text count svelte-1yhs2ga"> </span>'),Wd=Di("<!> <!>",1),Qd={hash:"svelte-1yhs2ga",code:".text.svelte-1yhs2ga {padding:0 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.text.count.svelte-1yhs2ga {overflow:visible;}.text.mobile.svelte-1yhs2ga {padding:0 3px 0 4px;}.chevron-episodes.svelte-1yhs2ga {margin-bottom:-4px;}"};function Kd(e,t){hi(t,!0),bn(e,Qd);let[i,n]=ca(),a=()=>ua(v,"$currentGridType$",i),o=()=>ua(f,"$panelOpened$",i),r=()=>ua(m,"$isMobile",i),s=ma(t,"position",3,0),l=ma(t,"duration",3,0),d=ma(t,"timeCodes",19,(()=>[])),u=qa(),c=u.callbacks?.onEpisodeChanged??g.noop,p=!!u.callbacks?.onEpisodeClicked,v=u.ui.currentGridType$,h=u.ui.episodes.openedByKeyboard$,f=u.ui.episodes.panelOpened$,m=u.ui.isMobile,b=u.ui.t,y=te(void 0),_=e=>{if(u.callbacks?.onEpisodeClicked){let t=xr(e);h.set(t),f.set(!0),u.callbacks?.onEpisodeClicked?.(t)}},w=te(null),x=re((()=>s()/l()));Vt((()=>{let e=Sd(Ct(x),l(),d());e?Ct(w)?.time!==e.time&&(c(e),ne(w,Pe(e))):ne(w,null)}));let k=re((()=>Ct(w)?.text||"")),$=re((()=>nd(a(),"xl")?"FULL":nd(a(),"m")&&((e,t)=>Na[e]<Na[t])(a(),"xl")?"COUNT":"SHORT")),S=re((()=>`${b("tooltip_episodes")}: ${Ct(k)}`));Vt((()=>{(async(e,t,i)=>{await St(),"false"===e?.getAttribute("aria-expanded")&&t&&!i&&At((()=>{h.set(!1),e.focus()}))})(Ct(y),ua(h,"$openedByKeyboard$",i),o())}));var C=Hi(),A=Be(C),T=e=>{let t=re((()=>r()?"px-0":""));Hs(e,{get className(){return`w-max btn-full-opacity btn-jc-l ${Ct(t)??""}`},testId:"btn-episodes",click:_,disabled:!p,get ariaExpanded(){return o()},get ariaLabel(){return Ct(S)},get ref(){return Ct(y)},set ref(e){ne(y,Pe(e))},children:(e,t)=>{var i=Hi(),n=Be(i),a=e=>{var t=jd(),i=Be(t),n=Re(i,!0);Ce(i);var a=Oe(i,2);(function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Hd();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"13",fill:"none","aria-hidden":"true","data-testid":"chevron-light-icon",role:"img",...i}))),ji(e,n)})(Re(a),{}),Ce(a),Bt((()=>Wi(n,Ct(k)))),ji(e,t)},o=e=>{var t=Wd(),i=Be(t);!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=qd();let a;hn(Re(n),(()=>t.children??O)),Ae(3),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true","data-testid":"episodes-icon",style:"flex-shrink:0",role:"img",...i}))),ji(e,n)}(i,{});var n=Oe(i,2),a=e=>{var t=Fd(),i=Re(t,!0);Ce(t),Bt((()=>Wi(i,Ct(k)))),ji(e,t)},o=(e,t)=>{var i=e=>{var t=Ud(),i=Re(t,!0);Ce(t),Bt((()=>Wi(i,d().length))),ji(e,t)};Ji(e,(e=>{"COUNT"===Ct($)&&e(i)}),t)};Ji(n,(e=>{"FULL"===Ct($)?e(a):e(o,!1)})),ji(e,t)};Ji(n,(e=>{r()?e(a):e(o,!1)})),ji(e,i)},$$slots:{default:!0}})};Ji(A,(e=>{Ct(w)&&e(T)})),ji(e,C),gi(),n()}var Gd,Zd,Yd,Xd=(e,t)=>e<400||t<225?5:e<640||t<360?0:e<960||t<540?1:e<1280||t<720?2:3,Jd=class{init(e,t,i){this.actions=e,this.adsState=t,this.playerState=i}onAdmanLoadingError(){this.onAdError("adman loading error")}initAdman(e){if(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_init","already inited: "+!!this.adman],numbers:[(0,g.now)(),e.slotId]}),this.adman)return;this.events.init$.next(),this.startWatchDog();let t,{width:i,height:n,isFullscreen:a,isAutoplay:o,adsContainer:r,adsVideoElement:s,slotId:l,params:d={},duration:u,previewParam:c}=e,p=this.playerState&&sa(this.playerState.vsid);p&&(t=this.isVsidOriginal?p:parseInt(p,36));let{isEmbed:v,immediateOrigin:h}=(0,g.detectEmbed)(),f=(v?h:window.location.href)??window.location.href,m={...d,dl:encodeURIComponent(f),autoplay:o?1:0,player_width:i,player_height:n,preview:c,...t?{request_id:t}:{},duration:u,puid10:Xd(i,n),puid11:a?0:1};c||delete m.preview;let b={slot:l,wrapper:r,videoEl:s,videoQuality:n,params:m,browser:{mobile:!1}};try{let e=new window.AdmanHTML;e.setDebug(!1),e.onReady(this.onAdsReady),e.onStarted(this.onAdStarted),e.onPlayed(this.onAdPlayed),e.onPaused(this.onAdPaused),e.adMidrollPoint(this.onAdMidrollPoint),e.onClosed(this.onAdClosed),e.onSkipped(this.onAdSkipped),e.onClicked(this.onAdClicked),e.onTimeRemained(this.onAdTimeRemained),e.onCompleted(this.onAdCompleted),e.onError(this.onAdError),e.init(b),this.adman=e,this.videoElement=s,this.events.slotRequested$.next(),this.log({message:`adman init, config: ${JSON.stringify(b)}`})}catch(e){g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_init_threw",String(e)],numbers:[(0,g.now)()]}),this.onAdError("could not init adman")}}switchToVideo(e=!1){if(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_switch_to_video",this.currentAdSection??"","force: "+e],numbers:[(0,g.now)()]}),null===this.currentAdSection&&!e)return void this.log({message:"switch to video, no currentAdSection. can't switch"});let t="postroll"===this.currentAdSection;if(this.actions){if(this.adsState&&this.playerState)this.adsState.playbackState.set("inactive"),this.currentAdSection=null,this.playerState.mobileUnmuteButtonVisible.set(!1),this.log({message:`switch to video, isPostroll: ${t}`}),t&&(this.adsState.postrollPassed.set(!0),this.log({message:"postroll passed"}));else{let e="Switch to video: Adman state was not updated correctly";this.log({message:e}),this.events.error$.next(e)}this.actions.switchFromAdsToVideo?.(!t)}}togglePlay(){if(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_toggle_play",this.currentAdSection??""],numbers:[(0,g.now)()]}),this.adsState){this.log({message:"toggle play"});let e=sa(this.adsState.playbackState);"playing"===e?this.pause():"paused"===e&&this.play()}else this.onAdError("Can not toggle play: Adman state is not initialized")}setInitialVolume(e){this.log({message:`set initial volume ${e}`}),this.initialVolume=e}setVolume(e){let t=e*this.volumeMultiplier;if(this.log({message:`set volume ${t}`}),this.adman)try{this.adman.setVolume(t)}catch{this.onAdError("could not set ad volume")}this.videoElement&&(this.videoElement.volume=t)}setFullscreen(e){if(this.log({message:`set fullscreen ${e}`}),this.adman)try{this.adman.setFullscreen(e)}catch{this.onAdError("could not set ad fullscreen")}}startPreroll(){if(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_start_preroll"],numbers:[(0,g.now)()]}),this.adman){if(!this.isDestroyed){this.log({message:"start preroll"}),this.setVolume(this.initialVolume),this.currentAdSection="preroll",this.startWatchDog();try{this.adman.start("preroll")}catch{this.onAdError("could not start preroll")}}}else this.onAdError("Can not start preroll: Adman is not initialized")}startPostroll(){if(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_start_postroll",this.currentAdSection??""],numbers:[(0,g.now)()]}),this.adman&&this.actions){this.log({message:"start postroll"}),this.actions.switchFromVideoToAds(),this.currentAdSection="postroll",this.startWatchDog();try{this.adman.start("postroll")}catch{this.onAdError("could not start postroll")}}else this.onAdError("Can not start postroll: Adman is not initialized")}startWatchDog(){this.watchDogTimeout&&clearTimeout(this.watchDogTimeout),this.watchDogTimeout=window.setTimeout((()=>this.onAdError("Watchdog timeout")),this.runtimeTimeout)}stopWatchDog(){clearTimeout(this.watchDogTimeout)}play(){if(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_pplay",this.currentAdSection??""],numbers:[(0,g.now)()]}),this.adman){this.log({message:"ad play"}),this.startWatchDog();try{this.adman.resume(),this.events.resumed$.next()}catch{this.onAdError("could not resume ad")}}else this.onAdError("Can not play: Adman is not initialized")}pause(){if(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_pause",this.currentAdSection??""],numbers:[(0,g.now)()]}),this.adman){this.stopWatchDog(),this.log({message:"ad pause"});try{this.adman.pause(),this.events.paused$.next()}catch{this.onAdError("could not pause ad")}}else this.onAdError("Can not pause: Adman is not initialized")}skip(){if(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_skip",this.currentAdSection??""],numbers:[(0,g.now)()]}),this.adman){this.stopWatchDog(),this.log({message:"ad skip"});try{this.adman.skip(),this.events.skipped$.next()}catch{this.onAdError("could not skip ad")}}else this.onAdError("Can not skip: Adman is not initialized")}setPosition(e,t){this.adman?.setPosition(Math.floor(e),Math.floor(t))}destroy(){g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_destroy"],numbers:[(0,g.now)()]}),this.log({message:"destroy"}),this.stopWatchDog(),this.adman?.onReady(void 0),this.adman?.onStarted(void 0),this.adman?.onPlayed(void 0),this.adman?.onPaused(void 0),this.adman?.adMidrollPoint(void 0),this.adman?.onClosed(void 0),this.adman?.onSkipped(void 0),this.adman?.onClicked(void 0),this.adman?.onTimeRemained(void 0),this.adman?.onCompleted(void 0),this.adman?.onError(void 0),this.adman?.destroy(),this.videoElement&&(0,g.clearVideoElement)(this.videoElement),this.isDestroyed=!0}constructor(e,t){this.adman=null,this.initialVolume=1,this.videoElement=null,this.currentAdSection=null,this.actions=null,this.adsState=null,this.playerState=null,this.events={init$:new g.Subject,loadStarted$:new g.Subject,loadEnded$:new g.Subject,loadError$:new g.Subject,ready$:new g.Subject,slotRequested$:new g.Subject,started$:new g.Subject,timeRemained$:new g.Subject,paused$:new g.Subject,resumed$:new g.Subject,ended$:new g.Subject,empty$:new g.Subject,skipped$:new g.Subject,clicked$:new g.Subject,closed$:new g.Subject,error$:new g.Subject},this.loadAdman=e=>(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_load_start",this.useAdmanFromNPM?"npm":"http"],numbers:[(0,g.now)()]}),this.useAdmanFromNPM?this.loadAdmanNPM(e):this.loadAdmanMailRu(e)),this.loadAdmanMailRu=e=>new Promise(((t,n)=>{let a;this.events.loadStarted$.next();let o=()=>{clearTimeout(a),delete window.admanAsyncInit,window.AdmanHTML?(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_async_init_done","http"],numbers:[(0,g.now)()]}),t(),this.events.loadEnded$.next()):(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_init_timed_out","http"],numbers:[(0,g.now)()]}),n())};(0,g.addScript)("//ad.mail.ru/static/admanhtml/rbadman-html5.min.js",e,this.loadTimeout).then((()=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_script_loaded","http"],numbers:[(0,g.now)()]}),window.AdmanHTML?(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_already_inited","http"],numbers:[(0,g.now)()]}),t(),this.events.loadEnded$.next()):(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_wait_async_init","http"],numbers:[(0,g.now)()]}),i._dG("admanAsyncInit",o),a=window.setTimeout(o,this.initTimeout))})).catch((e=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_script_load_error","http",String(e)],numbers:[(0,g.now)()]}),n(),clearTimeout(a)}))})),this.loadAdmanNPM=e=>new Promise(((t,n)=>{let a;this.events.loadStarted$.next();let o=()=>{clearTimeout(a),delete window.admanAsyncInit,window.AdmanHTML?(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_init_done","npm"],numbers:[(0,g.now)()]}),t(),this.events.loadEnded$.next()):(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_init_timed_out","npm"],numbers:[(0,g.now)()]}),n())},r=()=>{s=!0,n()},s=!1,l=window.setTimeout((()=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_load_timed_out","npm"],numbers:[(0,g.now)()]}),r()}),this.loadTimeout);e.addEventListener("abort",r),e.aborted&&(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_load_aborted","npm"],numbers:[(0,g.now)()]}),r()),i._dG("AdmanHTML",window.AdmanHTML||null),Promise.all([i.e(25153),i.e("langs/web/25153")]).then(i.t.bind(i,25153,19)).then((()=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_chunk_imorted","npm","failed: "+String(s)],numbers:[(0,g.now)()]}),!s&&(window.AdmanHTML?(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_already_inited","npm"],numbers:[(0,g.now)()]}),t(),this.events.loadEnded$.next()):(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_wait_async_init","npm"],numbers:[(0,g.now)()]}),i._dG("admanAsyncInit",o),a=window.setTimeout(o,this.initTimeout)))}),r).finally((()=>{clearTimeout(a),clearTimeout(l),e.removeEventListener("abort",r)}))})),this.onAdsReady=()=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ads_ready"],numbers:[(0,g.now)()]}),this.log({message:"ads ready"}),this.events.ready$.next(),this.startPreroll()},this.onAdStarted=(e,t)=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_started",e,"muted: "+t.muted],numbers:[(0,g.now)(),t.bannerID]}),this.adsState&&this.playerState&&this.actions?(this.log({message:`ad started, section: ${e}, banner: ${JSON.stringify(t)}`}),this.events.started$.next(e),t.muted&&(this.setVolume(0),this.actions.setMuted(!0),this.log({message:"ad muted start"}),sa(this.playerState.isMobile)&&this.playerState.mobileUnmuteButtonVisible.set(!0)),this.adsState.duration.set(t.duration),this.adsState.playbackState.set("playing"),this.adsState.canSkip.set(t.allowClose),this.adsState.secondsToWatchBeforeSkip.set(t.allowCloseDelay),this.startWatchDog()):this.onAdError("Started callback failed: Adman is not initialized")},this.onAdTimeRemained=e=>{this.adsState?(this.adsState.position.set(e.currentTime),this.events.timeRemained$.next(e),this.startWatchDog()):this.onAdError("TimeRemained callback failed: Adman state is not initialized")},this.onAdPaused=()=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_pased",this.currentAdSection??""],numbers:[(0,g.now)()]}),this.stopWatchDog(),this.adsState?(this.log({message:"ad paused"}),this.adsState.playbackState.set("paused")):this.onAdError("Paused callback failed: Adman state is not initialized")},this.onAdPlayed=()=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_played",this.currentAdSection??""],numbers:[(0,g.now)()]}),this.startWatchDog(),this.adsState?(this.log({message:"ad played"}),this.adsState.playbackState.set("playing")):this.onAdError("Player callback failed: Adman is not initialized")},this.onAdMidrollPoint=()=>{if(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_midroll_pioint"],numbers:[(0,g.now)()]}),this.adman&&this.actions){this.log({message:"midroll point"}),this.actions.switchFromVideoToAds(),this.currentAdSection="midroll",this.startWatchDog();try{this.adman.start("midroll")}catch{this.onAdError("could not start midroll")}}else this.onAdError("Midroll callback failed: Adman is not initialized")},this.onAdSkipped=()=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_skipped",this.currentAdSection??""],numbers:[(0,g.now)()]}),this.log({message:"ad skipped"}),this.stopWatchDog()},this.onAdClosed=()=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_closed",this.currentAdSection??""],numbers:[(0,g.now)()]}),this.log({message:"ad closed"}),this.currentAdSection&&this.events.closed$.next(this.currentAdSection),this.stopWatchDog(),this.switchToVideo()},this.onAdCompleted=()=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_completed",this.currentAdSection??""],numbers:[(0,g.now)()]}),this.log({message:"ad completed"}),this.currentAdSection?this.events.ended$.next(this.currentAdSection):this.events.empty$.next(),this.switchToVideo(),this.stopWatchDog()},this.onAdClicked=()=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_clicked",this.currentAdSection??""],numbers:[(0,g.now)()]}),this.log({message:"ad clicked"}),this.videoElement?.pause(),this.currentAdSection&&this.events.clicked$.next(this.currentAdSection),this.stopWatchDog()},this.onAdError=(e="ad error")=>{g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_ad_error",e],numbers:[(0,g.now)()]}),this.log({message:e}),this.events.error$.next(e),this.switchToVideo(!0),this.stopWatchDog()},this.log=e.createComponentLog("AdmanWrapper"),g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","adman_created"],numbers:[(0,g.now)()]}),this.loadTimeout=t.loadTimeout,this.initTimeout=t.initTimeout,this.runtimeTimeout=t.runtimeTimeout,this.useAdmanFromNPM=t.useAdmanFromNPM,this.volumeMultiplier=Math.max(0,Math.min(t.volumeMultiplier,1)),this.isVsidOriginal=t.isVsidOriginal}},eu=e=>{let t=Math.round(e);return isNaN(t)||t<40?"":t>=40&&t<55?50:t>=55&&t<90?60:t>=90&&t<180?120:t>=180?240:""},tu=class{parse(e){let t={startTime:0,endTime:0},i=this.timingRegExp.exec(e);return i&&(t.startTime=this.calcTime(i[1],i[2],i[3],i[4]),t.endTime=this.calcTime(i[6],i[7],i[8],i[9])),t}parseTime(e){let t=this.timeRegExp.exec(e);return t?this.calcTime(t[1],t[2],t[3],t[4]):0}isTime(e){return this.timeRegExp.test(e)}calcTime(e="0",t="0",i="0",n="0"){return 60*Number(e)*60+60*Number(t)+Number(i)+ +`0.${n}`}constructor(){this.timeRegExp=/(\d{2,})?:?(\d{2}):(\d{2}).(\d{2,3})/,this.timingRegExp=new RegExp(`${this.timeRegExp.source}( ?--\x3e ?)${this.timeRegExp.source}`)}},iu=class{parse(e){let t={texts:[]},i=e.replace(new RegExp(this.letterTagRegExp,"g"),"").split({[Symbol.split](e){let t=0,i=[];for(;t<e.length;){let n=["<",">"].reduce(((i,n)=>{let a=e.indexOf(n,t);return-1===i||i>a?a:i}),-1);if(-1===n){i.push(e.substring(t));break}i.push(e.substring(t,n)),t=n+1}return i}}),n=new tu;for(let e of i)n.isTime(e)?t.texts.push({type:"timestamp",value:n.parseTime(e)}):t.texts.push({type:"text",value:e});return t}constructor(){this.letterTagRegExp=/<[a-z]*>|<\/[a-z]*>/}},nu=class{parse(e,t){let i=[],n=e.split(this.twoLinesRegExp);for(let e of n){let n={startTime:0,endTime:0,texts:[],lang:t},a=e.split(this.oneLineRegExp);for(let e of a)if(n.startTime||n.endTime){if(""!==e.trim()){let t=new iu,{texts:i}=t.parse(e);n.texts=[...n.texts,...i]}}else{let t=new tu,{startTime:i,endTime:a}=t.parse(e);n.startTime=i,n.endTime=a}(n.startTime||n.endTime)&&n.texts.length>0&&i.push(n)}return i}constructor(){this.oneLineRegExp=/\r\n|\n|\r/,this.twoLinesRegExp=/\r\n\r\n|\n\n|\r\r/}},au=0,ou=!1,ru="",su=(e,t=0,i=0)=>e<t&&e<i,lu=(e,t=0,i=0)=>e>=t&&e<=i,du={ru:"Русский",en:"English",uk:"Українська",be:"Беларуская (тарашкевiца)",es:"Español",fi:"Suomi",de:"Deutsch",it:"Italiano",bg:"Български",hr:"Hrvatski",hu:"Magyar",sr:"Српски",pt:"Português",el:"Ελληνικά",pl:"Polski",fr:"Français",ko:"한국어","zh-CN":"汉语",lt:"Lietuvių",ja:"日本語",cs:"Čeština",et:"Eesti",tt:"Татарча",ba:"Башҡортса",cv:"Чăвашла",sk:"Slovenčina",ro:"Română",no:"Norsk",lv:"Latviešu",az:"Azərbaycan dili",hy:"Հայերեն",sv:"Svenska",nl:"Nederlands",tk:"Türkmen",ka:"ქართული",da:"Dansk",uz:"O‘zbek",th:"ภาษาไทย",id:"Bahasa Indonesia",tg:"Тоҷикӣ",sl:"Slovenščina",bs:"Bosanski","pt-BR":"Português brasileiro",fa:"فارسی",vi:"Tiếng Việt",hi:"हिन्दी",si:"සිංහල",bn:"বাংলা",tl:"Tagalog",mn:"Монгол",my:"ဗမာစာ",tr:"Türkçe",ne:"नेपाली",ur:"اردو",ky:"Кыргыз тили",pa:"پنجابی",os:"Ирон",kn:"ಕನ್ನಡ",sw:"Kiswahili",kk:"Қазақша",ar:"العربية",he:"עברית",ab:"Аҧсшәа",eu:"Euskara",eo:"Esperanto"},uu={abk:"as",ara:"ar",aze:"az",bak:"ba",bel:"be",ben:"bn",bos:"bs",bul:"bg",ces:"cs",chv:"cv",dan:"da",deu:"de",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",fas:"fa",fin:"fi",fra:"fr",heb:"he",hin:"hi",hrv:"hr",hun:"hu",hye:"hy",ind:"id",ita:"it",jpn:"ja",kan:"kn",kat:"ka",kaz:"kk",kir:"ky",kor:"ko",lav:"lv",lit:"lt",mon:"mn",mya:"my",nep:"ne",nld:"nl",nor:"no",oss:"os",pan:"pa",pol:"pl",por:"pt",ron:"ro",rus:"ru",sin:"si",slk:"sk",slv:"sl",spa:"es",srp:"sr",swa:"sw",swe:"sv",tat:"tt",tgk:"tg",tgl:"tl",tha:"th",tuk:"tk",tur:"tr",ukr:"uk",urd:"ur",uzb:"uz",vie:"vi"},cu=e=>du[e]??du[uu[e]]??void 0,pu=class{destroy(){this.oneStat.destroy(),this.statSubscription.unsubscribe()}constructor(e,t=new g.Subscription){this.oneStat=e,this.statSubscription=t}},vu=((Yd=vu||{}).DESKTOP_CONTROL_PANEL_LEFT="desktop-control-panel-left",Yd.DESKTOP_CONTROL_PANEL_RIGHT="desktop-control-panel-right",Yd),hu=e=>e??0,gu=(e,t)=>{let i=e?.getBoundingClientRect?.(),n=t?.getBoundingClientRect?.();return{top:Math.round(hu(i?.top)-hu(n?.top)),left:Math.round(hu(i?.left)-hu(n?.left)),bottom:Math.round(hu(i?.bottom)-hu(n?.top)),right:Math.round(hu(i?.right)-hu(n?.left))}},fu=e=>{let t=e?.getBoundingClientRect?.();return{width:hu(t?.width),height:hu(t?.height)}},mu=({interfaceLanguage:e,isCyrillicRelatedInterface:t,videoId:i,isClip:n,isLiveCatchUpMode:a,statAuthToken:o,isAudioDisabled:r,canDownload:s,callbacks:l,webApi:d,videoEpisodes:u,previewThumbsData:c,uiConfig:p,coreConfig:v,player:m,disabledControls:b,isInteractive:y,interactiveRanges$:_,isInteractiveTime$:w,replayInteractive:x,stopPlayer:k,hasInteractiveBranches:$,playPrevChapterDisabledTooltip:S,additionalButtons:C,additionalSettingsMenuItems:A,additionalContextMenuItems:T,playPrevVideo:P,playNextVideo:E,looped:I=!1,statistics:L,saveRate:M,internalsExposure:V})=>{let N={...v,configName:[...v.configName??[],"ui"],isAudioDisabled:r,live:{...v.live??{},isLiveCatchUpMode:!!a}},R=p,B=g.Tracer.createRootTracer(R.features.saveTraceInfoToFile),O=B.createComponentTracer("Store"),D=m||new h.Player(N,B);V?.expose({corePlayer:D});let z,q,H=new g.Logger,j=new Jd(H,{loadTimeout:R.ads.loadTimeout,initTimeout:R.ads.initTimeout,runtimeTimeout:R.ads.runtimeTimeout,useAdmanFromNPM:R.ads.useAdmanFromNPM,volumeMultiplier:R.ads.volumeMultiplier,isVsidOriginal:R.ads.isVsidOriginal}),F=jo.getInstance(),U=d?.pictureInPictureApi,W=d?.annotationsApi,Q=H.createComponentLog("Store"),K={},G=new Ua,Z=L?ja(L.oneStat.vsid$):aa(void 0),Y=oa(Ko()),X=oa(!1),J=U?.info.isActive$??new g.ValueSubject(!1),ee=oa(0),te=oa([]),ie=(0,g.merge)(D.events.fatalError$,D.events.managedError$).subscribe((e=>te.update((t=>[...t,e])))),ne=aa(!1,(e=>{let t=D.events.fatalError$.subscribe((()=>e(!0)));return()=>t.unsubscribe()})),ae=async e=>{let t=Object.values(g.InterfaceLanguage).includes(e);if(R.downloadVKLanguages&&(t&&R.updateBuiltinLanguages||!Po(e))){let t;try{t=await(0,g.loadVKLangPack)(e,"videoplayer","videoplayer")}catch(e){L?.oneStat?.logError({errorType:"VKLangPack",fatal:!1}),F?.report(e,{errorType:"VKLangPack",fatal:!1})}t&&(To({language:e,pack:t,fallback:R.defaultLanguage}),oe.set(e))}Po(e)&&oe.set(e)},oe=oa(e),re=oa(t);ae(e);let se=(e,t)=>{let i=sa(oe);return Eo(i,e,t,R.defaultLanguage)},le=oa("thumb"),de=(()=>{let e=ra([ne,le],(([e,t])=>e?"crashed":t));return{...e,is:t=>sa(e)===t}})(),ue=(()=>{let e=oa(new Set(b));return{...e,add:t=>{e.update((e=>new Set([...e].concat(t))))},remove:t=>{e.update((e=>{let i=[...e];return new Set(Array.isArray(t)?i.filter((e=>!t.includes(e))):i.filter((e=>e!==t)))}))},includes:t=>{let i=sa(e);return Array.isArray(t)?t.every((e=>i.has(e))):i.has(t)}}})();O.log("create store"),Q({message:"create store"});let ce=new g.Subject,pe=new g.Subject,ve=new g.Subject,he=new g.Subject,ge=null,fe={actionRewind$:pe,actionSeek$:ve,inPiP$:J,inFullscreen$:new g.Observable((e=>Y.subscribe((t=>e.next(t))))),actionSetSubtitle$:he,nextMovie$:ce};if(L){let{oneStat:e,statSubscription:t}=L;y||t.add(e.attachTo(D)),t.add(e.attachToUi(fe)),t.add(e.attachToAds(j.events)),e.authorize(o).catch((e=>{Q({message:`onestat auth error ${String(e)}`})}))}if(F){let e=new g.Subscription,t=(t,i)=>e.add(t.subscribe(i));if(t(D.events.managedError$,(e=>{F.logIError(e)})),t(D.events.fatalError$,(e=>{F.logIError(e,!0)})),L){let{oneStat:e}=L;t(e.experimental.error$,(e=>{F.logIError(e)}))}F.sentrySubscription.add(e)}let me=()=>{h.clientChecker.device.isIOS&&q&&(e=>{let t=e;return t?.webkitExitFullscreen?t?.webkitExitFullscreen():Promise.reject()})(q).catch((e=>{Q({message:`exitIosSafariFullscreen failed: ${e}`})}))},be=(new g.Subscription).add(D.experimental.element$.subscribe((e=>{e&&(q=e,e.classList.add("player-media"),Xo(U)&&(U.updateVideoElement(),U.registryEventHandlers()),y&&e.setAttribute("pip","false"))}))).add(D.events.ended$.subscribe((()=>{me(),l?.onEnded?.()}))).add(D.events.looped$.subscribe((()=>{l?.onLooped?.()}))).add(D.events.started$.subscribe((async()=>{Xo(U)&&await(U?.revealPictureInPicture());let e=D.info.muted$.getValue();l?.onStarted?.(),K.onStarted?.(e)}))).add(D.events.willSeek$.subscribe((({from:e,to:t})=>{l?.onSeek?.(e,t)}))).add(D.events.autoplaySoundProhibited$.subscribe((()=>{l?.onAutoplaySoundProhibited?.()}))).add(D.info.position$.subscribe((e=>{let t=D.info.duration$.getValue();isFinite(t)&&t>0&&(l?.onTimeupdate?.(t,e),j.setPosition(e,t))}))).add(D.events.fatalError$.subscribe((e=>{l?.onCrashed?.(e?`${e.id}: ${e.message}`:void 0)}))).add(D.events.fetcherRecoverableError$.subscribe((e=>{l?.onRecoverableError?.(e?`${e.id}: ${e.message}`:void 0)}))).add(D.events.loadedMetadata$.subscribe((()=>{yi.state.loadedMetadata$.set(!0)}))).add(D.info.is3DVideo$.subscribe((e=>{yi.ui.is3DVideo.set(e)}))).add(D.info.isEnded$.subscribe((e=>{y&&(e?(w?.getValue()&&ue.add(Ma),ue.add("PLAY_BUTTON")):ue.remove("PLAY_BUTTON"))}))).add(D.info.liveTime$.subscribe((e=>{l?.onLiveTime?.(e)}))).add(D.info.isStalled$.subscribe((e=>{l?.onStalledChanged?.(e)}))).add(D.info.isLiveEnded$.subscribe((e=>e&&l?.onLiveEnded?.()))).add(j.events.loadStarted$.subscribe((()=>l?.adsInfo?.onLoadStarted?.()))).add(j.events.loadEnded$.subscribe((()=>l?.adsInfo?.onLoadEnded?.()))).add(j.events.loadError$.subscribe((()=>l?.adsInfo?.onLoadError?.()))).add(j.events.init$.subscribe((()=>l?.adsInfo?.onInit?.()))).add(j.events.ready$.subscribe((()=>l?.adsInfo?.onReady?.()))).add(j.events.started$.subscribe((e=>l?.adsInfo?.onStarted?.(e)))).add(j.events.timeRemained$.subscribe((e=>l?.adsInfo?.onTimeRemained?.(e)))).add(j.events.ended$.subscribe((e=>l?.adsInfo?.onCompleted?.(e)))).add(j.events.empty$.subscribe((()=>l?.adsInfo?.onEmpty?.()))).add(j.events.clicked$.subscribe((e=>l?.adsInfo?.onClicked?.(e)))).add(j.events.closed$.subscribe((e=>l?.adsInfo?.onClosed?.(e)))).add(j.events.error$.subscribe((e=>l?.adsInfo?.onError?.(e)))).add(j.events.paused$.subscribe((()=>l?.adsInfo?.onPaused?.()))).add(j.events.resumed$.subscribe((()=>l?.adsInfo?.onResumed?.()))),ye=new g.Subscription,_e=aa(D.info.position$.getValue(),(e=>{let t,i,n=()=>{let a=D.info.playbackState$.getValue(),o=D.info.isLive$.getValue(),r=D.info.duration$.getValue(),s=D.info.position$.getValue();if(a&&[h.PlaybackState.PLAYING,h.PlaybackState.PAUSED].includes(a)){let t=o?s-r:D.getExactTime();t!==i&&e(t),i=t}t=requestAnimationFrame(n)};return n(),()=>cancelAnimationFrame(t)})),we=ja(D.info.playbackState$),xe=ja(D.info.currentBuffer$),ke=ja(D.info.isEnded$),$e=ja(D.info.isLive$),Se=R.features.playbackRate?ja(D.info.canChangePlaybackSpeed$):aa(!1),Ce=ja(D.info.liveBufferTime$),Ae=ja(D.info.volume$),Te=ja(D.info.muted$),Pe=Fa(D.info.predefinedQualityLimitType$.pipe((0,g.map)((e=>e===h.PredefinedQualityLimits.TRAFFIC_SAVING))),D.info.predefinedQualityLimitType$.getValue()===h.PredefinedQualityLimits.TRAFFIC_SAVING),Ee=Fa(D.info.predefinedQualityLimitType$.pipe((0,g.map)((e=>e===h.PredefinedQualityLimits.HIGH_QUALITY))),D.info.predefinedQualityLimitType$.getValue()===h.PredefinedQualityLimits.HIGH_QUALITY),Ie=ja(D.info.autoQualityLimitingAvailable$),Le=ja(D.info.availableQualities$),Me=ja(D.info.availableQualitiesFps$),Ve=ja(D.info.chromecastState$),Ne=ja(D.info.chromecastDeviceName$),Re=ja(D.info.currentFormat$),Be=ja(D.info.throughputEstimation$),Oe=ja(D.info.videoBitrate$),De=ja(D.info.intrinsicVideoSize$),ze=ja(D.info.duration$),qe=ja(D.info.isAudioAvailable$),He=null,je=D.info.isBuffering$,Fe=aa(je.getValue(),(e=>{let t=je.subscribe((t=>{t&&null===He?He=window.setTimeout((()=>{e(je.getValue()),He=null}),R.loaderDelay):e(t)}));return()=>{t.unsubscribe(),He&&clearTimeout(He)}})),Ue=ra([ze,$e],(([e,t])=>t?-e:e)),We=ra([we],(([e])=>e===h.PlaybackState.PLAYING)),Qe=ja(D.info.atLiveEdge$),Ke=ja(D.info.atLiveDurationEdge$),Ge=ja(D.info.position$),Ze=ra([Ge,ze],(([e,t])=>isFinite(e)&&isFinite(t)&&!!t)),Ye=ra([Ve],(([e])=>e===h.ChromecastState.CONNECTED)),Xe=ja(D.info.availableVideoStreams$),Je=R.features.audioLanguages?ja(D.info.availableAudioStreams$):aa([]),et=ja(D.info.currentVideoStream$),tt=ja(D.info.currentAudioStream$),it=e=>{let t;if(1===e.length&&(t=e.at(0)),t??(t=e.find((e=>"isDefault"in e&&e.isDefault))),t)return t;let i=g.safeStorage.get(Xa);return i&&(t=e.find((({language:e})=>i===e))),t??(t=e.at(0)),t},nt=!1;be.add(D.info.availableAudioStreams$.subscribe((e=>{if(!nt&&e.length){let t=it(e);t&&(D.setAudioStream(t),nt=!0)}})));let at=!1;be.add(D.info.availableVideoStreams$.subscribe((e=>{if(!at&&e.length){let t=it(e);t&&(D.setVideoStream(t),at=!0)}})));let ot=oa(void 0),rt=ja(D.info.isAutoQualityEnabled$,(e=>e&&ot.set(void 0))),st=ja(D.info.currentQuality$,(()=>ot.set(void 0))),lt=ra([ot,st],(([e,t])=>e??t)),dt=ra(Re,(e=>e!==h.VideoFormat.MPEG)),ut=ra([Le,Me,rt,lt,dt],(([e,t,i,n,a])=>{let o=[];a&&o.push({value:"auto",displayValue:se("auto_quality_option"),selected:i});let r=e.filter((e=>!(0,g.isInvariantQuality)(e)));for(let e of r){let a=t[e];o.push({value:e,displayValue:`${e}${a?eu(a):""}`,selected:!i&&e===n})}return o})),ct=ja(D.info.currentPlaybackRate$),pt=ra([ct,Qe,Ke],(([e,t,i])=>{let n=i||y?1:R.controls.playbackRateMin,a=t?1:R.controls.playbackRateMax,o=R.controls.playbackRateStep,r=[];for(let t=n;t<=a;t+=o)r.push({value:t,displayValue:1===t?se("playback_rate_1"):se("playback_rate",{multiplier:t.toString(10)}),selected:e===t});return r})),vt={displayValue:se("subtitles_off"),value:"off"},ht=oa({...vt}),gt=R.features.subtitles?ja(D.info.availableTextTracks$):aa([]),ft=(()=>{let e=[],t=0;return{add:(i,n)=>{e[t]=[i,n],t=(t+1)%10},find:t=>e.find((([e])=>e===t))}})(),mt=ra([gt,ht],(([e,t],i)=>{let n=[],a=e.find((({id:e})=>e===t.value));if(a?.url){let[,e]=ft.find(a.url)??[];if(e)return void i(e);G.download(a.url).then((e=>{if(!e||G.isDestroyed())return;let o=new nu,r=a.language;if(r){let t=!!a.isAuto,i=o.parse(e,r);n.push({lang:r,subtitles:i,isAuto:t,id:a.id})}ft.add(a.url,n),sa(ht).value===t.value&&i(n)})).catch((e=>{L?.oneStat?.logError({errorType:"Subtitles download",fatal:!1}),F?.report(e,{errorType:"Subtitles download",fatal:!1})}))}i(n)})),bt=ra([ct,We,ht],(([e,t,i],n)=>{let a;if(D.info.isLive$.getValue()&&t&&i.value!==vt.value){let t=()=>{a=setTimeout(t,1e3/(3*e)),n(Date.now())};return t(),()=>clearTimeout(a)}})),yt=ra([gt,ht],(([e,t])=>{if(!e.length)return[];let i=[];for(let{language:n,isAuto:a,id:o}of e){let e=n&&cu(n);n&&e&&i.push({displayValue:a?se("subtitles_auto",{language:e}):e,value:o,selected:t?.value===o,isAuto:a})}return i.length?(i.unshift({...vt,selected:t?.value===vt.value}),i):[]})),_t={available:[],prev:[]},wt=ra([_e,ht,mt,bt],(([e,t,i,n])=>{let a=D.info.isLive$.getValue();if(a&&_t.prev!==i){let e=i.find((({id:e})=>e===t.value)),n=_t.prev.find((({id:e})=>e===t.value));if(e){let t={...e,subtitles:[...n?.subtitles??[],...e.subtitles]};_t.available=[t],_t.prev=i}}if(t&&t.value!==vt.value){let n=a?D.experimental.getCurrentTime$.getValue()?.()??q?.currentTime??0:e,o=a?_t.available:i;return((e,t,i,n=!1)=>{let a=i.find((({id:e})=>e===t.value))?.subtitles;if(n)return a?.find((({startTime:t,endTime:i})=>lu(e,t,i)));let o=e>=au,r=e<au;return au=e,r&&(ou=!1),(0,g.isNonNullable)(Gd)&&lu(e,Gd.startTime,Gd.endTime)&&ru===t.value?Gd:(0,g.isNonNullable)(Zd)||!a?.length||ou?lu(e,Zd?.startTime,Zd?.endTime)?(Gd=Zd,Zd=void 0,ru=t.value,Gd):void((o&&((e,t=0,i=0)=>e>t&&e>i)(e,Zd?.startTime,Zd?.endTime)||r&&su(e,Zd?.startTime,Zd?.endTime))&&(Zd=void 0)):(Zd=a.find((({startTime:t,endTime:i})=>lu(e,t,i)||o&&su(e,t,i))),Gd=void 0,void(!(0,g.isNonNullable)(Zd)&&a[a.length-1].endTime<e&&(ou=!0)))})(n,t,o,a)}})),xt=ra([wt],(([e])=>e?.texts?e.texts:[])),kt=oa(!0),$t=ra([xe,Ue,Ge,Ce],(([e,t,i,n])=>{let a=e?.end??0;return n?(a-(-i+n-t))/t:a/t})),St=ja(D.info.availableSources$),Ct=ra([St],(([e])=>Object.keys(e?.[h.VideoFormat.MPEG]||{}).length>0)),At=()=>{let e=Math.max(R.volumeMinRestore,no()??0);return 0===e?R.volumeDefault:e},Tt=e=>{let t=0===e?At():e,i=D.info.muted$.getValue();Q({message:`set volume, volume: ${e}, preferredVolume: ${t}`}),i&&e>0&&!r&&(i=!1,uo(!1)),D.setVolume(e,i),j.setVolume(e),io(t)},Pt=e=>{let t=D.info.volume$.getValue();if(Q({message:`set muted, currentVolume: ${t}, mute: ${e}`}),D.setMuted(e),j.setVolume(e?0:t),uo(e),!e&&0===t){let e=At();D.setVolume(e),io(e),j.setVolume(e)}},Et=oa(!1),It=e=>{O.log("set looped",{isLooped:e}),Et.set(e),D.setLooped(e)};It(I);let Lt,Mt,Vt=(e,{changeReason:t="default",appliesTo:n="to-video"}={})=>{Q({message:`set quality, quality: ${e}`}),O.log("set quality",{quality:e}),D.setAutoQuality("auto"===e),"auto"!==e?(R.features.qualityDetailsSubMenuEnabled?(fo({type:"exact_quality",quality:e,videoId:i},n),oo(),D.setPredefinedQualityLimits(h.PredefinedQualityLimits.UNKNOWN)):ao(i,e),ot.set(e),D.setQuality(e)):R.features.qualityDetailsSubMenuEnabled?"default"===t&&(Ot("auto_quality",n),sa(Pe)&&Nt(!1),sa(Ee)&&Rt(!1)):oo()},Nt=(e,t="as-default")=>{Q({message:`set trafficSavingEnabled, value: ${e}`}),O.log("set traffic saving enabled",{trafficSavingEnabled:e});let i=e?h.PredefinedQualityLimits.TRAFFIC_SAVING:h.PredefinedQualityLimits.UNKNOWN;R.features.qualityDetailsSubMenuEnabled?(Bt(i,t),co(!1)):(D.setPredefinedQualityLimits(i),co(e))},Rt=(e,t="as-default")=>{Q({message:`set highQualityEnabled, value: ${e}`}),O.log("set high quality enabled",{highQualityEnabled:e}),Bt(e?h.PredefinedQualityLimits.HIGH_QUALITY:h.PredefinedQualityLimits.UNKNOWN,t)},Bt=(e,t)=>{e!==h.PredefinedQualityLimits.UNKNOWN&&(sa(Ie)&&!sa(rt)&&Vt("auto",{appliesTo:t,changeReason:"limit-changed"}),Ot(e,t)),D.setPredefinedQualityLimits(e)},Ot=(e,t)=>{fo({type:e,videoId:i},t),"as-default"===t&&fo({type:e,videoId:i},"to-video")},Dt=e=>{O.log("set playback rate",{playbackRate:e}),D.setPlaybackRate(e),R.features.saveRate&&M&&!D.info.isLive$.getValue()&&(e=>{g.safeStorage.set(Ja,JSON.stringify({rate:e}))})(e)},zt=(e={...vt,selected:!1})=>{O.log("set subtitles",{...e}),e&&e.value!==vt.value&&he.next(e.isAuto?e.value+"_auto":e.value),ht.set(e)},qt=(e,t,i=!0)=>{if(Q({message:`seek to time, time: ${e}`}),O.log("seek to time",{time:e,action:t,forcePrecise:i}),ve.next(t),D.info.isLive$.getValue()){let t=D.info.duration$.getValue(),n=Math.min(0,t+e);D.seekTime(n,i)}else{if(w?.getValue())return;D.info.isEnded$.getValue()&&(Q({message:"seek after ended, call callbacks.onPlay"}),l?.onPlay?.()),D.seekTime(bi(e),i)}},Ht=(e,t)=>{Q({message:`seek to percent, percent: ${e}`}),O.log("seek to percent",{percent:e,action:t});let i=sa(Ue)*e;qt(i,t,!1)},jt=oa(void 0),Ft=oa(!1),Ut=e=>{jt.set(e)},Wt=()=>{jt.set(void 0),Ft.set(!1)},Qt=()=>{clearTimeout(Mt),clearTimeout(Lt),Lt=window.setTimeout((()=>{Wt()}),500),q?.removeEventListener("seeked",Qt)},Kt=ra([_e,Ue,jt],(([e,t,i],n)=>{n((0,g.isNonNullable)(i)?i*t:e)})),Gt=oa(!1),Zt=oa({width:0,height:0}),Yt=ra([Zt],(([{width:e}],t)=>{let i=(e=>e>699?"xl":e>599?"l":e>509?"m":e>320?"s":"xs")(e);t(i)})),Xt=oa(!1),Jt=C.filter((e=>(e=>!e.type)(e))),ei=ra([Yt,Xt],(([e,t])=>t?Jt.filter((e=>!e.hideOnMobile)):Jt.filter((t=>!t.hideOnDesktopGridTypes?.includes(e))))),ti=oa(C.filter((e=>(e=>!!e.type)(e)))),ii=ra([ti,Yt],(([e,t])=>e.filter((e=>!e.hideOnDesktopGridTypes?.includes(t))))),ni=ra([ii,ei],(([e,t])=>[...R.features.additionalButtonsDesktopControlPanelRight?e.filter((e=>"desktop-control-panel-right"===e.type)):[],...R.features.additionalButtons?t.map(((e,t)=>({id:t,weight:t,type:"desktop-control-panel-right",testId:e.testId,icon:e.iconUrl,onClick:e.onClick,ariaLabel:e.ariaLabel??e.tooltip,tooltipText:e.tooltip}))):[]])),ai=oa(A),oi=ra([ai],(([e])=>R.features.additionalSettingsMenuItems?e.map((e=>"SWITCH"===e.type?{...e,onClick:e.onChangeEnabled}:e)):[])),ri=oa(T),si=ra([ri],(([e])=>R.features.additionalContextMenuItems?e:[])),li=ra([Xt,ne],(([e,t],i)=>{i(e&&t)})),di=()=>q,ui=e=>{if((0,g.assertNonNullable)(yi),D.info.isEnded$.getValue())return;let t=!e;if("ads"===sa(yi.playerPhase))return Q({message:`pause ads, internalCall: ${t}`}),O.log("pause ads",{internalCall:t}),void j.pause();Q({message:`pause video, internalCall: ${t}`}),O.log("pause video",{internalCall:t}),t&&l?.onPause?.(),D.pause()},ci=e=>{(0,g.assertNonNullable)(yi);let t=!e;if("ads"===sa(yi.playerPhase))return Q({message:`play ads, internalCall: ${t}`}),O.log("play ads",{internalCall:t}),void j.play();Q({message:`play video, internalCall: ${t}`}),O.log("play video",{internalCall:t}),t&&l?.onPlay?.(),D.play()},pi=(e,t)=>{(0,g.assertNonNullable)(yi),Q({message:`first start, show ads: ${e}, internalCall: ${!t}`}),O.log("first start",{showAds:e,external:t}),e?le.set("ads"):(le.set("video"),t?D.play():yi.actions.internal.togglePlay())},vi=()=>(Q({message:"getting time codes"}),u),hi=()=>{let e=vi();if(!e||[0,1].includes(e.length))return;let t=D.info.position$.getValue();return e.find((e=>e.time>t))},gi=()=>{let e=vi();if(!e||[0,1].includes(e.length))return;let t=D.info.position$.getValue(),i=e.findIndex((e=>e.time>t)),n=-1===i?e.length-2:i-2;return n<0?void 0:e[n]},fi=oa([]);_?.subscribe((e=>{let t=[];for(let i=0;i<e.length;i++){let{range:[n,a],subjects:o}=e[i];0===i&&0!==n&&t.push({time:0,text:"",interactive:!1,completed:!0}),t.push({time:n/1e3,text:"",interactive:!0,completed:R.features.interactiveTimeOpenUri?!o.length||o.every((e=>e.isRemoved)):!o.length}),a!==1/0&&t.push({time:a/1e3,text:"",interactive:!1,completed:!0})}fi.set(t)}));let mi=oa(!1);w?.subscribe((e=>{e&&sa(Ft)&&Wt()}));let bi=e=>{if(!y)return e;let t=sa(fi),i=sa(Ue),n=sa(Ge)/i,a=t.find((e=>e.interactive&&!e.completed&&e.time>n));return"number"==typeof a?.time?Math.min(e,a.time-.05):e},yi={interfaceLanguage$:oe,isCyrillicRelatedInterface$:re,initVideo:e=>{Q({message:`init video, config: ${JSON.stringify(e)}`}),y?(e=>{let t=e.container;t.append(D.experimental.element$.getValue()),ge=new MutationObserver((e=>{let{removedNodes:i}=e[0];i.length&&t.append(D.experimental.element$.getValue())})),ge.observe(t,{childList:!0})})(e):(g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","core_init_video"],numbers:[(0,g.now)()]}),D.initVideo(e)),O.log("init video",{isInteractive:y}),e.subtitles&&D.setExternalTextTracks(e.subtitles),z=e},videoId:i,isClip:n,playerPhase:de,vsid:Z,state:{positionExact$:_e,positionWithScrubbing$:Kt,duration$:Ue,playbackState$:we,isPlaying$:We,isLoaderVisible:Fe,bufferedProgress$:$t,isLive$:$e,canChangePlaybackSpeed$:Se,isActiveLive$:Qe,isOldestAvailableLive$:Ke,isRewindableLive$:Ze,isEnded$:ke,muted$:Te,volume$:Ae,trafficSavingEnabled$:Pe,highQualityEnabled$:Ee,autoQualityLimitingAvailable$:Ie,availableVideoStreams$:Xe,availableAudioStreams$:Je,videoStream$:et,audioStream$:tt,currentQuality$:lt,isAutoQualityEnabled$:rt,availableQualities$:ut,currentPlaybackRate$:ct,availablePlaybackRates$:pt,currentSubtitle$:ht,availableTextTracks$:gt,availableSubtitlesList$:yt,currentSubtitleCaptions$:xt,isAutoSubtitleCaptionVisible$:kt,chromecastState$:Ve,chromecastDeviceName$:Ne,chromecastConnected$:Ye,currentFormat$:Re,throughputEstimation$:Be,videoBitrate$:Oe,videoSize$:De,errorLog$:te,crashed$:ne,isAudioAvailable$:qe,isAudioDisabled:!!r,canDownload:R.features.download&&!!s,availableSources$:St,hasMpegSources$:Ct,isInteractive:y,showInteractiveGraph:R.features.interactiveGraph,showSeekToInteractive:R.features.seekToInteractive,showPlayPrevChapter:R.features.interactivePlayPrevChapter,showInteractiveTimeIndicator:R.features.interactiveTimeIndicator&&!!sa(fi).length,interactiveEpisodes$:fi,isInteractiveTime$:w?ja(w):oa(!1),isInteractiveExpectation$:mi,hasInteractiveBranches:$,playPrevChapterDisabledTooltip:S,looped$:Et,loadedMetadata$:oa(!1),isAutoQualityAvailable$:dt},ui:{t:se,controlsVisible:oa(!1),touched:oa(!1),controls:{prevButton:oa(void 0),playButton:oa(void 0),replayButton:oa(void 0),nextButton:oa(void 0),playPrevChapterButton:oa(void 0),seekToInteractiveButton:oa(void 0),interactiveGraphButton:oa(void 0),liveButton:oa(void 0),time:oa(void 0),episodes:oa(void 0),volume:oa(void 0),subtitles:oa(void 0),settings:oa(void 0),context:oa(void 0),chromecast:oa(void 0),pip:oa(void 0),fullscreen:oa(void 0),vkLogo:oa(void 0),interactiveTimeIndicator:oa(void 0),timeline:oa(void 0),autoplayNextToggle:oa(void 0),additionalButtons:C.length?C.reduce((e=>[...e,oa(void 0)]),[]):[],disabledControls$:ue},modals:{hotKeyMap:{show:oa(!1),data:oa({title:"",closeBtnText:"",groups:[]})}},isFullscreen:Y,isFullscreenOpenedByKeyboard:X,rotateAlpha:ee,isAutoplay:oa(!1),debugPanelVisible:oa(!1),episodes:{panelOpened$:oa(!1),openedByKeyboard$:oa(!1)},contextMenu:{visible$:oa(!1),btnRef$:oa(void 0),openedByBtnKeyboard$:oa(!1),openedByHotKey$:oa(!1),lastActiveElem$:oa(void 0),showContextMenuBtn$:oa(!1),position$:oa({top:0,left:0})},playerSize:Zt,isMobile:Xt,mobileNotReportControlHidden$:li,mobileUnmuteButtonExpanded:oa(!1),mobileUnmuteButtonVisible:oa(!1),icon3DVideoVisible:oa(!1),scrubbingInProgress:Ft,volumeChangingInProgress:Gt,is3DVideo:oa(!1),currentGridType$:Yt,additionalButtonsDeprecated$:ei,additionalDesktopControlPanelRightButtons$:ni,additionalSettingsMenuItems$:oi,additionalContextMenuItems$:si,interactiveHideMobileControls:oa(!1),overlayContainer$:oa(void 0),startedByKeyboard$:oa(!1),autoplayNextEnabled$:oa(!1),timerNextVideoRunning$:oa(!0),settingsMenu:{visible$:oa(!1),ref$:oa(void 0),openedByBtnKeyboard$:oa(!1)},settingsSubMenu:{visible$:oa(!1),ref$:oa(void 0),name$:oa(void 0)}},ads:{position:oa(0),duration:oa(0),playbackState:oa("inactive"),canSkip:oa(!1),secondsToWatchBeforeSkip:oa(0),postrollPassed:oa(!1)},webApi:{pictureInPictureApi:U,annotationsApi:W},actions:{internal:{preload:()=>{D.prepare()},firstStart:e=>pi(e,!1),play:()=>ci(!1),pause:()=>ui(!1),togglePlay:()=>{(0,g.assertNonNullable)(yi);let e=sa(yi.ui.controls.disabledControls$),t=sa(yi.playerPhase),i={playerPhase:t,isInteractive:y,isVideoEnded:!1,action:"none"};if(e.has("PLAY_BUTTON"))return;if(Q({message:"toggle play"}),"ads"===t)return i.action="play",O.log("toggle adman play",i),void j.togglePlay();let n=()=>{Q({message:"toggle play, call player.play"}),i.action="play",D.play(),l?.onPlay?.()};if(D.info.isEnded$.getValue()){if(Q({message:"toggle play, video ended, seek to 0"}),pe.next(),ve.next(f.SeekAction.REWIND),y)return void x?.();D.seekTime(0),n()}else D.info.playbackState$.getValue()!==h.PlaybackState.PLAYING?n():(Q({message:"toggle play, call player.pause"}),i.action="pause",D.pause(),l?.onPause?.());O.log("toggle play",i)},toggleMuted:()=>{Q({message:"toggle muted"});let e=D.info.muted$.getValue();0!==D.info.volume$.getValue()||e?Pt(!e):Tt(At())},openSettingsMenu:async(e,t=()=>Promise.resolve())=>{yi.ui.settingsMenu.openedByBtnKeyboard$.set(!!e),yi.ui.settingsMenu.visible$.set(!0),await t();let i=sa(yi.ui.settingsMenu.ref$),n=di();if(l?.uiInfo?.onSettingsMenu&&i&&n){let e=fu(i),t=gu(i,n);l.uiInfo.onSettingsMenu({visible:!0,size:e,position:t,name:"settings"})}O.log("open settings menu",{wasOpenedByKeyboard:e})},closeSettingsMenu:()=>{if(yi.ui.settingsMenu.visible$.set(!1),!sa(yi.ui.settingsSubMenu.visible$)){let e=sa(yi.ui.settingsMenu.ref$);if(l?.uiInfo?.onSettingsMenu&&e){let t=fu(e),i={top:0,left:0,bottom:0,right:0};l.uiInfo.onSettingsMenu({visible:!1,size:t,position:i,name:"settings"})}}O.log("close settings menu")},openSettingsSubMenu:(e,t)=>{yi.ui.settingsSubMenu.visible$.set(!0),yi.ui.settingsSubMenu.ref$.set(t),yi.ui.settingsSubMenu.name$.set(e);let i=di();if(l?.uiInfo?.onSettingsMenu&&t&&i){let n=fu(t),a=gu(t,i);l.uiInfo.onSettingsMenu({visible:!0,name:e,size:n,position:a})}O.log("open settings sub menu",{name:e})},closeSettingsSubMenu:(e,t=!1)=>{yi.ui.settingsSubMenu.visible$.set(!1);let i=sa(yi.ui.settingsMenu.ref$),n=di(),a=sa(yi.ui.settingsMenu.visible$);if(l?.uiInfo?.onSettingsMenu&&i&&n)if(a&&!t){let e=fu(i),t=gu(i,n);l.uiInfo.onSettingsMenu({visible:!0,size:e,position:t,name:"settings"})}else{let t=fu(e),i={top:0,left:0,bottom:0,right:0},n=sa(yi.ui.settingsSubMenu.name$);l.uiInfo.onSettingsMenu({visible:!1,size:t,position:i,name:n})}O.log("close settings sub menu")},setVolume:Tt,startVolumeChanging:()=>{Gt.set(!0)},stopVolumeChanging:()=>{Gt.set(!1)},setVideoStream:e=>{e.language&&vo(e.language),D.setVideoStream(e)},setAudioStream:e=>{e.language&&vo(e.language),D.setAudioStream(e)},setQuality:Vt,setTrafficSavingEnabled:Nt,setHighQualityEnabled:Rt,setPlaybackRate:Dt,incrementPlaybackRate:()=>{let e=sa(pt),t=e.findIndex((({selected:e})=>e));if(t===e.length-1)return;let i=e[t+1];Dt(i.value)},decrementPlaybackRate:()=>{let e=sa(pt),t=e.findIndex((({selected:e})=>e));if(0===t)return;let i=e[t-1];Dt(i.value)},setSubtitle:zt,toggleSubtitle:()=>{O.log("toggle subtitles");let e=sa(yt),t=sa(ht),i=sa(oe);if(t?.value===vt.value){let t=e.filter((e=>e.value!==vt.value)).find((e=>e.value===i))||e[1];zt(t)}else zt()},togglePictureInPicture:async()=>{let e=U?.isActive(),t="none";U?.isActive()?(t="remove",await(U?.remove())):(t="request",await(U?.request())),O.log("toggle picture in picture",{isActive:e,action:t})},startScrubbing:e=>{Q({message:`start scrubbing, progress: ${e}`}),O.log("start scrubbing",{progress:e}),Ft.set(!0),Ut(e)},progressScrubbing:Ut,completeScrubbing:e=>{Q({message:`complete scrubbing, progress: ${e}`}),O.log("complete scrubbing",{progress:e}),Ht(e,f.SeekAction.SLIDER),sa(yi.ui.isMobile)&&sa(yi.state.currentFormat$)===h.VideoFormat.HLS?(q?.addEventListener("seeked",Qt),Mt=window.setTimeout((()=>{Qt()}),300)):Wt()},toggleChromecast:()=>{Q({message:"toggle chromecast"}),O.log("toggle chromecast"),D.toggleChromecast()},switchToActiveLive:()=>{ve.next(f.SeekAction.LIVE),Q({message:"switch to active live"}),O.log("switch to active live"),D.seekTime(0),D.info.playbackState$.getValue()!==h.PlaybackState.PLAYING&&yi.actions.internal.togglePlay()},switchFromAdsToVideo:(e=!0)=>{(0,g.assertNonNullable)(yi),Q({message:`switch from ads to video, callPlay: ${e}`}),O.log("switch from ads to video",{callPlay:e}),le.set("video"),e&&D.play()},switchFromVideoToAds:()=>{(0,g.assertNonNullable)(yi),Q({message:"switch from video to ads"}),O.log("switch from video to ads"),yi.actions.internal.pause(),me(),le.set("ads")},skipAd:()=>{O.log("skip adman"),j.skip()},setLiveWaitingStart:e=>{(0,g.assertNonNullable)(yi);let t=e?"LiveWaitingStart":"thumb";O.log("set live waiting start",{state:e,playerPhase:t}),le.set(t)},setLiveWaitingRecover:e=>{(0,g.assertNonNullable)(yi);let t=e?"LiveWaitingRecover":"thumb";O.log("set live waiting recover",{state:e,playerPhase:t}),le.set(t)},setLiveWaitingRecord:e=>{(0,g.assertNonNullable)(yi);let t=e?"LiveWaitingRecord":"thumb";O.log("set live waiting record",{state:e,playerPhase:t}),le.set(t)},getDebugTextData:()=>((0,g.assertNonNullable)(yi),O.log("get debug text data"),((e,t,i)=>{let n=e.info,{width:a,height:o}=sa(i.ui.playerSize),r=n.throughputEstimation$.getValue()?.toFixed(0)??0,s=n.rttEstimation$.getValue()?.toFixed(0)??0,l=n.isAutoQualityEnabled$.getValue()?"auto":"manual",d=`${Ba} (core: ${h.VERSION}, stat: ${f.VERSION}, shared: ${g.VERSION})`,u=sa(i.state.errorLog$),c=u.length?"\n"+u.map(((e,t)=>`${t}) Type: ${e.id}\nMessage: ${e.message} (${e.thrown})\nTrace: ${e.thrown?.stack}\n`)).join("\n"):void 0,p=i.state.isAudioDisabled?"disabled":sa(i.state.isAudioAvailable$)?void 0:"unavailable",v=e.info.currentVideoStream$.getValue(),m=e.info.currentAudioStream$.getValue(),b=[];v&&b.push(`Video: ${v?.codec??""}`+(v?.hdr?" (HDR)":"")),m&&b.push(`Audio: ${m?.codec??""}`+(m?.language?` (${m.language})`:""));let y={Version:d,Browser:navigator.userAgent,Config:e.experimental.tuningConfigName$.getValue().join(", "),"United video id":String(i.videoId),VSID:sa(i.vsid),"Content host":n.hostname$.getValue(),"Connection type":n.httpConnectionType$.getValue()+(n.httpConnectionReused$.getValue()?" (reused)":""),Throughput:`${r}Kbps @ ${s}ms RTT`,Format:n.currentFormat$.getValue(),"Available Formats":Object.keys(t.sources).join(", "),Streams:b.join(", "),Quality:`${l} ${n.currentQuality$.getValue()}`,"Available qualities":n.availableQualities$.getValue().join(", "),Audio:p,Position:`${sa(i.state.positionExact$)}s`,State:`${sa(i.playerPhase)} ${n.playbackState$.getValue()}`,"Player size":`${a}x${o}`,URL:window.location.href,Errors:c};return Object.entries(y).filter((([e,t])=>void 0!==t)).map((([e,t])=>`${e}: ${t}`)).join("\n")})(D,z,yi)),getTraceTextData:()=>((0,g.assertNonNullable)(yi),JSON.stringify(B.getFinishedSpans())),getDebugPanelData:()=>((0,g.assertNonNullable)(yi),((e,t,i)=>{let n=e.info,{width:a,height:o}=sa(i.ui.playerSize),r={version:Ba,viewport:`${a}x${o}`,volume:Math.round(100*sa(i.state.volume$))};r.id=i.videoId,n.currentFormat$.getValue()&&(r.provider=n.currentFormat$.getValue()),n.hostname$.getValue()&&(r.cdn=n.hostname$.getValue());let s=n.intrinsicVideoSize$.getValue();s&&(r.videoSize=`${s.width}x${s.height}`);let l=n.currentBuffer$.getValue(),d=n.isLive$.getValue(),u=n.liveBufferTime$.getValue();l&&(r.buffer=d&&u?l.end-u:Math.max(l.end-sa(i.state.positionExact$),0));let c=n.throughputEstimation$.getValue();c&&(r.speed=c);let p=n.videoBitrate$.getValue();p&&(r.bitrate=p);let v=n.liveLatency$.getValue();v&&(r.liveLatency=v);let h=n.currentVideoSegmentLength$.getValue();h&&(r.currentVideoSegmentLength=h);let g=n.currentAudioSegmentLength$.getValue();g&&(r.currentAudioSegmentLength=g);let f=sa(i.vsid);"string"==typeof f&&(r.vsid=f);let m=e.info.currentVideoStream$.getValue()?.codec;m&&(r.videoCodec=m);let b=e.info.currentAudioStream$.getValue()?.codec;b&&(r.audioCodec=b),e.info.currentVideoStream$.getValue()?.hdr&&(r.hdr=!0);let y=e.info.currentAudioStream$.getValue()?.language;return y&&(r.audioLanguage=y),r})(D,0,yi)),getVideoElement:di,seekTime:(e,t,i)=>qt(e,t,i),clearDelayedBufferingCheckTimeout:()=>{He&&clearTimeout(He),He=null},seekEpisodeStartTime:e=>{Q({message:`seek to episode start time: ${e}`}),O.log("seek to episode start time",{time:e}),qt(e,f.SeekAction.EPISODE,!0)},seekToPercent:Ht,getNextEpisode:hi,seekToNextEpisode:e=>{let t=e;t||(t=hi());let i=D.info.position$.getValue();O.log("seek to next episode",{currentTime:i,...t}),t&&(Q({message:"seek to next episode"}),qt(t.time,f.SeekAction.EPISODE,!0))},getPrevEpisode:gi,seekToPrevEpisode:e=>{let t=e;t||(t=gi());let i=D.info.position$.getValue();O.log("seek to prev episode",{currentTime:i,...t}),t&&(Q({message:"seek to prev episode"}),qt(t.time,f.SeekAction.EPISODE,!0))},startLogging:()=>{let e,{debugLog:t}=R,i="#9df7b7",n="#efd169";if(t&&!0!==t){let{colors:a}=t;e=t.tag,i=a?.[0]??i,n=a?.[1]??a?.[0]??n}let a=e?`: ${e}`:"";ye.add(D.events.log$.subscribe((e=>{console.debug(`%c sdk${a} `,`background:${i};`,`sdk component: ${e.component}`,e.message)}))).add(H.log$.subscribe((e=>{console.debug(`%c ui${a} `,`background:${n};`,`ui component: ${e.component}.`,e.message)})))},stopLogging:()=>{ye.unsubscribe()},startCameraManualRotation:(e,t)=>{O.log("start camera manual rotation",{mx:e,my:t}),D.startCameraManualRotation(e,t)},stopCameraManualRotation:(e=!1)=>{O.log("stop camera manual rotation",{immediate:e}),D.stopCameraManualRotation(e)},moveCameraFocusPX:(e,t,i)=>{O.log("move camera focus px",{xpx:e,ypx:t,dt:i}),D.moveCameraFocusPX(e,t,i)},holdCamera:()=>{D.holdCamera()},releaseCamera:()=>{D.releaseCamera()},getVideoEpisodes:vi,getPreviewThumbsData:()=>(Q({message:"getting preview thumbs data"}),O.log("get preview thumbs data",{...c}),c),downloadVideo:()=>{let e=(()=>{let e=Object.keys(D.info.availableSources$?.getValue()?.[h.VideoFormat.MPEG]||{}),t=(0,g.getHighestQuality)(e)||g.VideoQuality.Q_144P;return z.sources[h.VideoFormat.MPEG]?.[t]})();if(e)O.log("download video",{url:e}),((e,t)=>{Oa(e,t,"mp4")})(e,z?.meta?.title||"video");else{let e="There is no URL for download video";O.log("download video",{message:e}),Q({message:e})}},addLanguage:To,setLanguage:ae,nextMovie:e=>ce.next(e),videoRotate:(e=-90)=>{O.log("rotate video",{alphaDiff:e}),ee.update((t=>t+e))},correctSeekTimeToInteractive:bi,replayInteractive:x,setLooped:It,reportProblem:()=>{l?.uiInfo?.onReportProblem?.()},setAutoplayNextEnabled:(e,t=!1)=>{Q({message:`set autoplayNextEnabled, value: ${e}`}),O.log("set autoplay next enabled",{autoplayNextEnabled:e}),yi.ui.autoplayNextEnabled$.set(e),(e=>{so(eo,e)})(e),t&&l?.onSetAutoplayNextEnabled?.(e)},setTimerNextVideoRunning:e=>{Q({message:`set timerNextVideoRunning, value: ${e}`}),O.log("set timer next video running",{timerNextVideoRunning:e}),yi.ui.timerNextVideoRunning$.set(e)},prevVideoClick:(e=!0)=>{let t=!0;if(e&&l?.onPrevVideoClick)try{t=l?.onPrevVideoClick?.()}catch{Q({message:"onPrevVideoClick callback failed to execute"})}t&&P()},nextVideoClick:(e=!0)=>{let t=!0;if(e&&l?.onNextVideoClick)try{t=l?.onNextVideoClick?.()}catch{Q({message:"onNextVideoClick callback failed to execute"})}t&&E()},nextVideoAnnouncementShow:()=>{l?.onNextVideoAnnouncementShow?.()},nextVideoAnnouncementClick:()=>{l?.onNextVideoAnnouncementClick?.()},nextVideoAnnouncementAuto:()=>{l?.onNextVideoAnnouncementAuto?.()},nextVideoAnnouncementCancel:()=>{l?.onNextVideoAnnouncementCancel?.()}},external:{firstStart:e=>pi(e,!0),play:()=>ci(!0),pause:()=>ui(!0),stop:()=>(e=>{(0,g.assertNonNullable)(yi);let t=!e;"ads"!==sa(yi.playerPhase)?(Q({message:`player will be stopped, internalCall: ${t}`}),k?.()):Q({message:"player cannot be stopped during ads via external method"})})(!0),seekTime:e=>(e=>{Q({message:`seek external, time: ${e}`}),O.log("seek external",{time:e}),ve.next(f.SeekAction.UNKNOWN),D.seekTime(D.info.isLive$.getValue()?-e:e)})(e),seekEpisodeStartTime:e=>(e=>{Q({message:`seek external to episode start time: ${e}`}),O.log("seek external to episode start time",{time:e}),qt(e,f.SeekAction.EPISODE,!0)})(e),setPlaybackRate:e=>(e=>{Q({message:`set playback rate to: ${e}`}),O.log("set playback rate external",{playbackRate:e}),D.setPlaybackRate(e)})(e),setAutoQualityLimits:e=>(e=>{let t=e.max??"none",i=e.min??"none";Q({message:`set auto quality limitation. Max: ${t}. Min: ${i}`}),O.log("set auto quality limits",{max:t,min:i}),D.setAutoQualityLimits(e)})(e),setMuted:Pt,setVolume:Tt,returnFocusToEpisodes:()=>{yi.ui.episodes.panelOpened$.set(!1)},updateAdditionalSettingsItem:(e,t)=>{let i=sa(ai).map((i=>i.id!==e?i:{...i,...t}));ai.set(i)},addAdditionalSettingsItem:e=>{let t=sa(ai);t.some((t=>t.id===e.id))?Q({message:`Settings menu item with id: "${e.id}" was exist! Can't add more with the same id`}):(t.push(e),ai.set(t))},removeAdditionalSettingsItem:e=>{let t=sa(ai);t.some((t=>t.id===e))?(t=t.filter((t=>t.id!==e)),ai.set(t)):Q({message:`Can't find settings menu item with id: "${e}"! Can't remove item with this id`})},updateAdditionalContextItem:(e,t)=>{let i=sa(ri).map((i=>i.id!==e?i:{...i,...t}));ri.set(i)},addAdditionalContextItem:e=>{let t=sa(ri);t.some((t=>t.id===e.id))?Q({message:`Context menu item with id: "${e.id}" was exist! Can't add more with the same id`}):(t.push(e),ri.set(t))},removeAdditionalContextItem:e=>{let t=sa(ri);t.some((t=>t.id===e))?(t=t.filter((t=>t.id!==e)),ri.set(t)):Q({message:`Can't find context menu item with id: "${e}"! Can't remove item with this id`})},updateAdditionalButton:(e,t)=>{let i=sa(ti).map((i=>i.id!==e?i:{...i,...t}));ti.set(i)},addAdditionalButton:e=>{let t=sa(ti);t.some((t=>t.id===e.id))?Q({message:`Additional button with id: "${e.id}" was exist! Can't add more with the same id`}):(t.push(e),ti.set(t))},removeAdditionalButton:e=>{let t=sa(ti);t.some((t=>t.id===e))?(t=t.filter((t=>t.id!==e)),ti.set(t)):Q({message:`Can't find additional button with id: "${e}"! Can't remove item with this id`})},setLiveLowLatency:e=>{ve.next(f.SeekAction.LIVE),Q({message:"live switch to low latency "+e}),O.log("live switch to low latency "+e),D.setLiveLowLatency(e)}}},callbacks:l,setUiCallbacks:e=>{K={...e}},getAdmanWrapper:()=>j,getLogger:()=>H,getPlayer:()=>D,destroy:()=>{O.log("destroy store"),clearTimeout(Mt),clearTimeout(Lt),be.unsubscribe(),ye.unsubscribe(),D.destroy(),j.destroy(),L?.destroy(),F?.destroy(),ie.unsubscribe(),ge?.disconnect(),ge=null,G.destroy()}};return yi};function bu(e,t,i,n){let a=t[i]?.getBoundingClientRect(),o=(n||["interactiveTimeIndicator"].includes(i))&&!!a&&!!(a.right-a.left),{top:r,left:s,bottom:l,right:d}=gu(t[i],e||void 0);return{left:o?s:0,right:o?d:0,top:o?r:0,bottom:o?l:0,isDisplayed:o}}var yu=(e,t,i,n)=>{if(e)for(let[a,o]of Object.entries(t))["tooltipPointerOffsetX","disabledControls$","additionalButtons"].includes(a)||o.set(bu(e,i,a,n))},_u=async(e,t,i)=>{await St(),t&&i&&(i.focus(),e.set(!1))},wu=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M18 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m-6 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m-6 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"></path></svg>');function xu(e,t){hi(t,!0);let[i,n]=ca(),a=()=>ua(l,"$contextMenuVisible$",i),o=ma(t,"disabled",3,!1),r=ma(t,"ariaLabel",3,""),s=qa(),l=s.ui.contextMenu.visible$,d=s.ui.contextMenu.openedByBtnKeyboard$,u=s.ui.contextMenu.showContextMenuBtn$,c=s.ui.contextMenu.position$,p=s.ui.contextMenu.btnRef$,v=te(void 0);Vt((()=>{Ct(v)&&At((()=>{p.set(Ct(v))}))}));let h=re((()=>a()?"opened":""));Hs(e,{get className(){return Ct(h)},testId:"btn-context-menu",get disabled(){return o()},get ariaLabel(){return r()},click:e=>{let t=xr(e),i=(e=>{let t=e.getBoundingClientRect();return{right:t.left+t.width,bottom:t.top+-14}})(Ct(v));c.set(i),d.set(t),l.set(!a())},focus:()=>{u.set(!0)},blur:()=>{u.set(!1)},get ariaExpanded(){return a()},get ref(){return Ct(v)},set ref(e){ne(v,Pe(e))},children:(e,t)=>{!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=wu();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true","data-testid":"dots-icon",role:"img",...i}))),ji(e,n)}(e,{})},$$slots:{default:!0}}),gi(),n()}var ku=e=>{e.stopPropagation()},$u=Di("<div><!> <div></div> <div></div></div>"),Su={hash:"svelte-od3veb",code:".interactive-episode-icon-animated.svelte-od3veb {position:absolute;top:16px;right:16px;width:32px;height:32px;transition:0.3s;opacity:1;}.interactive-episode-icon-animated.icon-small.svelte-od3veb {width:28px;height:28px;}.invisible.svelte-od3veb {opacity:0;visibility:hidden;}.fullscreen.svelte-od3veb:not(.mobile) {width:40px;top:19px;right:23px;height:40px;}.mobile.svelte-od3veb {width:28px;height:28px;top:12px;right:14px;}.fullscreen.mobile.svelte-od3veb {width:32px;height:32px;}\n\n  @media screen and (orientation: portrait) {.interactive-episode-icon-animated.mobile.fullscreen.svelte-od3veb {top:40px;right:16px;}\n  }\n\n  @keyframes svelte-od3veb-pulse {\n    0% {\n      transform: scale(1);\n      border-width: 1px;\n      opacity: 0;\n    }\n    10% {\n      opacity: 1;\n    }\n    50% {\n      transform: scale(1.5);\n      border-width: 1px;\n      opacity: 0.5;\n    }\n    100% {\n      transform: scale(1.5);\n      border-width: 0.5px;\n      opacity: 0;\n    }\n  }.pulse.svelte-od3veb {display:block;content:'';border:1px solid #fff;position:absolute;top:0;left:0;right:0;bottom:0;border-radius:100%;transform:scale(1.8);\n    animation: 1s svelte-od3veb-pulse infinite;transition:0.3s;pointer-events:none;}.pulse.paused.svelte-od3veb {animation-play-state:paused;}.interactive-episode-icon-animated svg {width:100%;height:100%;}.ref-block.svelte-od3veb {position:absolute;top:0;width:100%;height:100%;visibility:hidden;}.hidden.svelte-od3veb {display:none;}"};function Cu(e,t){hi(t,!0),bn(e,Su);let[i,n]=ca(),a=()=>ua(c,"$isMobile",i),o=()=>ua(h,"$showInteractiveTimeIndicatorTooltip$",i),r=ma(t,"ref",15,void 0),s=te(void 0),l=qa(),d=Ha(),{interactiveControlsOpacity$:u}=d,c=l.ui.isMobile,p=l.ui.isFullscreen,v=l.state.isInteractiveTime$,h=d.showInteractiveTimeIndicatorTooltip$,g=l.ui.controlsVisible,f=l.callbacks?.onInteractiveTimeIndicatorClick,m=l.ui.currentGridType$,b=re((()=>!a()&&ua(g,"$areControlsVisible",i))),y=re((()=>ad(ua(m,"$currentGridType$",i),"s"))),_=re((()=>!ua(v,"$isInteractiveTime$",i)||!!ua(u,"$interactiveControlsOpacity$",i)||Ct(b))),w=te(!1);Vt((()=>{ne(w,Pe(Ct(_)))}));let x=()=>{ne(w,!0)},k=()=>{ne(w,!1),Ct(s)?.removeEventListener("animationiteration",x)},$=re((()=>o()&&!Ct(_)));Vt((()=>{o()?(k(),Ct(s)?.addEventListener("animationiteration",x,{once:!0})):k()}));ta((()=>{h.clearTimeout(),k()}));let S=Io("tooltip_interactive_interaction_time_indicator");var C=$u();let A;C.__mousemove=[ku],C.__click=()=>{Ct(_)||(h.set(!0),f?.())};var T=Re(C);zl(T,{tooltipContent:S,get tooltipActive(){return Ct($)},initialTranslateYPx:72,tooltipPlacement:"bottom",onTooltipVisibilityChange:e=>{h.set(e)},get ref(){return r()},set ref(e){r(e)},children:(e,t)=>{Hl(e,{completed:!0})},$$slots:{default:!0}});var P=Oe(T,2);let E;Yn(P,(e=>r(e)),(()=>r()));var I=Oe(P,2);let L;Yn(I,(e=>ne(s,e)),(()=>Ct(s))),Ce(C),Bt(((e,t,i)=>{A=$n(C,1,"interactive-episode-icon-animated svelte-od3veb",null,A,e),E=$n(P,1,"ref-block svelte-od3veb",null,E,t),L=$n(I,1,"pulse svelte-od3veb",null,L,i)}),[()=>({mobile:a(),fullscreen:ua(p,"$isFullscreen",i),invisible:Ct(_),"icon-small":Ct(y)}),()=>({hidden:Ct(_)}),()=>({paused:Ct(w)})]),Vi("mouseleave",C,(()=>{h.set(!1)})),ji(e,C),gi(),n()}function Au(e,t){hi(t,!0);let i=ma(t,"tooltipEnabled",3,!0),n=ma(t,"disabled",3,!1),a=ma(t,"className",3,void 0),o=ma(t,"ref",15);zl(e,{get disabled(){return n()},get tooltipContent(){return t.tooltipText},get disabledTooltipContent(){return t.disabledTooltipContent},get hasTooltip(){return i()},get mouseEnter(){return t.mouseEnter},get mouseLeave(){return t.mouseLeave},get className(){return a()},get ref(){return o()},set ref(e){o(e)},children:(e,i)=>{var n=Hi();let a=re((()=>t.buttonComponent));gn(Be(n),(()=>Ct(a)),((e,i)=>{i(e,ga((()=>t.buttonComponentProps??{})))})),ji(e,n)},$$slots:{default:!0}}),gi()}Ni(["mousemove","click"]);var Tu=100,Pu=200,Eu=300,Iu=400,Lu=500,Mu=600,Vu=700,Nu=800,Ru=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M16 10.835V7.5a1 1 0 1 1 2 0v9a1 1 0 0 1-2 0v-3.335l-8.149 4.67C7.03 18.304 6 17.715 6 16.772V7.227c0-.943 1.029-1.533 1.851-1.061L16 10.834z"></path></svg>');function Bu(e,t){let i=ma(t,"isPrev",3,!1),n=ma(t,"isMobile",3,!1),a=re((()=>i()&&n()?"transform: scaleX(-1) scale(1.3333);":i()?"transform: scaleX(-1);":n()?"transform: scale(1.3333);":void 0)),o=re((()=>i()?"prev-icon":"next-icon"));!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Ru();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"26",height:"24",fill:"none","aria-hidden":"true",role:"img",...i}))),ji(e,n)}(e,{get style(){return Ct(a)},get"data-testid"(){return Ct(o)}})}var Ou=Di('<div class="icon-background-mobile svelte-xtk2k4"></div>'),Du=Di("<!> <!>",1),zu={hash:"svelte-xtk2k4",code:".icon-background-mobile.svelte-xtk2k4 {position:absolute;top:0;left:0;width:100%;height:100%;border-radius:var(--big-play-radius);background-color:var(--big-play-bg-color);}"};function qu(e,t){hi(t,!0),bn(e,zu);let i=ma(t,"ref",15,void 0),n=ma(t,"isMobile",3,!1),a=ma(t,"disabled",3,!1),o=qa().ui.t,r=re((()=>"prev"===t.type?o("tooltip_previous"):o("tooltip_next"))),s=re((()=>"prev"===t.type?o("hotkey_map_item_prev_video_value"):o("hotkey_map_item_next_video_value"))),l=re((()=>`btn-${n()?"m":"d"}--${t.type}`));Hs(e,{get className(){return Ct(l)},get testId(){return`btn-${t.type??""}`},get disabled(){return a()},get ariaLabel(){return Ct(r)},get click(){return t.click},get ariaKeyShortCut(){return Ct(s)},get ref(){return i()},set ref(e){i(e)},children:(e,i)=>{var a=Du(),o=Be(a),r=e=>{ji(e,Ou())};Ji(o,(e=>{n()&&e(r)}));var s=Oe(o,2);let l=re((()=>"prev"===t.type));Bu(s,{get isMobile(){return n()},get isPrev(){return Ct(l)}}),ji(e,a)},$$slots:{default:!0}}),gi()}var Hu=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M12 10.096a.4.4 0 0 1-.67.296L7.044 6.493a.67.67 0 0 1 0-.986l4.288-3.899a.4.4 0 0 1 .669.296V5a8 8 0 1 1-8 8 1 1 0 1 1 2 0 6 6 0 1 0 6-6z"></path></svg>');function ju(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Hu();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true","data-testid":"replay-icon",role:"img",...i}))),ji(e,n)}var Fu=Di('<div class="icon-background-mobile svelte-1ot3duq"></div>'),Uu=Di("<!> <div><!></div>",1),Wu={hash:"svelte-1ot3duq",code:".mobile.svelte-1ot3duq {position:relative;display:flex;align-items:center;justify-content:center;}.mobile.svelte-1ot3duq svg {transform:scale(2);}.icon-background-mobile.svelte-1ot3duq {position:absolute;top:16px;left:16px;border-radius:var(--big-play-radius);background-color:var(--big-play-bg-color);width:calc(100% - 32px);height:calc(100% - 32px);}"};function Qu(e,t){hi(t,!0),bn(e,Wu);let i=ma(t,"ref",15,void 0),n=ma(t,"isMobile",3,!1),a=ma(t,"disabled",3,!1),o=ma(t,"className",3,""),r=ma(t,"click",3,g.noop),s=Io("tooltip_restart"),l=re((()=>`${n()?"btn-m--play":""} ${o()}`));Hs(e,{get className(){return Ct(l)},testId:"btn-replay",ariaLabel:s,get disabled(){return a()},get click(){return r()},get ariaKeyShortCut(){return $a},get ref(){return i()},set ref(e){i(e)},children:(e,t)=>{var i=Uu(),a=Be(i),o=e=>{ji(e,Fu())};Ji(a,(e=>{n()&&e(o)}));var r=Oe(a,2);let s;ju(Re(r),{}),Ce(r),Bt((e=>s=$n(r,1,"svelte-1ot3duq",null,s,e)),[()=>({mobile:n()})]),ji(e,i)},$$slots:{default:!0}}),gi()}var Ku=zi('<svg fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-testid="play-icon"><path d="M17.671 10.923c.82.483.82 1.67 0 2.154l-8.787 5.175A1.25 1.25 0 0 1 7 17.174V6.826a1.25 1.25 0 0 1 1.884-1.078l8.787 5.175z"></path></svg>');function Gu(e,t){let i=ma(t,"width",3,"24"),n=ma(t,"height",3,"24"),a=ma(t,"viewBox",3,"0 0 24 24"),o=ma(t,"fill",3,"var(--btn-color)");var r=Ku(),s=Re(r);Ce(r),Bt((()=>{Ln(r,"width",i()),Ln(r,"height",n()),Ln(r,"viewBox",a()),Ln(s,"fill",o())})),ji(e,r)}var Zu=zi('<svg fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" data-testid="pause-icon"><path d="M8.712 5c.448 0 .61.047.774.134a.913.913 0 0 1 .38.38c.087.164.134.326.134.774v11.424c0 .448-.047.61-.134.774a.914.914 0 0 1-.38.38c-.164.087-.326.134-.774.134H6.788c-.448 0-.61-.047-.774-.134a.914.914 0 0 1-.38-.38c-.087-.164-.134-.326-.134-.774V6.288c0-.448.047-.61.134-.774a.913.913 0 0 1 .38-.38C6.178 5.047 6.34 5 6.788 5h1.924zm8 0c.448 0 .61.047.774.134a.914.914 0 0 1 .38.38c.087.164.134.326.134.774v11.424c0 .448-.047.61-.134.774a.914.914 0 0 1-.38.38c-.164.087-.326.134-.774.134h-1.924c-.448 0-.61-.047-.774-.134a.914.914 0 0 1-.38-.38c-.087-.164-.134-.326-.134-.774V6.288c0-.448.047-.61.134-.774a.914.914 0 0 1 .38-.38c.164-.087.326-.134.774-.134h1.924z"></path></svg>');function Yu(e,t){let i=ma(t,"width",3,"24"),n=ma(t,"height",3,"24"),a=ma(t,"viewBox",3,"0 0 24 24"),o=ma(t,"fill",3,"var(--btn-color)");var r=Zu(),s=Re(r);Ce(r),Bt((()=>{Ln(r,"width",i()),Ln(r,"height",n()),Ln(r,"viewBox",a()),Ln(s,"fill",o())})),ji(e,r)}var Xu=Di('<div class="icon-background-mobile svelte-1ot3duq"></div>'),Ju=Di("<!> <div><!></div>",1),ec={hash:"svelte-1ot3duq",code:".mobile.svelte-1ot3duq {position:relative;display:flex;align-items:center;justify-content:center;}.mobile.svelte-1ot3duq svg {transform:scale(2);}.icon-background-mobile.svelte-1ot3duq {position:absolute;top:16px;left:16px;border-radius:var(--big-play-radius);background-color:var(--big-play-bg-color);width:calc(100% - 32px);height:calc(100% - 32px);}"};function tc(e,t){hi(t,!0),bn(e,ec);let[i,n]=ca(),a=()=>ua(o,"$fakeIsPlaying$",i),{fakeIsPlaying$:o}=Ha(),r=ma(t,"ref",15,void 0),s=ma(t,"isMobile",3,!1),l=ma(t,"isPlaying",3,!1),d=ma(t,"disabled",3,!1),u=ma(t,"className",3,""),c=ma(t,"click",3,g.noop),p=qa().ui.t,{toggle:v}=o,h=re((()=>v)),f=re((()=>null!==a())),m=re((()=>Ct(f)?a():l())),b=re((()=>Ct(m)?p("tooltip_pause"):p("tooltip_play"))),y=re((()=>Ct(m)?Yu:Gu)),_=re((()=>`${s()?"btn-m--play":""} ${u()}`)),w=re((()=>Ct(f)?Ct(h):c()));Hs(e,{get className(){return Ct(_)},testId:"btn-play",get click(){return Ct(w)},get disabled(){return d()},get ariaLabel(){return Ct(b)},get ariaKeyShortCut(){return $a},get ref(){return r()},set ref(e){r(e)},children:(e,t)=>{var i=Ju();let n=re((()=>Ct(y)));var a=Be(i),o=e=>{ji(e,Xu())};Ji(a,(e=>{s()&&e(o)}));var r=Oe(a,2);let l;gn(Re(r),(()=>Ct(n)),((e,t)=>{t(e,{})})),Ce(r),Bt((e=>l=$n(r,1,"svelte-1ot3duq",null,l,e)),[()=>({mobile:s()})]),ji(e,i)},$$slots:{default:!0}}),gi(),n()}var ic=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M12.583 12.917v2.496a1 1 0 0 1-1.522.853l-5.583-3.413a1 1 0 0 1 0-1.706l5.583-3.413a1 1 0 0 1 1.522.853v2.496l5.478-3.349a1 1 0 0 1 1.522.853v6.826a1 1 0 0 1-1.522.853z"></path></svg>');function nc(e,t){hi(t,!0);let i=ma(t,"ref",15,void 0),n=ma(t,"hidden",3,!1),a=ma(t,"disabled",3,!1),o=Io("tooltip_interactive_go_back"),r=re((()=>n()?"hidden":""));Hs(e,{get className(){return Ct(r)},testId:"btn-play-prev-chapter",ariaLabel:o,get disabled(){return a()},get click(){return t.click},get ref(){return i()},set ref(e){i(e)},children:(e,t)=>{!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=ic();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","data-testid":"play-prev-chapter-icon",role:"img",...i}))),ji(e,n)}(e,{})},$$slots:{default:!0}}),gi()}var ac=Di('<span class="gutter svelte-et3q1q"><span><!></span></span>'),oc={hash:"svelte-et3q1q",code:".gutter.svelte-et3q1q {--gutterWidth: 32px;--gutterHeight: 12px;--togglerWidth: 18px;--togglerHeight: 18px;--togglerGap: calc(var(--togglerWidth) / 6);position:relative;width:var(--gutterWidth);height:var(--gutterHeight);background-color:rgba(255, 255, 255, 0.3);border-radius:50px;}.toggler.svelte-et3q1q {position:absolute;top:calc(((var(--togglerHeight) - var(--gutterHeight)) / 2) * -1);left:0;display:flex;align-items:center;justify-content:center;width:var(--togglerWidth);height:var(--togglerHeight);background-color:rgba(98, 99, 100, 1);border-radius:50%;transform:translateX(calc(var(--togglerGap) * -1));transition-property:background-color, transform;transition-duration:0.2s;transition-timing-function:ease;}.toggler.enabled.svelte-et3q1q {background-color:var(--toggle-color-autoplay-on);transform:translateX(calc(var(--gutterWidth) - var(--togglerWidth) + var(--togglerGap)));}"};function rc(e,t){hi(t,!0),bn(e,oc);let[i,n]=ca(),a=()=>ua(s,"$autoplayNextEnabled$",i),o=ma(t,"ref",15,void 0),r=qa(),s=r.ui.autoplayNextEnabled$,l=r.actions.internal.setAutoplayNextEnabled;Hs(e,{click:()=>{l(!a(),!0)},get ref(){return o()},set ref(e){o(e)},children:(e,t)=>{var i=ac(),n=Re(i);let o;var r=Re(n),s=e=>{Gu(e,{width:"14",height:"14",fill:"#000"})},l=e=>{Yu(e,{width:"14",height:"14",fill:"#000"})};Ji(r,(e=>{a()?e(s):e(l,!1)})),Ce(n),Ce(i),Bt((e=>o=$n(n,1,"toggler svelte-et3q1q",null,o,e)),[()=>({enabled:a()})]),ji(e,i)},$$slots:{default:!0}}),gi(),n()}var sc=zi('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M16.726 4.845C16.187 4.8 15.496 4.8 14.5 4.8H7.9a.9.9 0 1 1 0-1.8h6.639c.947 0 1.713 0 2.333.05.64.053 1.204.163 1.726.43a4.4 4.4 0 0 1 1.923 1.922c.266.523.377 1.087.429 1.726.05.62.05 1.386.05 2.334v5.076c0 .948 0 1.714-.05 2.334-.052.64-.163 1.203-.43 1.726a4.4 4.4 0 0 1-1.922 1.922c-.522.267-1.086.377-1.726.43-.62.05-1.386.05-2.333.05H7.9a.9.9 0 1 1 0-1.8h6.6c.995 0 1.687 0 2.226-.045.528-.043.828-.123 1.055-.238a2.6 2.6 0 0 0 1.136-1.137c.115-.226.195-.527.239-1.055.044-.538.044-1.23.044-2.225v-5c0-.995 0-1.687-.044-2.226-.043-.527-.124-.828-.239-1.054a2.6 2.6 0 0 0-1.136-1.137c-.227-.115-.527-.195-1.055-.238" clip-rule="evenodd"></path><path fill="var(--btn-color, #fff)" d="M7.76 11.169V8.908c0-.708.704-1.143 1.252-.774l4.594 3.093c.525.353.525 1.193 0 1.546l-4.594 3.093c-.548.369-1.252-.066-1.252-.774v-2.261l-4.508 3.035C2.704 16.235 2 15.8 2 15.091V8.908c0-.708.704-1.143 1.252-.774z"></path></svg>');function lc(e,t){hi(t,!0);let i=ma(t,"ref",15,void 0),n=ma(t,"hidden",3,!1),a=ma(t,"disabled",3,!1),o=Io("tooltip_interactive_seek"),r=re((()=>n()?"hidden":""));Hs(e,{get className(){return Ct(r)},testId:"btn-seek-to-interactive",ariaLabel:o,get disabled(){return a()},get click(){return t.click},get ref(){return i()},set ref(e){i(e)},children:(e,t)=>{!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=sc();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true","data-testid":"seek-to-interactive-icon",role:"img",...i}))),ji(e,n)}(e,{})},$$slots:{default:!0}}),gi()}var dc=zi('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M16.777 3h1.419c.31 0 .596 0 .834.02.258.02.539.068.817.21.397.2.72.523.923.918.141.277.19.557.21.814.02.237.02.521.02.83V7.19c0 .31 0 .594-.02.831-.02.256-.069.537-.21.813a2.1 2.1 0 0 1-.923.92c-.278.14-.56.188-.817.21-.238.019-.524.019-.834.019h-1.419c-.31 0-.596 0-.834-.02a2.15 2.15 0 0 1-.817-.21 2.1 2.1 0 0 1-.923-.919 2.1 2.1 0 0 1-.21-.813 8 8 0 0 1-.02-.63l-2.198-.002c-.495-.001-.81 0-1.05.018-.23.019-.309.05-.343.067a.8.8 0 0 0-.352.35c-.017.034-.049.113-.068.341-.02.24-.02.554-.02 1.046v5.57c0 .49 0 .804.02 1.043.019.228.05.306.068.34.077.15.2.273.35.35.035.017.113.049.342.067.24.02.555.021 1.048.022l2.203.003a8 8 0 0 1 .02-.627c.02-.256.069-.537.21-.813.203-.396.526-.718.923-.92.278-.14.56-.189.817-.21.238-.019.524-.019.834-.019h1.419c.31 0 .596 0 .834.02.258.02.539.068.817.21.397.201.72.523.923.919.141.276.19.557.21.813.02.237.02.522.02.831v1.397c0 .31 0 .594-.02.831-.02.256-.069.537-.21.814a2.1 2.1 0 0 1-.923.919c-.278.14-.56.189-.817.21-.238.019-.524.019-.834.019h-1.419c-.31 0-.596 0-.834-.02a2.15 2.15 0 0 1-.817-.21 2.1 2.1 0 0 1-.923-.918 2.1 2.1 0 0 1-.21-.814 8 8 0 0 1-.02-.63l-2.24-.002c-.449 0-.839-.001-1.16-.028-.341-.028-.684-.09-1.016-.259a2.6 2.6 0 0 1-1.14-1.137c-.17-.33-.231-.672-.259-1.011-.026-.321-.026-.71-.026-1.156v-1.921H2.905A.903.903 0 0 1 2 11.992c0-.498.405-.901.905-.901h5.227V9.177c0-.448 0-.837.026-1.159.028-.34.09-.682.26-1.013a2.6 2.6 0 0 1 1.144-1.138c.332-.168.676-.23 1.017-.257.323-.025.714-.025 1.164-.024l2.23.003a8 8 0 0 1 .02-.627c.02-.257.069-.537.21-.814.203-.395.526-.717.923-.919.278-.14.56-.189.817-.21C16.18 3 16.467 3 16.777 3m-.833 1.837a1 1 0 0 1 .146-.02 10 10 0 0 1 .72-.014h1.354c.353 0 .563 0 .719.013a1 1 0 0 1 .146.021.3.3 0 0 1 .126.126 1 1 0 0 1 .021.145c.013.156.014.365.014.716v1.334c0 .352 0 .561-.014.716a1 1 0 0 1-.02.146.3.3 0 0 1-.127.125 1 1 0 0 1-.146.022c-.156.012-.366.013-.719.013H16.81c-.353 0-.563 0-.719-.013a1 1 0 0 1-.146-.022.3.3 0 0 1-.126-.125 1 1 0 0 1-.021-.146 10 10 0 0 1-.014-.716V5.824c0-.351.001-.56.014-.716a1 1 0 0 1 .021-.145.3.3 0 0 1 .126-.126Zm0 11.018a1 1 0 0 1 .146-.022c.156-.012.366-.013.72-.013h1.354c.353 0 .563 0 .719.013a1 1 0 0 1 .146.022.3.3 0 0 1 .126.125 1 1 0 0 1 .021.146c.013.155.014.364.014.716v1.334c0 .351 0 .56-.014.716a1 1 0 0 1-.02.145.3.3 0 0 1-.127.126 1 1 0 0 1-.146.02c-.156.014-.366.014-.719.014H16.81c-.353 0-.563 0-.719-.013a1 1 0 0 1-.146-.021.3.3 0 0 1-.126-.126 1 1 0 0 1-.021-.145 10 10 0 0 1-.014-.716v-1.334c0-.352.001-.561.014-.716a1 1 0 0 1 .021-.146.3.3 0 0 1 .126-.125Z" clip-rule="evenodd"></path><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M15.2 5.899v1.203c0 .594 0 .892.115 1.119.102.2.265.362.464.463.227.116.525.116 1.12.116H18.1c.595 0 .892 0 1.12-.116.199-.101.361-.264.463-.463.116-.227.116-.525.116-1.12V5.9c0-.595 0-.892-.116-1.12a1.06 1.06 0 0 0-.464-.463c-.227-.116-.524-.116-1.119-.116h-1.203c-.594 0-.892 0-1.119.116-.2.102-.362.264-.464.464-.115.227-.115.524-.115 1.119Zm-.051 11.03v1.143c0 .605 0 .908.118 1.139.103.203.268.368.472.472.23.117.533.117 1.138.117H18.1c.605 0 .907 0 1.138-.117a1.08 1.08 0 0 0 .472-.472c.118-.231.118-.534.118-1.139v-1.144c0-.605 0-.907-.118-1.138a1.08 1.08 0 0 0-.472-.472c-.231-.118-.534-.118-1.138-.118h-1.224c-.605 0-.907 0-1.138.118a1.08 1.08 0 0 0-.472.472c-.118.23-.118.533-.118 1.138Z" class="_closed" clip-rule="evenodd"></path></svg>');var uc={hash:"svelte-17ceof5",code:'svg[data-testid="graph-open-icon"] ._closed {visibility:hidden;opacity:0;}'};function cc(e,t){bn(e,uc);let i=ma(t,"isOpened",3,!1),n=re((()=>i()?"graph-close-icon":"graph-open-icon"));!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=dc();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true",role:"img",...i}))),ji(e,n)}(e,{get"data-testid"(){return Ct(n)}})}function pc(e,t){hi(t,!0);let i=ma(t,"ref",15,void 0),n=ma(t,"hidden",3,!1),a=ma(t,"disabled",3,!1),o=ma(t,"graphIsOpened",3,!1),r=qa().ui.t,s=re((()=>o()?r("tooltip_interactive_graph_on"):r("tooltip_interactive_graph_off"))),l=re((()=>n()?"hidden":""));Hs(e,{get className(){return Ct(l)},testId:"btn-graph",get disabled(){return a()},get ariaLabel(){return Ct(s)},get click(){return t.click},get ref(){return i()},set ref(e){i(e)},children:(e,t)=>{let i=re((()=>!!o()));cc(e,{get isOpened(){return Ct(i)}})},$$slots:{default:!0}}),gi()}function vc(e,t){hi(t,!0);let[i,n]=ca(),a=()=>ua(d,"$playbackState$",i),o=ma(t,"isMobile",3,!1),r=ma(t,"isLiveActive",3,!1),s=ma(t,"ariaLabel",3,""),l=qa(),d=l.state.playbackState$,u=l.actions.internal.switchToActiveLive,c=l.actions.internal.togglePlay,p=re((()=>()=>{r()?a()===h.PlaybackState.PAUSED&&c():u()})),v=re((()=>o()?"":"btn--live btn-full-opacity")),g=re((()=>r()?"btn-live":"btn-live-offset")),f=re((()=>r()&&a()===h.PlaybackState.PLAYING));Hs(e,{get className(){return Ct(v)},get testId(){return Ct(g)},get disabled(){return Ct(f)},get ariaLabel(){return s()},get click(){return Ct(p)},children:(e,t)=>{pr(e,{get isActive(){return r()}})},$$slots:{default:!0}}),gi(),n()}var hc=Di('<div class="icon icon-error-stub"><div class="inner"></div></div>'),gc=Di('<img class="icon" aria-hidden="true">');function fc(e,t){let i=te(!1),n=()=>{ne(i,!0)};var a=Hi(),o=Be(a),r=e=>{ji(e,hc())},s=e=>{var i=gc();Bt((()=>Ln(i,"src",t.icon))),Vi("error",i,n),Li(i),ji(e,i)};Ji(o,(e=>{Ct(i)?e(r):e(s,!1)})),ji(e,a)}var mc=100,bc=200,yc=300,_c=400,wc=500,xc=600,kc=700,$c=800,Sc=Di('<div><!> <div class="controls svelte-1iedtj3"><div class="controls-left svelte-1iedtj3"><!> <!> <!></div> <div class="controls-right svelte-1iedtj3"></div></div></div> <!>',1),Cc={hash:"svelte-1iedtj3",code:".wrapper-bottom.svelte-1iedtj3 {pointer-events:none;position:absolute;z-index:var(--controls-container-z-index);width:100%;bottom:0;left:0;height:var(--controls-gradient-height);background:var(--controls-gradient);transition:transform var(--controls-transition-duration) var(--controls-transition-fn);display:flex;flex-direction:column;justify-content:flex-end;box-sizing:border-box;}.wrapper-bottom.svelte-1iedtj3 > :where(.svelte-1iedtj3) {pointer-events:auto;}.controls.svelte-1iedtj3 {width:100%;display:flex;align-items:center;justify-content:space-between;height:var(--controls-height);white-space:nowrap;font-size:13px;transition:transform var(--controls-transition-duration) var(--controls-transition-fn);will-change:transform;padding:0 8px 4px;box-sizing:border-box;}.controls-left.svelte-1iedtj3, .controls-right.svelte-1iedtj3 {display:flex;align-content:center;}.controls-left.svelte-1iedtj3 {flex-grow:1;min-width:0;overflow:hidden;}.controls-left.svelte-1iedtj3 > *:not(:first-child), .controls-right.svelte-1iedtj3 > * {margin-left:var(--controls-desktop-item-margin-left);}.controls-hidden.svelte-1iedtj3 {visibility:visible; /* if hidden then slider will lose focus (if was focused) */transform:translateY(100%);}.wrapper-bottom.no-smooth.svelte-1iedtj3 {transition:none;}"};function Ac(e,t){hi(t,!0),bn(e,Cc);let[i,n]=ca(),a=()=>ua(Se,"$disabledControls$",i),o=()=>ua(de,"$playbackState$",i),r=()=>ua(pe,"$isEnded$",i),s=()=>ua(qe,"$currentGridType$",i),l=()=>ua(ve,"$isLive$",i),d=()=>ua(xe,"$chromecastState$",i),u=()=>ua(fe,"$isPictureInPictureActive",i),c=()=>ua(me,"$pictureInPictureType$",i),p=()=>ua(ze,"$playerSize",i),v=()=>ua(ge,"$isRewindableLive$",i),f=()=>ua(it,"$graphIsOpened$",i),m=()=>ua(De,"$isFullscreen",i),b=()=>ua(Ct(Kt),"$prevButton",i),y=()=>ua(Ct(Gt),"$replayButton",i),_=()=>ua(Ct(Zt),"$playButton",i),w=()=>ua(Ct(Yt),"$nextButton",i),x=()=>ua(Ct(Xt),"$playPrevChapterButton",i),k=()=>ua(Ct(Jt),"$seekToInteractiveButton",i),$=()=>ua(Ct(ei),"$interactiveGraphButton",i),S=()=>ua(Ct(ti),"$liveButton",i),C=()=>ua(Ct(ii),"$time",i),A=()=>ua(Ct(ni),"$episodes",i),T=()=>ua(Ct(ai),"$vkLogo",i),P=()=>ua(Ct(oi),"$volume",i),E=()=>ua(Ct(ri),"$subtitles",i),I=()=>ua(Ct(si),"$settings",i),L=()=>ua(Ct(li),"$context",i),M=()=>ua(Ct(di),"$fullscreen",i),V=()=>ua(Ct(ui),"$chromecast",i),N=()=>ua(He,"$additionalDesktopControlPanelRightButtons$",i),R=()=>ua(be,"$settingsMenuVisible",i),B=()=>ua(bi,"$settingButtonRef$",i),O=()=>ua(Ie,"$startedByKeyboard$",i),D=()=>ua(K,"$fakeIsPlaying$",i),z=()=>ua(le,"$position$",i),q=()=>ua(se,"$duration$",i),H=ma(t,"playerControlsWrapperRef",15,void 0),j=ma(t,"playerControlsRef",15,void 0),F=ma(t,"isAds",3,!1),U=ma(t,"logoTargetUrl",3,""),W=ma(t,"isOneVideoPlaylist",3,!1),Q=ma(t,"customFullscreenSupported",3,!0),{fakeIsPlaying$:K}=Ha(),G=qa(),Z=Ha(),Y=wa(),X=G.actions.internal.toggleMuted,J=G.actions.internal.togglePlay,ee=G.actions.internal.pause,ie=G.actions.internal.toggleSubtitle,ae=G.callbacks?.onAudioDoesNotExistHint,oe=G.callbacks?.onAudioDisabledHint,se=G.state.duration$,le=G.state.positionWithScrubbing$,de=G.state.playbackState$,ue=G.state.isAudioAvailable$,ce=G.state.isAudioDisabled,pe=G.state.isEnded$,ve=G.state.isLive$,he=G.state.isActiveLive$,ge=G.state.isRewindableLive$,{isActive$:fe,type$:me}=Z.pictureInPicture$,be=G.ui.settingsMenu.visible$,ye=G.ui.settingsMenu.openedByBtnKeyboard$,_e=G.ui.controls,we=G.actions.internal.getVideoEpisodes(),xe=G.state.chromecastState$,ke=G.state.availableSubtitlesList$,$e=G.state.currentSubtitle$,Se=_e.disabledControls$,Ae=G.ui.contextMenu.visible$,Te=G.ui.contextMenu.showContextMenuBtn$,Ee=G.ui.contextMenu.openedByBtnKeyboard$,Ie=G.ui.startedByKeyboard$,Le=G.ui.t,Me=G.ads.duration,Ve=G.ads.position,Ne=G.ads.playbackState,De=G.ui.isFullscreen,ze=G.ui.playerSize,qe=G.ui.currentGridType$,He=G.ui.additionalDesktopControlPanelRightButtons$,je=G.ui.autoplayNextEnabled$,Fe=G.actions.internal.getVideoElement,Ue=G.actions.internal.replayInteractive,We=G.actions.internal.prevVideoClick,Qe=G.actions.internal.nextVideoClick,Ke=G.state.isInteractive,Ge=G.state.isInteractiveTime$,Ze=G.state.showInteractiveGraph,Ye=G.state.showSeekToInteractive,Xe=G.state.showPlayPrevChapter,Je=G.state.showInteractiveTimeIndicator,et=G.state.playPrevChapterDisabledTooltip,tt=Z.seekToInteractiveDisabledTooltip$,it=Z.graphIsOpened$,nt=Y.features.interactiveResponsiveUi,at=re((()=>a().has("EPISODE_BUTTON"))),ot=re((()=>a().has("GRAPH_BUTTON"))),rt=re((()=>a().has("SEEK_TO_INTERACTIVE_BUTTON"))),st=re((()=>a().has("PLAY_BUTTON"))),lt=re((()=>a().has("REPLAY_BUTTON"))),dt=re((()=>a().has("PLAY_PREV_CHAPTER_BUTTON"))),ut=()=>G.actions.internal.toggleChromecast(),ct=re((()=>F()?"playing"===ua(Ne,"$adPlaybackState",i):o()===h.PlaybackState.PLAYING)),pt=re((()=>"off"!==ua($e,"$currentSubtitle$",i).value)),vt=re((()=>r()&&!F()||Ke)),ht=re((()=>nt?Ct(vt)&&nd(s(),"m"):Ct(vt))),gt=re((()=>!r()||Ke||F())),ft=re((()=>nd(s(),"m"))),mt=re((()=>t.showNextPrevButtons&&nd(s(),"m")&&!F()&&t.nextButtonActive)),bt=re((()=>t.showNextPrevButtons&&nd(s(),"m")&&!F()&&t.prevButtonActive)),yt=re((()=>!F()&&!!l())),_t=re((()=>d()!==h.ChromecastState.NOT_AVAILABLE&&!(u()&&1===c())&&nd(s(),"m")&&!Ke)),wt=re((()=>t.showAutoplayNext&&!W()&&nd(s(),"s"))),xt=re((()=>ua(ke,"$availableSubtitlesList$",i).length>0&&nd(s(),"m"))),kt=re((()=>ua(Ee,"$contextMenuOpenedByKeyboard$",i)||ua(Te,"$showContextMenuBtn$",i))),$t=re((()=>nd(s(),"s")&&!F())),St=re((()=>!t.logoHidden&&!F())),Tt=re((()=>Y.features.fullscreen&&(t.logoHidden||nd(s(),nt?"xs":"s"))&&!(u()&&1===c())&&(!Ke||Q()))),Pt=re((()=>(!l()||F())&&!(Y.features.interactiveHideTime&&Ke))),Et=re((()=>p().width>100)),It=re((()=>Ze&&nd(s(),"m"))),Lt=re((()=>nt?Ye&&nd(s(),"s"):Ye)),Mt=re((()=>nt?Xe&&nd(s(),"s"):Xe)),Nt=re((()=>!F()&&!l()&&!!we?.length&&Ct(ft)&&!Ct(at))),Rt=re((()=>!v()||!!ua(he,"$isActiveLive$",i))),Ot=re((()=>f()?Le("tooltip_interactive_graph_on"):Le("tooltip_interactive_graph_off"))),Dt=re((()=>ua(Ae,"$contextMenuVisible$",i)?Le("aria_label_context_menu_close"):Le("aria_label_context_menu_open"))),zt=re((()=>{return e=Ct(Rt),t=o(),e?t&&t===h.PlaybackState.PAUSED?Le("tooltip_play"):"":Le("tooltip_live");var e,t})),qt=re((()=>"vk_video"===Y.logoType?Le("tooltip_vk_video_logo"):Le("tooltip_vk_logo"))),Ht=re((()=>Ct(pt)?Le("tooltip_subtitles_on"):Le("tooltip_subtitles_off"))),jt=re((()=>m()?Le("tooltip_fullscreen_on"):Le("tooltip_fullscreen_off"))),Ft=re((()=>d()===h.ChromecastState.CONNECTED?Le("tooltip_chromecast_on"):Le("tooltip_chromecast_off"))),Ut=re((()=>ua(je,"$autoplayNextEnabled",i)?Le("tooltip_autoplay_on"):Le("tooltip_autoplay_off"))),Wt=te(0),Qt=Pe({}),Kt=re((()=>_e.prevButton)),Gt=re((()=>_e.replayButton)),Zt=re((()=>_e.playButton)),Yt=re((()=>_e.nextButton)),Xt=re((()=>_e.playPrevChapterButton)),Jt=re((()=>_e.seekToInteractiveButton)),ei=re((()=>_e.interactiveGraphButton)),ti=re((()=>_e.liveButton)),ii=re((()=>_e.time)),ni=re((()=>_e.episodes)),ai=re((()=>_e.vkLogo)),oi=re((()=>_e.volume)),ri=re((()=>_e.subtitles)),si=re((()=>_e.settings)),li=re((()=>_e.context)),di=re((()=>_e.fullscreen)),ui=re((()=>_e.chromecast)),ci=re((()=>({prevButton:b()?b().right-b().left:0,replayButton:y()?y().right-y().left:0,playButton:_()?_().right-_().left:0,nextButton:w()?w().right-w().left:0,playPrevChapterButton:x()?x().right-x().left:0,seekToInteractiveButton:k()?k().right-k().left:0,interactiveGraphButton:$()?$().right-$().left:0,liveButton:S()?S().right-S().left:0,time:C()?C().right-C().left:0,episodes:A()?A().right-A().left:0,vkLogo:T()?T().right-T().left:0,volume:P()?P().right-P().left:0,subtitles:E()?E().right-E().left:0,settings:I()?I().right-I().left:0,context:L()?L().right-L().left:0,fullscreen:M()?M().right-M().left:0,chromecast:V()?V().right-V().left:0,additionalButtons:N().length?N().reduce((e=>[...e,40]),[]):[]}))),pi=te(0);Vt((()=>{(!Ct(pi)||Ct(pi)<Ct(ci).time)&&At((()=>ne(pi,Pe(Ct(ci).time))))}));let vi=te(!1);Vt((()=>{let e=0;Ct(Nt)&&(e=nd(s(),"xl")?Ct(ci).time:60);let t=Ct(ci).prevButton+Ct(ci).playButton+Ct(ci).nextButton+Ct(ci).seekToInteractiveButton+Ct(ci).interactiveGraphButton+Ct(ci).liveButton+Ct(pi)+e;ne(vi,Pe(Ct(Pt)&&Ct(Wt)>=t))}));let fi=re((()=>Ct(vi)&&nd(s(),"m"))),mi=(0,g.debounceFn)(yu,260);Vt((()=>{p(),ua(Ge,"$isInteractiveTime$",i),mi(Fe(),_e,Qt,t.showControls)}));let bi=oa();function yi(){Is({isAudioDisabled:ce,audioDisabledHintCallback:oe,isAudioAvailable:ua(ue,"$isAudioAvailable$",i),audioIsNotExistHintCallback:ae})&&X()}Vt((()=>{R(),B()&&At((()=>kr(B(),R(),ye)))})),Vt((()=>{O(),At((()=>_u(Ie,O(),undefined)))}));let _i=Ke?Ue:J,wi=re((()=>null!==D())),xi=re((()=>Ct(wi)?D():Ct(ct))),ki=re((()=>Ct(xi)?Le("tooltip_pause"):Le("tooltip_play"))),$i=Le("tooltip_episodes"),Si=re((()=>Ct(bt)?{id:"prevButton",type:"desktop-control-panel-left",weight:Tu,buttonComponent:qu,buttonComponentProps:{disabled:!t.prevButtonActive,type:"prev",click:We.bind(null,!0)},tooltipEnabled:!G.callbacks?.uiInfo?.onPrevButtonMouseEnter&&!G.callbacks?.uiInfo?.onPrevButtonMouseLeave,mouseEnter:()=>{G.callbacks?.uiInfo?.onPrevButtonMouseEnter?.(bu(Fe(),Qt,"prevButton",t.showControls))},mouseLeave:()=>{G.callbacks?.uiInfo?.onPrevButtonMouseLeave?.(bu(Fe(),Qt,"prevButton",t.showControls))},tooltipText:Le("tooltip_previous"),disabled:!t.prevButtonActive}:void 0)),Ci=re((()=>Ct(ht)?{id:"replayButton",type:"desktop-control-panel-left",weight:Pu,buttonComponent:Qu,buttonComponentProps:{disabled:Ct(lt),click:_i},tooltipText:Le("tooltip_restart"),disabled:Ct(lt)}:void 0)),Ai=re((()=>Ct(gt)?{id:"playButton",type:"desktop-control-panel-left",weight:Eu,buttonComponent:tc,buttonComponentProps:{disabled:Ct(st),isPlaying:Ct(ct),click:J},tooltipText:Ct(ki),disabled:Ct(st)}:void 0)),Ti=re((()=>Ct(mt)?{id:"nextButton",type:"desktop-control-panel-left",weight:Iu,buttonComponent:qu,buttonComponentProps:{disabled:!t.nextButtonActive,type:"next",click:Qe.bind(null,!0)},tooltipEnabled:!G.callbacks?.uiInfo?.onNextButtonMouseEnter&&!G.callbacks?.uiInfo?.onNextButtonMouseLeave,mouseEnter:()=>{G.callbacks?.uiInfo?.onNextButtonMouseEnter?.(bu(Fe(),Qt,"nextButton",t.showControls))},mouseLeave:()=>{G.callbacks?.uiInfo?.onNextButtonMouseLeave?.(bu(Fe(),Qt,"nextButton",t.showControls))},tooltipText:Le("tooltip_next"),disabled:!t.nextButtonActive}:void 0)),Pi=re((()=>Ke&&Ct(Mt)?{id:"playPrevChapterButton",type:"desktop-control-panel-left",weight:Lu,buttonComponent:nc,buttonComponentProps:{disabled:Ct(dt),click:t.playPrevChapter},tooltipText:Le("tooltip_interactive_go_back"),disabledTooltipContent:Le(et),disabled:Ct(dt)}:void 0)),Ei=re((()=>Ke&&Ct(Lt)?{id:"seekToInteractiveButton",type:"desktop-control-panel-left",weight:Mu,buttonComponent:lc,buttonComponentProps:{disabled:Ct(rt),click:t.seekToInteractive},tooltipText:Le("tooltip_interactive_seek"),disabled:Ct(rt),disabledTooltipContent:Le(ua(tt,"$seekToInteractiveDisabledTooltip$",i))}:void 0)),Ii=re((()=>Ke&&Ct(It)?{id:"interactiveGraphButton",type:"desktop-control-panel-left",weight:Vu,buttonComponent:pc,buttonComponentProps:{disabled:Ct(ot),click:it.toggle,graphIsOpened:f()},tooltipText:Ct(Ot)}:void 0)),Li=re((()=>Ct(yt)?{id:"liveButton",type:"desktop-control-panel-left",weight:Nu,buttonComponent:vc,buttonComponentProps:{isLiveActive:Ct(Rt),ariaLabel:Ct(zt)},tooltipText:Ct(zt),disabled:Ct(Rt)&&o()===h.PlaybackState.PLAYING}:void 0)),Mi=re((()=>[Ct(Si),Ct(Ci),Ct(Ai),Ct(Ti),Ct(Pi),Ct(Ei),Ct(Ii),Ct(Li)].filter((e=>!!e)).sort(qr))),Vi=re((()=>Ct(St)?{id:"vkLogo",type:"desktop-control-panel-right",weight:mc,buttonComponent:md,buttonComponentProps:{targetUrl:U(),logoClickable:t.logoClickable,click:ee},tooltipText:Ct(qt),disabledTooltipContent:"",disabled:!t.logoClickable}:void 0)),Ni=re((()=>Ct(wt)?{id:"autoplayNext",type:"desktop-control-panel-right",weight:bc,buttonComponent:rc,tooltipText:Ct(Ut)}:void 0)),Ri=re((()=>({id:"volume",type:"desktop-control-panel-right",weight:yc,buttonComponent:ld,buttonComponentProps:{click:yi}}))),Bi=re((()=>Ct(xt)?{id:"subtitles",type:"desktop-control-panel-right",weight:_c,buttonComponent:kl,buttonComponentProps:{isSubtitlesEnabled:Ct(pt),click:ie},tooltipText:Ct(Ht)}:void 0)),Oi=re((()=>Ct($t)?{id:"settings",type:"desktop-control-panel-right",weight:wc,buttonComponent:yl,buttonComponentProps:{ref$:bi},tooltipText:R()?void 0:Le("tooltip_settings_off")}:void 0)),Di=re((()=>Y.features.contextMenuButton?{id:"context",type:"desktop-control-panel-right",weight:xc,buttonComponent:xu,buttonComponentProps:{click:t.toggleFullscreen,ariaLabel:Ct(Dt)},className:Ct(kt)?"":"out-of-view",tooltipText:Ct(Dt)}:void 0)),zi=re((()=>Ct(Tt)?{id:"fullscreen",type:"desktop-control-panel-right",weight:kc,buttonComponent:pd,buttonComponentProps:{isFullscreen:m(),click:t.toggleFullscreen},tooltipText:Ct(jt)}:void 0)),qi=re((()=>Ct(_t)?{id:"chromecast",type:"desktop-control-panel-right",weight:$c,buttonComponent:wd,buttonComponentProps:{state:d(),click:ut},tooltipText:Ct(Ft)}:void 0)),Fi=re((()=>[Ct(Vi),Ct(Ni),Ct(Ri),Ct(Bi),Ct(Oi),Ct(Di),Ct(zi),Ct(qi),...N()].filter((e=>!!e)).sort(qr)));var Ui=Sc(),Wi=Be(Ui);let Qi;var Ki=Re(Wi);let Gi=re((()=>!Ct(Et)));zd(Ki,{get isHidden(){return Ct(Gi)},get isAds(){return F()},get canRewindLive(){return t.canRewindLive},get isRewindableLive(){return v()},get ref(){return Qt.timeline},set ref(e){Qt.timeline=e}});var Zi=Oe(Ki,2),Yi=Re(Zi),Xi=Re(Yi);rn(Xi,17,(()=>Ct(Mi)),(e=>e.id),((e,t)=>{Au(e,{get buttonComponent(){return Ct(t).buttonComponent},get buttonComponentProps(){return Ct(t).buttonComponentProps},get tooltipText(){return Ct(t).tooltipText},get disabledTooltipContent(){return Ct(t).disabledTooltipContent},get disabled(){return Ct(t).disabled},get className(){return Ct(t).className},get tooltipEnabled(){return Ct(t).tooltipEnabled},get mouseEnter(){return Ct(t).mouseEnter},get mouseLeave(){return Ct(t).mouseLeave},get ref(){return Qt[Ct(t).id]},set ref(e){Qt[Ct(t).id]=e}})}));var en=Oe(Xi,2),tn=e=>{let t=re((()=>F()?ua(Ve,"$adPosition",i):z())),n=re((()=>F()?ua(Me,"$adDuration",i):q()));Al(e,{isMobile:!1,get showDuration(){return Ct(fi)},get position(){return Ct(t)},get duration(){return Ct(n)},get ref(){return Qt.time},set ref(e){Qt.time=e}})};Ji(en,(e=>{Ct(Pt)&&e(tn)}));var nn=Oe(en,2);let an=re((()=>!Ct(Nt)));zl(nn,{className:"w-max",get disabled(){return Ct(an)},tooltipContent:$i,get ref(){return Qt.episodes},set ref(e){Qt.episodes=e},children:(e,t)=>{var i=Hi(),n=Be(i),a=e=>{Kd(e,{get position(){return z()},get duration(){return q()},timeCodes:we})};Ji(n,(e=>{Ct(Nt)&&e(a)})),ji(e,i)},$$slots:{default:!0}}),Ce(Yi);var on=Oe(Yi,2);rn(on,21,(()=>Ct(Fi)),(e=>e.id),((e,t)=>{var i=Hi(),n=Be(i),a=e=>{Au(e,{get buttonComponent(){return Ct(t).buttonComponent},get buttonComponentProps(){return Ct(t).buttonComponentProps},get tooltipText(){return Ct(t).tooltipText},get disabledTooltipContent(){return Ct(t).disabledTooltipContent},get disabled(){return Ct(t).disabled},get className(){return Ct(t).className},get ref(){return Qt[Ct(t).id]},set ref(e){Qt[Ct(t).id]=e}})},o=e=>{let i=re((()=>!!Ct(t).disabled));!function(e,t){hi(t,!0);let i=ma(t,"disabled",3,!1),n=ma(t,"onClick",3,g.noop),a=ma(t,"ref",15),o=re((()=>n()===g.noop)),r=re((()=>Ct(o)||i())),s=re((()=>Ct(o)?"btn-full-opacity":""));zl(e,{get disabled(){return Ct(r)},get tooltipContent(){return t.tooltipText},get disabledTooltipContent(){return t.disabledTooltipContent},width:40,get ref(){return a()},set ref(e){a(e)},children:(e,i)=>{let a=re((()=>t.testId??t.id));Hs(e,{get className(){return Ct(s)},get ariaLabel(){return t.ariaLabel},get click(){return n()},get disabled(){return Ct(r)},get testId(){return Ct(a)},children:(e,i)=>{fc(e,{get icon(){return t.icon}})},$$slots:{default:!0}})},$$slots:{default:!0}}),gi()}(e,{get id(){return Ct(t).id},get testId(){return Ct(t).testId},get icon(){return Ct(t).icon},get ariaLabel(){return Ct(t).ariaLabel},get tooltipText(){return Ct(t).tooltipText},get disabledTooltipContent(){return Ct(t).disabledTooltipContent},get disabled(){return Ct(i)},get onClick(){return Ct(t).onClick},get ref(){return Qt[Ct(t).id]},set ref(e){Qt[Ct(t).id]=e}})};Ji(n,(e=>{(e=>!!e.buttonComponent)(Ct(t))?e(a):e(o,!1)})),ji(e,i)})),Ce(on),Ce(Zi),Yn(Zi,(e=>j(e)),(()=>j())),Ce(Wi),Yn(Wi,(e=>H(e)),(()=>H()));var sn=Oe(Wi,2),ln=e=>{Cu(e,{get ref(){return Qt.interactiveTimeIndicator},set ref(e){Qt.interactiveTimeIndicator=e}})};Ji(sn,(e=>{Je&&e(ln)})),Bt((e=>Qi=$n(Wi,1,"wrapper-bottom svelte-1iedtj3",null,Qi,e)),[()=>({hidden:t.bottomHidden,"controls-hidden":!t.showControls,"no-smooth":t.bottomNoSmooth})]),Gn(Yi,"clientWidth",(e=>ne(Wt,e))),ji(e,Ui),gi(),n()}var Tc=Di('<div class="icon icon-error-stub svelte-167ouw6"><div class="inner svelte-167ouw6"></div></div>'),Pc=Di('<img class="icon svelte-167ouw6" aria-hidden="true">'),Ec={hash:"svelte-167ouw6",code:".icon.svelte-167ouw6 {width:24px !important;height:24px !important;}.inner.svelte-167ouw6 {width:16px;height:16px;background-color:var(--white);}"};var Ic=zi('<svg><!><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path fill="var(--btn-color, #fff)" d="M8.695 8.105 5.301 4.71a1 1 0 0 1 1.414-1.415L20.7 17.285a1 1 0 0 1-1.414 1.415L16 15.41V20a1 1 0 0 1-1 1c-.641 0-1.258-.25-1.72-.695L7.79 15H5a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2h2.765zm2.88-2.77 1.704-1.642A2.48 2.48 0 0 1 15 3a1 1 0 0 1 1 1v5.76l-4.426-4.426Z"></path></g></svg>');function Lc(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Ic();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true","data-testid":"muted-icon",role:"img",...i}))),ji(e,n)}var Mc=Di('<span class="text svelte-6gmlbk"> </span>'),Vc=Di('<div aria-hidden="true"><!> <!></div>'),Nc={hash:"svelte-6gmlbk",code:".container.svelte-6gmlbk {display:flex;align-items:center;}.expanded.svelte-6gmlbk {background-color:rgba(0, 0, 0, 0.56);border-radius:6px;}.text.svelte-6gmlbk {font-size:15px;margin-left:8px;}"};function Rc(e,t){hi(t,!0),bn(e,Nc);let i=ma(t,"muted",3,!1),n=ma(t,"expanded",3,!1),a=ma(t,"click",3,g.noop),o=ma(t,"ref",15,void 0),r=qa().ui.t,s=re((()=>i()?r("tooltip_volume"):r("tooltip_volume_muted"))),l=re((()=>n()?El:Lc)),d=re((()=>n()?"btn-mobile-unmuted":"btn-mobile-muted"));Hs(e,{get testId(){return Ct(d)},get click(){return a()},get ariaLabel(){return Ct(s)},get ref(){return o()},set ref(e){o(e)},children:(e,t)=>{var i=Vc();let a,o=re((()=>Ct(l)));var s=Re(i);gn(s,(()=>Ct(o)),((e,t)=>{t(e,{})}));var d=Oe(s,2),u=e=>{var t=Mc(),i=Re(t,!0);Ce(t),Bt((e=>Wi(i,e)),[()=>r("mobile_unmute")]),ji(e,t)};Ji(d,(e=>{n()&&e(u)})),Ce(i),Bt((e=>a=$n(i,1,"container svelte-6gmlbk",null,a,e)),[()=>({expanded:n()})]),ji(e,i)},$$slots:{default:!0}}),gi()}var Bc=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M7.662 4h6.676c.808 0 1.469 0 2.006.044.556.045 1.058.142 1.526.381a3.9 3.9 0 0 1 1.705 1.704c.239.47.336.971.381 1.527C20 8.193 20 8.854 20 9.662V11.1a.9.9 0 0 1-1.8 0V9.7c0-.855 0-1.442-.038-1.897-.036-.445-.103-.684-.19-.856a2.1 2.1 0 0 0-.919-.918c-.172-.088-.411-.155-.856-.191C15.742 5.8 15.155 5.8 14.3 5.8H7.7c-.855 0-1.442 0-1.897.038-.445.036-.684.103-.856.19a2.1 2.1 0 0 0-.918.919c-.088.172-.155.411-.191.856C3.8 8.258 3.8 8.845 3.8 9.7v2.646c0 .855 0 1.442.038 1.897.036.445.103.683.19.856a2.1 2.1 0 0 0 .919.918c.172.088.411.155.856.191.455.037 1.042.038 1.897.038h2.4a.9.9 0 0 1 0 1.8H7.662c-.808 0-1.469 0-2.006-.044-.556-.045-1.058-.142-1.527-.381a3.9 3.9 0 0 1-1.704-1.704c-.239-.47-.336-.972-.381-1.527C2 13.852 2 13.192 2 12.384V9.662c0-.808 0-1.469.044-2.006.045-.556.142-1.058.381-1.527A3.9 3.9 0 0 1 4.13 4.425c.47-.239.971-.336 1.527-.381C6.193 4 6.854 4 7.662 4M13 16.8c0-.98 0-1.47.19-1.845a1.75 1.75 0 0 1 .766-.764C14.33 14 14.82 14 15.8 14h3.4c.98 0 1.47 0 1.845.19.329.168.596.436.764.766.191.374.191.864.191 1.844v.4c0 .98 0 1.47-.19 1.845a1.75 1.75 0 0 1-.765.764C20.67 20 20.18 20 19.2 20h-3.4c-.98 0-1.47 0-1.845-.19a1.75 1.75 0 0 1-.764-.765C13 18.67 13 18.18 13 17.2z" clip-rule="evenodd"></path><path fill="var(--btn-color, #fff)" d="m11.643 12.37-.007-.006L9.073 9.8H10.1a.9.9 0 1 0 0-1.8H6.9a.9.9 0 0 0-.9.9v3.2a.9.9 0 0 0 1.8 0v-1.022l2.53 2.524.134.134a.9.9 0 0 0 1.272-1.272z" class="hidden-not-active"></path><path fill="var(--btn-color, #fff)" d="m6.357 9.63.007.006L8.927 12.2H7.9a.9.9 0 1 0 0 1.8h3.2a.9.9 0 0 0 .9-.9V9.9a.9.9 0 0 0-1.8 0v1.022L7.67 8.397l-.134-.133a.9.9 0 0 0-1.272 1.272z" class="hidden-active"></path></svg>');var Oc={hash:"svelte-tmam00",code:'svg[data-testid="pip-icon--active"] .hidden-active,\n  svg[data-testid="pip-icon"] .hidden-not-active {visibility:hidden;opacity:0;}'};function Dc(e,t){bn(e,Oc);let i=ma(t,"isActive",3,!1),n=re((()=>i()?"color: #2688EB;":"color: #fff;")),a=re((()=>i()?"pip-icon--active":"pip-icon"));!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Bc();let a;hn(Re(n),(()=>t.children??O)),Ae(3),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",role:"img",...i}))),ji(e,n)}(e,{get style(){return Ct(n)},get"data-testid"(){return Ct(a)}})}var zc=(e,t,i,n)=>{Ct(t)&&i.onDisabledPlayPrevChapterClick(Ct(n))},qc=(e,t,i,n)=>{Ct(t)&&i.onDisabledSeekToInteractiveClick(Ct(n))},Hc=Di("<div><!></div>"),jc=Di("<div><!></div>"),Fc=Di("<div><!></div>"),Uc=Di("<!> <!> <!>",1),Wc=Di("<div></div> <div><!></div> <div><!> <!> <!> <!> <!> <!></div> <div><!> <!> <!> <!></div> <!>",1),Qc=Di("<div><!></div>"),Kc=Di('<div class="wrapper-middle svelte-1afsgkw"><!></div>'),Gc=Di("<!>  <!> <div><!></div>",1),Zc=Di('<div aria-hidden="true">·</div> <!>',1),Yc=Di("<!> <!> <div><div><div><!> <!> <!> <!> <!> <!></div> <!></div></div> <!>",1),Xc={hash:"svelte-1afsgkw",code:".wrapper-bottom.svelte-1afsgkw {pointer-events:none;position:absolute;z-index:var(--controls-container-z-index);width:100%;bottom:0;left:0;height:var(--controls-gradient-height);background:var(--controls-gradient);transition:transform var(--controls-transition-duration) var(--controls-transition-fn);display:flex;flex-direction:column;justify-content:flex-end;box-sizing:border-box;padding:0 4px 8px;}.wrapper-bottom.svelte-1afsgkw > :where(.svelte-1afsgkw) {pointer-events:auto;}.wrapper-bottom.ads-timeline-mobile.svelte-1afsgkw {height:9px;padding:0 4px 4px;}.wrapper-middle.svelte-1afsgkw {position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transition:opacity var(--controls-transition-duration);display:flex;align-items:center;z-index:var(--controls-container-z-index);}.wrapper-top-right.svelte-1afsgkw {position:absolute;top:4px;right:8px;transition:opacity var(--controls-transition-duration);display:flex;z-index:var(--controls-container-z-index);}.wrapper-top-left.svelte-1afsgkw {position:absolute;top:4px;left:8px;z-index:var(--controls-container-z-index);}.wrapper-middle-left.svelte-1afsgkw,\n  .wrapper-middle-left-second.svelte-1afsgkw,\n  .wrapper-middle-right.svelte-1afsgkw {position:absolute;top:50%;transform:translateY(-50%);height:44px;width:44px;border-radius:12px;background-color:rgba(0, 0, 0, 0.56);transition:opacity var(--controls-transition-duration);display:flex;align-items:center;justify-content:center;}.wrapper-middle-left.svelte-1afsgkw {left:12px;}.wrapper-middle-left-second.svelte-1afsgkw {left:64px;}.wrapper-middle-right.svelte-1afsgkw {right:12px;}.controls.svelte-1afsgkw {width:100%;display:flex;align-items:center;height:var(--controls-height);white-space:nowrap;font-size:13px;transition:transform var(--controls-transition-duration) var(--controls-transition-fn);will-change:transform;padding:0 4px;box-sizing:border-box;}.controls.svelte-1afsgkw > *:not(:first-child) {margin-left:8px;}.hidden.svelte-1afsgkw {visibility:hidden;opacity:0;}.controls-hidden.svelte-1afsgkw {visibility:visible; /* if hidden then slider will lose focus (if was focused) */transform:translateY(100%);}.wrapper-bottom.no-smooth.svelte-1afsgkw {transition:none;}.overlay-mobile.svelte-1afsgkw {position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, .3);pointer-events:none;transition:opacity var(--controls-transition-duration);}\n\n  @media screen and (orientation: portrait) {.wrapper-top-right.fullscreen.svelte-1afsgkw {top:16px;}.wrapper-top-left.fullscreen.svelte-1afsgkw {top:16px;}.controls-wrapper.fullscreen.svelte-1afsgkw {position:absolute;bottom:30px;width:calc(100% - 8px);}\n  }\n\n  @media screen and (orientation: landscape) {.wrapper-top-left.fullscreen.svelte-1afsgkw {top:12px;left:44px;}.wrapper-top-right.fullscreen.svelte-1afsgkw {top:12px;right:44px;}.wrapper-middle-left.fullscreen.svelte-1afsgkw {left:44px;}.wrapper-middle-left-second.fullscreen.svelte-1afsgkw {left:96px;}.wrapper-middle-right.fullscreen.svelte-1afsgkw {right:44px;}.controls-wrapper.fullscreen.svelte-1afsgkw {position:absolute;left:36px;right:36px;bottom:32px;width:calc(100% - 72px);}\n  }"};function Jc(e,t){hi(t,!0),bn(e,Xc);let[i,n]=ca(),a=()=>ua(_e,"$disabledControls$",i),o=()=>ua(Z,"$playbackState$",i),r=()=>ua(Se,"$adPlaybackState",i),s=()=>ua(J,"$isEnded$",i),l=()=>ua(Te,"$playerSize",i),d=()=>ua(se,"$scrubbingInProgress",i),u=()=>ua(be,"$chromecastState$",i),c=()=>ua(de,"$isPictureInPictureActive",i),p=()=>ua(ue,"$pictureInPictureType$",i),v=()=>ua(le,"$mobileNotReportControlHidden$",i),f=()=>ua(xe,"$currentGridType$",i),m=()=>ua(ee,"$isLive$",i),b=()=>ua(ve,"$settingsMenuVisible",i),y=()=>ua(oe,"$isRewindableLive$",i),_=()=>ua(Y,"$isAudioAvailable$",i),w=()=>ua($t,"$settingButtonRef$",i),x=()=>ua(Ae,"$isFullscreen",i),k=()=>ua(pe,"$mobileUnmuteButtonVisible",i),$=()=>ua(ie,"$muted$",i),S=()=>ua(Ee,"$additionalButtons$",i),C=()=>ua(je,"$graphIsOpened$",i),A=()=>ua($e,"$adPosition",i),T=()=>ua(ke,"$adDuration",i),P=()=>ua(G,"$position$",i),E=()=>ua(K,"$duration$",i),I=ma(t,"playerControlsWrapperRef",15,void 0),L=ma(t,"playerControlsRef",15,void 0),M=ma(t,"isAds",3,!1),V=ma(t,"logoTargetUrl",3,""),N=ma(t,"isOneVideoPlaylist",3,!1),R=ma(t,"customFullscreenSupported",3,!0),B=qa(),O=Ha(),D=wa(),z=B.actions.internal.toggleMuted,q=B.actions.internal.togglePlay,H=B.actions.internal.pause,j=B.actions.internal.prevVideoClick,F=B.actions.internal.nextVideoClick,U=B.callbacks?.onAudioDoesNotExistHint,W=B.callbacks?.onAudioDisabledHint,Q=B.playerPhase,K=B.state.duration$,G=B.state.positionWithScrubbing$,Z=B.state.playbackState$,Y=B.state.isAudioAvailable$,X=B.state.isAudioDisabled,J=B.state.isEnded$,ee=B.state.isLive$,ie=B.state.muted$,ae=B.state.isActiveLive$,oe=B.state.isRewindableLive$,se=B.ui.scrubbingInProgress,le=B.ui.mobileNotReportControlHidden$,{isActive$:de,type$:ue}=O.pictureInPicture$,ce=B.ui.mobileUnmuteButtonExpanded,pe=B.ui.mobileUnmuteButtonVisible,ve=B.ui.settingsMenu.visible$,he=B.ui.settingsMenu.openedByBtnKeyboard$,ge=B.ui.controls,fe=B.actions.internal.getVideoEpisodes(),me=B.webApi.pictureInPictureApi,be=B.state.chromecastState$,ye=B.state.crashed$,_e=ge.disabledControls$,we=B.ui.startedByKeyboard$,xe=B.ui.currentGridType$,ke=B.ads.duration,$e=B.ads.position,Se=B.ads.playbackState,Ae=B.ui.isFullscreen,Te=B.ui.playerSize,Ee=B.ui.additionalButtonsDeprecated$,Ie=B.actions.internal.getVideoElement,Le=B.actions.internal.replayInteractive,Me=B.state.isInteractive,Ve=B.state.isInteractiveTime$,Ne=B.state.showInteractiveGraph,De=B.state.showSeekToInteractive,ze=B.state.showPlayPrevChapter,qe=B.state.showInteractiveTimeIndicator,He=O.seekToInteractiveDisabledTooltip$,je=O.graphIsOpened$,Fe=re((()=>Io(B.state.playPrevChapterDisabledTooltip))),Ue=re((()=>Io(ua(He,"$seekToInteractiveDisabledTooltip$",i)))),We=re((()=>a().has("EPISODE_BUTTON"))),Qe=re((()=>a().has("GRAPH_BUTTON"))),Ke=re((()=>a().has("SEEK_TO_INTERACTIVE_BUTTON"))),Ge=re((()=>a().has("PLAY_BUTTON"))),Ze=re((()=>a().has("REPLAY_BUTTON"))),Ye=re((()=>a().has("PLAY_PREV_CHAPTER_BUTTON"))),Xe=re((()=>o()===h.PlaybackState.PLAYING)),Je=re((()=>"paused"===r())),et=re((()=>s()&&!M()&&!Me)),tt=re((()=>!s()||M())),it=re((()=>t.showNextPrevButtons&&!M()&&t.prevButtonActive)),nt=re((()=>t.showNextPrevButtons&&!M()&&t.nextButtonActive)),at=re((()=>l().width>300)),ot=re((()=>l().width>400)),rt=re(d),st=re((()=>!(u()===h.ChromecastState.NOT_AVAILABLE||c()&&1===p()||v()||Me))),lt=re((()=>"LiveWaitingStart"===ua(Q,"$playerPhase",i))),dt=re((()=>!!me&&u()!==h.ChromecastState.CONNECTED&&!v()&&(1===p()&&Ct(lt)||!Ct(lt))&&!Ct(rt)&&!Me)),ut=re((()=>!Ct(rt)&&nd(f(),"s"))),ct=re((()=>!t.logoHidden&&l().width>350)),pt=re((()=>D.features.fullscreen&&!(c()&&1===p())&&(!Me||R())&&!Ct(rt))),vt=re((()=>(!m()||M())&&l().width>260&&!Ct(rt)&&!(D.features.interactiveHideTime&&Me))),ht=re((()=>b()||t.showControls)),gt=re((()=>!M()&&!m()&&!!fe?.length&&Ct(at)&&!Ct(We)&&!Ct(rt))),ft=re((()=>!y()||!!ua(ae,"$isActiveLive$",i))),mt=re((()=>Ne&&nd(f(),"m"))),bt=Pe({}),yt=(0,g.debounceFn)(yu,260);Vt((()=>{l(),ua(Ve,"$isInteractiveTime$",i),yt(Ie(),ge,bt,t.showControls)}));let _t=()=>B.actions.internal.toggleChromecast();async function wt(){me?.isActive()?await(me?.remove()):await(me?.request())}function xt(){!X&&_()&&pe.set(!1),Is({isAudioDisabled:X,audioDisabledHintCallback:W,isAudioAvailable:_(),audioIsNotExistHintCallback:U})&&z()}let kt=te("");Vt((()=>{var e,t;e=Ct(ft),t=o(),e?t&&t===h.PlaybackState.PAUSED&&ne(kt,Pe(Io("tooltip_play"))):ne(kt,Pe(Io("tooltip_live")))}));let $t=oa();Vt((()=>{w()&&kr(w(),b(),he)})),Vt((()=>{_u(we,ua(we,"$startedByKeyboard$",i),bt.playButton)}));var St=Yc(),At=Be(St),Tt=e=>{var n=Wc(),a=Be(n);let o;var r=Oe(a,2);let s;var l=Re(r),p=e=>{let t=re((()=>_()&&!X&&ua(ce,"$mobileUnmuteButtonExpanded",i)));Rc(e,{get muted(){return $()},get expanded(){return Ct(t)},click:xt,get ref(){return bt.volume},set ref(e){bt.volume=e}})};Ji(l,(e=>{(!_()||k())&&e(p)})),Ce(r);var h=Oe(r,2);let f;var m=Re(h);rn(m,1,S,(({iconUrl:e,ariaLabel:t,testId:i,onClick:n,tooltip:a})=>e),((e,t)=>{let i=re((()=>Ct(t).ariaLabel??Ct(t).tooltip));!function(e,t){bn(e,Ec);let i=ma(t,"disabled",3,!1),n=ma(t,"onClick",3,g.noop),a=re((()=>n()===g.noop)),o=re((()=>Ct(a)||i())),r=te(!1),s=()=>{ne(r,!0)},l=re((()=>Ct(a)?"btn-full-opacity":""));Hs(e,{get className(){return Ct(l)},get ariaLabel(){return t.ariaLabel},get click(){return n()},get disabled(){return Ct(o)},get testId(){return t.testId},children:(e,i)=>{var n=Hi(),a=Be(n),o=e=>{ji(e,Tc())},l=e=>{var i=Pc();Bt((()=>Ln(i,"src",t.iconUrl))),Vi("error",i,s),Li(i),ji(e,i)};Ji(a,(e=>{Ct(r)?e(o):e(l,!1)})),ji(e,n)},$$slots:{default:!0}})}(e,{get iconUrl(){return Ct(t).iconUrl},get ariaLabel(){return Ct(i)},get testId(){return Ct(t).testId},get onClick(){return Ct(t).onClick}})}));var b=Oe(m,2),y=e=>{rc(e,{get ref(){return bt.autoplayNextToggle},set ref(e){bt.autoplayNextToggle=e}})};Ji(b,(e=>{t.showAutoplayNext&&!N()&&e(y)}));var w=Oe(b,2),A=e=>{wd(e,{isMobile:!0,click:_t,get state(){return u()},get ref(){return bt.chromecast},set ref(e){bt.chromecast=e}})};Ji(w,(e=>{Ct(st)&&e(A)}));var T=Oe(w,2),P=e=>{!function(e,t){hi(t,!0);let i=ma(t,"ref",15,void 0),n=ma(t,"isPictureInPictureActive",3,!1),a=ma(t,"click",3,g.noop);Hs(e,{testId:"btn-pip",ariaLabel:Io("menu_pip"),get click(){return a()},get ref(){return i()},set ref(e){i(e)},children:(e,t)=>{Dc(e,{get isActive(){return n()}})},$$slots:{default:!0}}),gi()}(e,{click:wt,get isPictureInPictureActive(){return c()},get ref(){return bt.pip},set ref(e){bt.pip=e}})};Ji(T,(e=>{Ct(dt)&&e(P)}));var E=Oe(T,2),I=e=>{yl(e,{ref$:$t})};Ji(E,(e=>{ua(ye,"$crashed$",i)&&e(I)}));var L=Oe(E,2),M=e=>{md(e,{click:H,get targetUrl(){return V()},get logoClickable(){return t.logoClickable},get ref(){return bt.vkLogo},set ref(e){bt.vkLogo=e}})};Ji(L,(e=>{Ct(ct)&&e(M)})),Ce(h);var R=Oe(h,2);let B;var O=Re(R),D=e=>{let t=re((()=>j.bind(null,!0)));qu(e,{get click(){return Ct(t)},type:"prev",isMobile:!0,get ref(){return bt.prevButton},set ref(e){bt.prevButton=e}})};Ji(O,(e=>{Ct(it)&&e(D)}));var z=Oe(O,2),U=e=>{tc(e,{get disabled(){return Ct(Ge)},click:q,isMobile:!0,get isPlaying(){return Ct(Xe)},get ref(){return bt.playButton},set ref(e){bt.playButton=e}})};Ji(z,(e=>{Ct(tt)&&e(U)}));var W=Oe(z,2),Q=e=>{Qu(e,{get disabled(){return Ct(Ze)},click:q,isMobile:!0,get ref(){return bt.replayButton},set ref(e){bt.replayButton=e}})};Ji(W,(e=>{Ct(et)&&e(Q)}));var K=Oe(W,2),G=e=>{let t=re((()=>F.bind(null,!0)));qu(e,{get click(){return Ct(t)},type:"next",isMobile:!0,get ref(){return bt.nextButton},set ref(e){bt.nextButton=e}})};Ji(K,(e=>{Ct(nt)&&e(G)})),Ce(R);var Z=Oe(R,2),Y=e=>{var i=Uc(),n=Be(i),a=e=>{var i=Hc();let n;i.__click=[zc,Ye,t,Fe];var a=Re(i);let o=re((()=>!t.showControls));nc(a,{get hidden(){return Ct(o)},get disabled(){return Ct(Ye)},get click(){return t.playPrevChapter},get ref(){return bt.playPrevChapterButton},set ref(e){bt.playPrevChapterButton=e}}),Ce(i),Bt((e=>n=$n(i,1,"wrapper-middle-left svelte-1afsgkw",null,n,e)),[()=>({fullscreen:x(),hidden:!t.showControls})]),ji(e,i)};Ji(n,(e=>{ze&&e(a)}));var o=Oe(n,2),r=e=>{var i=jc();let n;var a=Re(i);let o=re((()=>!t.showControls&&!C()));pc(a,{get hidden(){return Ct(o)},get disabled(){return Ct(Qe)},get click(){return je.toggle},get graphIsOpened(){return C()},get ref(){return bt.interactiveGraphButton},set ref(e){bt.interactiveGraphButton=e}}),Ce(i),Bt((e=>n=$n(i,1,_n(ze?"wrapper-middle-left-second":"wrapper-middle-left"),"svelte-1afsgkw",n,e)),[()=>({fullscreen:x(),hidden:!t.showControls&&!C()})]),ji(e,i)};Ji(o,(e=>{Ct(mt)&&e(r)}));var s=Oe(o,2),l=e=>{var i=Fc();let n;i.__click=[qc,Ke,t,Ue];var a=Re(i);let o=re((()=>!t.showControls));lc(a,{get hidden(){return Ct(o)},get disabled(){return Ct(Ke)},get click(){return t.seekToInteractive},get ref(){return bt.seekToInteractiveButton},set ref(e){bt.seekToInteractiveButton=e}}),Ce(i),Bt((e=>n=$n(i,1,"wrapper-middle-right svelte-1afsgkw",null,n,e)),[()=>({fullscreen:x(),hidden:!t.showControls})]),ji(e,i)};Ji(s,(e=>{De&&e(l)})),ji(e,i)};Ji(Z,(e=>{Me&&!d()&&e(Y)})),Bt(((e,t,i,n)=>{o=$n(a,1,"overlay-mobile svelte-1afsgkw",null,o,e),s=$n(r,1,"wrapper-top-left svelte-1afsgkw",null,s,t),f=$n(h,1,"wrapper-top-right svelte-1afsgkw",null,f,i),B=$n(R,1,"wrapper-middle svelte-1afsgkw",null,B,n)}),[()=>({hidden:!Ct(ht)}),()=>({hidden:!t.showControls,fullscreen:x()}),()=>({hidden:!t.showControls&&!v(),fullscreen:x()}),()=>({hidden:!t.showControls||d()||t.endScreenShown&&t.showNextPrevButtons})]),ji(e,n)};Ji(At,(e=>{M()||e(Tt)}));var Pt=Oe(At,2),Et=e=>{var t=Gc(),i=Be(t),n=e=>{var t=Qc();let i;Rc(Re(t),{get muted(){return $()},expanded:!1,click:xt,get ref(){return bt.volume},set ref(e){bt.volume=e}}),Ce(t),Bt((e=>i=$n(t,1,"wrapper-top-right svelte-1afsgkw",null,i,e)),[()=>({fullscreen:x()})]),ji(e,t)};Ji(i,(e=>{k()&&e(n)}));var a=Oe(i,2),o=e=>{var t=Kc(),i=Re(t);let n=re((()=>!Ct(Je)));tc(i,{get disabled(){return Ct(Ge)},click:q,isMobile:!0,get isPlaying(){return Ct(n)},get ref(){return bt.playButton},set ref(e){bt.playButton=e}}),Ce(t),ji(e,t)};Ji(a,(e=>{Ct(Je)&&e(o)}));var r=Oe(a,2);let s;Rd(Re(r),{get position(){return A()},get duration(){return T()}}),Ce(r),Bt((e=>s=$n(r,1,"wrapper-bottom ads-timeline-mobile svelte-1afsgkw",null,s,e)),[()=>({fullscreen:x()})]),ji(e,t)};Ji(Pt,(e=>{M()&&"inactive"!==r()&&e(Et)}));var It=Oe(Pt,2);let Lt;var Mt=Re(It);let Nt;var Rt=Re(Mt);$n(Rt,1,"controls svelte-1afsgkw",null,{},{mobile:!0});var Ot=Re(Rt),Dt=e=>{zl(e,{get disabled(){return Ct(Ze)},get ref(){return bt.replayButton},set ref(e){bt.replayButton=e},children:(e,t)=>{Qu(e,{get disabled(){return Ct(Ze)},click:Le})},$$slots:{default:!0}})};Ji(Ot,(e=>{Me&&e(Dt)}));var zt=Oe(Ot,2),qt=e=>{zl(e,{get ref(){return bt.liveButton},set ref(e){bt.liveButton=e},children:(e,t)=>{vc(e,{get isLiveActive(){return Ct(ft)},isMobile:!0,get ariaLabel(){return Ct(kt)}})},$$slots:{default:!0}})};Ji(zt,(e=>{!M()&&m()&&e(qt)}));var Ht=Oe(zt,2),jt=e=>{let t=re((()=>M()?A():P())),i=re((()=>M()?T():E()));Al(e,{get showDuration(){return Ct(ot)},get position(){return Ct(t)},get duration(){return Ct(i)},isMobile:!0,get ref(){return bt.time},set ref(e){bt.time=e}})};Ji(Ht,(e=>{Ct(vt)&&e(jt)}));var Ft=Oe(Ht,2);let Ut=re((()=>!Ct(gt)));zl(Ft,{className:"w-max",get disabled(){return Ct(Ut)},get ref(){return bt.episodes},set ref(e){bt.episodes=e},children:(e,t)=>{var i=Hi(),n=Be(i),a=e=>{var t=Zc();Kd(Oe(Be(t),2),{get position(){return P()},get duration(){return E()},timeCodes:fe}),ji(e,t)};Ji(n,(e=>{Ct(gt)&&e(a)})),ji(e,i)},$$slots:{default:!0}});var Wt=Oe(Ft,2),Qt=e=>{zl(e,{get ref(){return bt.settings},set ref(e){bt.settings=e},children:(e,t)=>{yl(e,{ref$:$t})},$$slots:{default:!0}})};Ji(Wt,(e=>{Ct(ut)&&e(Qt)}));var Kt=Oe(Wt,2),Gt=e=>{zl(e,{get ref(){return bt.fullscreen},set ref(e){bt.fullscreen=e},children:(e,i)=>{pd(e,{get click(){return t.toggleFullscreen},get isFullscreen(){return x()}})},$$slots:{default:!0}})};Ji(Kt,(e=>{Ct(pt)&&e(Gt)})),Ce(Rt),Yn(Rt,(e=>L(e)),(()=>L())),zd(Oe(Rt,2),{get isAds(){return M()},get canRewindLive(){return t.canRewindLive},get isRewindableLive(){return y()},get ref(){return bt.timeline},set ref(e){bt.timeline=e}}),Ce(Mt),Ce(It),Yn(It,(e=>I(e)),(()=>I()));var Zt=Oe(It,2),Yt=e=>{Cu(e,{get ref(){return bt.interactiveTimeIndicator},set ref(e){bt.interactiveTimeIndicator=e}})};Ji(Zt,(e=>{qe&&e(Yt)})),Bt(((e,t)=>{Lt=$n(It,1,"wrapper-bottom svelte-1afsgkw",null,Lt,e),Nt=$n(Mt,1,"controls-wrapper svelte-1afsgkw",null,Nt,t)}),[()=>({hidden:t.bottomHidden,"controls-hidden":!t.showControls,"no-smooth":t.bottomNoSmooth,mobile:!0}),()=>({fullscreen:x()})]),ji(e,St),gi(),n()}function ep(e,t){hi(t,!0);let[i,n]=ca(),a=ma(t,"bottomNoSmooth",3,!1),o=ma(t,"playerControlsWrapperRef",15,void 0),r=ma(t,"playerControlsRef",15,void 0),s=ma(t,"isAds",3,!1),l=ma(t,"logoTargetUrl",3,""),d=ma(t,"showAutoplayNext",3,!1),u=ma(t,"isOneVideoPlaylist",3,!1),c=ma(t,"customFullscreenSupported",3,!0),p=ma(t,"endScreenShown",3,!1),v=ma(t,"onDisabledPlayPrevChapterClick",3,g.noop),h=ma(t,"onDisabledSeekToInteractiveClick",3,g.noop),f=qa().ui.isMobile,m=te(!1);ea((()=>{let e=setTimeout((()=>ne(m,!0)),0);return()=>clearTimeout(e)}));var b=Hi(),y=Be(b),_=e=>{var n=Hi(),g=Be(n),m=e=>{Jc(e,{get bottomHidden(){return t.bottomHidden},get bottomNoSmooth(){return a()},get showControls(){return t.showControls},get isAds(){return s()},get canRewindLive(){return t.canRewindLive},get logoClickable(){return t.logoClickable},get logoHidden(){return t.logoHidden},get logoTargetUrl(){return l()},get showAutoplayNext(){return d()},get showNextPrevButtons(){return t.showNextPrevButtons},get nextButtonActive(){return t.nextButtonActive},get prevButtonActive(){return t.prevButtonActive},get isOneVideoPlaylist(){return u()},get customFullscreenSupported(){return c()},get endScreenShown(){return p()},get toggleFullscreen(){return t.toggleFullscreen},get seekToInteractive(){return t.seekToInteractive},get playPrevChapter(){return t.playPrevChapter},get onDisabledPlayPrevChapterClick(){return v()},get onDisabledSeekToInteractiveClick(){return h()},get playerControlsWrapperRef(){return o()},set playerControlsWrapperRef(e){o(e)},get playerControlsRef(){return r()},set playerControlsRef(e){r(e)}})},b=e=>{Ac(e,{get bottomHidden(){return t.bottomHidden},get bottomNoSmooth(){return a()},get showControls(){return t.showControls},get isAds(){return s()},get canRewindLive(){return t.canRewindLive},get logoClickable(){return t.logoClickable},get logoHidden(){return t.logoHidden},get logoTargetUrl(){return l()},get isOneVideoPlaylist(){return u()},get showAutoplayNext(){return d()},get showNextPrevButtons(){return t.showNextPrevButtons},get nextButtonActive(){return t.nextButtonActive},get prevButtonActive(){return t.prevButtonActive},get customFullscreenSupported(){return c()},get toggleFullscreen(){return t.toggleFullscreen},get seekToInteractive(){return t.seekToInteractive},get playPrevChapter(){return t.playPrevChapter},get playerControlsWrapperRef(){return o()},set playerControlsWrapperRef(e){o(e)},get playerControlsRef(){return r()},set playerControlsRef(e){r(e)}})};Ji(g,(e=>{ua(f,"$isMobile",i)?e(m):e(b,!1)})),ji(e,n)};Ji(y,(e=>{Ct(m)&&e(_)})),ji(e,b),gi(),n()}Ni(["click"]);var tp=zi('<svg><!><g filter="url(#a)"><path fill="var(--btn-color, #fff)" d="M15.537 10.534a1.157 1.157 0 0 0 .003 1.96l7.658 4.823c.78.491 1.798-.065 1.798-.981v-3.3c7.265.512 13 6.568 13 13.964 0 7.732-6.268 14-14 14-5.98 0-11.088-3.75-13.093-9.032a1.5 1.5 0 0 0-2.805 1.064C10.531 39.441 16.73 44 23.996 44c9.39 0 17-7.611 17-17 0-9.053-7.076-16.453-16-16.971V6.664c0-.918-1.021-1.473-1.8-.98z"></path><path stroke="#000" stroke-opacity=".12" stroke-width=".5" d="M15.404 10.322a1.407 1.407 0 0 0 .003 2.384l7.657 4.823c.944.594 2.182-.076 2.182-1.193v-3.03c7.008.631 12.5 6.522 12.5 13.694 0 7.594-6.156 13.75-13.75 13.75-5.873 0-10.89-3.683-12.86-8.871a1.75 1.75 0 1 0-3.272 1.242c2.469 6.503 8.758 11.129 16.132 11.129 9.527 0 17.25-7.723 17.25-17.25 0-9.107-7.056-16.565-16-17.205V6.664c0-1.118-1.241-1.788-2.184-1.19z"></path></g><defs><filter id="a" width="43.996" height="49.5" x="2.5" y="0" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset></feOffset><feGaussianBlur stdDeviation="2.5"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_2260_100684"></feBlend><feBlend in="SourceGraphic" in2="effect1_dropShadow_2260_100684" result="shape"></feBlend></filter></defs></svg>');function ip(e,t){let i=ma(t,"reversed",3,!1),n=re((()=>i()?"transform: scaleX(-1);":void 0));!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=tp();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"51",fill:"none","aria-hidden":"true","data-testid":"seek-icon",role:"img",...i}))),ji(e,n)}(e,{get style(){return Ct(n)}})}var np=zi('<svg><!><g clip-path="url(#c)" filter="url(#a)"><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M28.167 7h-8.334c-2.463 0-4.404 0-5.966.128-1.594.13-2.925.4-4.134 1.016a10.5 10.5 0 0 0-4.589 4.59c-.616 1.208-.886 2.54-1.016 4.133C4 18.429 4 20.37 4 22.833v2.334c0 2.463 0 4.404.128 5.966.13 1.594.4 2.925 1.016 4.134a10.5 10.5 0 0 0 4.59 4.589c1.208.616 2.54.886 4.133 1.016 1.562.128 3.502.128 5.966.128h8.334c2.463 0 4.404 0 5.966-.128 1.594-.13 2.925-.4 4.134-1.016a10.5 10.5 0 0 0 4.589-4.59c.616-1.208.886-2.54 1.016-4.133.128-1.562.128-3.502.128-5.966v-2.334c0-2.463 0-4.404-.128-5.966-.13-1.594-.4-2.925-1.016-4.134a10.5 10.5 0 0 0-4.59-4.589c-1.208-.616-2.54-.886-4.133-1.016C32.571 7 30.63 7 28.167 7M13.5 28a1.5 1.5 0 0 0 0 3h11a1.5 1.5 0 0 0 0-3zM12 22a1.5 1.5 0 0 1 1.5-1.5h4a1.5 1.5 0 0 1 0 3h-4A1.5 1.5 0 0 1 12 22m18.5 6a1.5 1.5 0 0 0 0 3h4a1.5 1.5 0 0 0 0-3zM22 22a1.5 1.5 0 0 1 1.5-1.5h11a1.5 1.5 0 0 1 0 3h-11A1.5 1.5 0 0 1 22 22" clip-rule="evenodd"></path><path stroke="#000" stroke-opacity=".12" stroke-width=".5" d="M28.167 6.75h-8.344c-2.455 0-4.405 0-5.977.128-1.609.132-2.976.407-4.226 1.044a10.75 10.75 0 0 0-4.698 4.698c-.637 1.25-.912 2.617-1.044 4.226-.128 1.572-.128 3.522-.128 5.977v2.354c0 2.455 0 4.405.128 5.977.132 1.609.407 2.976 1.044 4.226a10.75 10.75 0 0 0 4.698 4.698c1.25.637 2.617.912 4.226 1.044 1.572.128 3.522.128 5.977.128h8.354c2.455 0 4.404 0 5.977-.128 1.609-.132 2.976-.407 4.226-1.044a10.75 10.75 0 0 0 4.698-4.698c.637-1.25.912-2.617 1.044-4.226.128-1.573.128-3.522.128-5.977v-2.354c0-2.455 0-4.405-.128-5.977-.132-1.609-.407-2.976-1.044-4.226a10.75 10.75 0 0 0-4.698-4.698c-1.25-.637-2.617-.912-4.226-1.044-1.572-.128-3.522-.128-5.977-.128zM12.25 29.5c0-.69.56-1.25 1.25-1.25h11a1.25 1.25 0 1 1 0 2.5h-11c-.69 0-1.25-.56-1.25-1.25Zm0-7.5c0-.69.56-1.25 1.25-1.25h4a1.25 1.25 0 1 1 0 2.5h-4c-.69 0-1.25-.56-1.25-1.25Zm17 7.5c0-.69.56-1.25 1.25-1.25h4a1.25 1.25 0 1 1 0 2.5h-4c-.69 0-1.25-.56-1.25-1.25Zm-7-7.5c0-.69.56-1.25 1.25-1.25h11a1.25 1.25 0 1 1 0 2.5h-11c-.69 0-1.25-.56-1.25-1.25Z"></path></g><defs><clipPath id="c"><path fill="var(--btn-color, #fff)" d="M0 0h48v48H0z"></path></clipPath><filter id="a" width="51" height="45" x="-1.5" y="1.5" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset></feOffset><feGaussianBlur stdDeviation="2.5"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_2260_104204"></feBlend><feBlend in="SourceGraphic" in2="effect1_dropShadow_2260_104204" result="shape"></feBlend></filter></defs></svg>');var ap=zi('<svg><!><g clip-path="url(#c)" filter="url(#a)"><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M6.56 4.44a1.5 1.5 0 1 0-2.12 2.12l3.088 3.09a10.5 10.5 0 0 0-2.384 3.083c-.616 1.21-.886 2.54-1.016 4.134C4 18.429 4 20.369 4 22.833v2.334c0 2.463 0 4.404.128 5.966.13 1.594.4 2.925 1.016 4.134a10.5 10.5 0 0 0 4.59 4.589c1.208.616 2.54.886 4.133 1.016 1.562.128 3.502.128 5.966.128h8.334c2.463 0 4.404 0 5.966-.128 1.437-.117 2.66-.348 3.773-.844l3.533 3.533a1.5 1.5 0 0 0 2.122-2.122l-37-37ZM13.5 28a1.5 1.5 0 0 0 0 3h11a1.5 1.5 0 0 0 0-3zM12 22a1.5 1.5 0 0 1 1.5-1.5h4a1.5 1.5 0 0 1 0 3h-4A1.5 1.5 0 0 1 12 22" clip-rule="evenodd"></path><path fill="var(--btn-color, #fff)" d="M34.5 23.5h-4.639l12.552 12.551q.237-.381.443-.784c.616-1.21.886-2.54 1.016-4.134.128-1.562.128-3.502.128-5.966v-2.334c0-2.463 0-4.404-.128-5.966-.13-1.594-.4-2.925-1.016-4.134a10.5 10.5 0 0 0-4.59-4.589c-1.208-.616-2.54-.886-4.133-1.016C32.571 7 30.63 7 28.167 7h-8.334c-2.463 0-4.404 0-5.966.128l-.347.03L26.86 20.5h7.64a1.5 1.5 0 0 1 0 3"></path><path stroke="#000" stroke-opacity=".12" stroke-width=".5" d="M29.861 23.25h-.603l.427.427 12.55 12.551.223.223.167-.268q.243-.39.453-.803c.637-1.25.912-2.617 1.044-4.226.128-1.573.128-3.522.128-5.977v-2.354c0-2.455 0-4.405-.128-5.977-.132-1.609-.407-2.976-1.044-4.226a10.75 10.75 0 0 0-4.698-4.698c-1.25-.637-2.617-.912-4.226-1.044-1.572-.128-3.522-.128-5.977-.128h-8.354c-2.455 0-4.405 0-5.977.128q-.177.014-.35.032l-.527.051.374.374 13.341 13.342.074.073H34.5a1.25 1.25 0 1 1 0 2.5zM6.737 4.263a1.75 1.75 0 0 0-2.474 2.474l2.903 2.904a10.8 10.8 0 0 0-2.244 2.979c-.637 1.25-.912 2.617-1.044 4.226-.128 1.572-.128 3.522-.128 5.977v2.354c0 2.455 0 4.405.128 5.977.132 1.609.407 2.976 1.044 4.226a10.75 10.75 0 0 0 4.698 4.698c1.25.637 2.617.912 4.226 1.044 1.572.128 3.522.128 5.977.128h8.354c2.455 0 4.404 0 5.977-.128 1.384-.114 2.59-.333 3.696-.797l3.413 3.412a1.75 1.75 0 1 0 2.474-2.474zM12.25 29.5c0-.69.56-1.25 1.25-1.25h11a1.25 1.25 0 1 1 0 2.5h-11c-.69 0-1.25-.56-1.25-1.25Zm0-7.5c0-.69.56-1.25 1.25-1.25h4a1.25 1.25 0 1 1 0 2.5h-4c-.69 0-1.25-.56-1.25-1.25Z"></path></g><defs><clipPath id="c"><path fill="var(--btn-color, #fff)" d="M0 0h48v48H0z"></path></clipPath><filter id="a" width="51" height="51" x="-1.5" y="-1.5" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset></feOffset><feGaussianBlur stdDeviation="2.5"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_2260_104293"></feBlend><feBlend in="SourceGraphic" in2="effect1_dropShadow_2260_104293" result="shape"></feBlend></filter></defs></svg>');function op(e,t){let i=ma(t,"isOff",3,!1);var n=Hi(),a=Be(n),o=e=>{!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=ap();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none","aria-hidden":"true","data-testid":"subtitles-off-icon",role:"img",...i}))),ji(e,n)}(e,{})},r=e=>{!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=np();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none","aria-hidden":"true","data-testid":"subtitles-on-icon",role:"img",...i}))),ji(e,n)}(e,{})};Ji(a,(e=>{i()?e(o):e(r,!1)})),ji(e,n)}var rp=zi('<svg><!><g filter="url(#a)"><path fill="var(--btn-color, #fff)" d="M24 22.677v-5.87a1.2 1.2 0 0 0-1.792-1.045L9.51 22.955a1.2 1.2 0 0 0 0 2.088l12.697 7.192a1.2 1.2 0 0 0 1.791-1.044v-5.873l12.21 6.916A1.2 1.2 0 0 0 38 31.19V16.805a1.2 1.2 0 0 0-1.791-1.044z"></path><path stroke="#000" stroke-opacity=".12" stroke-width=".5" d="M24.25 16.806v5.442l11.835-6.704a1.45 1.45 0 0 1 2.165 1.261V31.19a1.45 1.45 0 0 1-2.165 1.262L24.25 25.747v5.444a1.45 1.45 0 0 1-2.164 1.262L9.388 25.26a1.45 1.45 0 0 1 0-2.523l12.697-7.192a1.45 1.45 0 0 1 2.164 1.261Z"></path></g><defs><filter id="a" width="40.098" height="27.785" x="3.402" y="10.105" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset></feOffset><feGaussianBlur stdDeviation="2.5"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_2260_106627"></feBlend><feBlend in="SourceGraphic" in2="effect1_dropShadow_2260_106627" result="shape"></feBlend></filter></defs></svg>');function sp(e,t){let i=ma(t,"reversed",3,!1),n=re((()=>i()?"transform: scaleX(-1);":void 0));!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=rp();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none","aria-hidden":"true","data-testid":"rate-change-icon",role:"img",...i}))),ji(e,n)}(e,{get style(){return Ct(n)}})}var lp=zi('<svg><!><g filter="url(#a)"><path fill="var(--btn-color, #fff)" d="M14 21.817c.631-.505 1.627-1.054 3.084-1.857l13.009-7.172c2.268-1.25 3.402-1.875 4.332-1.778a2.9 2.9 0 0 1 2.026 1.134c.549.73.549 1.991.549 4.511v14.69c0 2.52 0 3.78-.549 4.51a2.9 2.9 0 0 1-2.026 1.135c-.93.097-2.064-.528-4.332-1.778L17.084 28.04c-1.457-.803-2.453-1.352-3.084-1.857V34.5a1.5 1.5 0 0 1-3 0v-21a1.5 1.5 0 0 1 3 0z"></path><path stroke="#000" stroke-opacity=".12" stroke-width=".5" d="m16.964 19.74-.029.016c-1.162.641-2.046 1.129-2.685 1.567V13.5a1.75 1.75 0 1 0-3.5 0v21a1.75 1.75 0 1 0 3.5 0v-7.823c.639.438 1.523.926 2.685 1.567l.029.015 13.008 7.172.012.006c1.124.62 1.983 1.093 2.676 1.398.695.306 1.26.46 1.791.404a3.16 3.16 0 0 0 2.2-1.233c.317-.421.46-.976.53-1.711.069-.733.069-1.688.069-2.936V16.641c0-1.248 0-2.203-.07-2.936-.07-.735-.212-1.29-.529-1.711a3.16 3.16 0 0 0-2.2-1.233c-.53-.055-1.096.098-1.79.404-.694.305-1.553.778-2.677 1.398l-.012.006z"></path></g><defs><filter id="a" width="37" height="37" x="5.5" y="5.5" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset></feOffset><feGaussianBlur stdDeviation="2.5"></feGaussianBlur><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"></feColorMatrix><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_2340_106922"></feBlend><feBlend in="SourceGraphic" in2="effect1_dropShadow_2340_106922" result="shape"></feBlend></filter></defs></svg>');function dp(e,t){let i=ma(t,"reversed",3,!1),n=re((()=>i()?"transform: scaleX(-1);":void 0));!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=lp();let a;hn(Re(n),(()=>t.children??O)),Ae(2),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",fill:"none","aria-hidden":"true","data-testid":"episodes-seek-icon",role:"img",...i}))),ji(e,n)}(e,{get style(){return Ct(n)}})}var up=Di('<span class="hot-key-helpers-text svelte-1ad3n06"> </span>'),cp=Di('<div class="svelte-1ad3n06"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div> <!>',1),pp=Di("<div><!></div>"),vp={hash:"svelte-1ad3n06",code:'.hot-key-helpers-container.svelte-1ad3n06 {position:absolute;z-index:var(--hot-key-helpers-container-z-index);top:calc(50% - 40px);left:calc(50% - 100px);width:200px;height:120px;display:flex;align-items:center;flex-direction:column;\n    animation: svelte-1ad3n06-fadeIn ease var(--controls-transition-duration);padding-top:14px;box-sizing:border-box;}.hot-key-helpers-container.svelte-1ad3n06 > div:where(.svelte-1ad3n06) {width:48px;height:48px;display:flex;justify-content:center;align-items:center;}.hot-key-helpers-container.svelte-1ad3n06 svg[data-testid="volume-off-icon"],\n  .hot-key-helpers-container.svelte-1ad3n06 svg[data-testid="volume-max-icon"] {transform:scale(2);}.hot-key-helpers-container.svelte-1ad3n06 svg[data-testid="replay-icon"],\n  .hot-key-helpers-container.svelte-1ad3n06 svg[data-testid="play-icon"],\n  .hot-key-helpers-container.svelte-1ad3n06 svg[data-testid="pause-icon"] {transform:scale(2.5);}.hot-key-helpers-container--left.svelte-1ad3n06 {left:calc(25% - 100px);}.hot-key-helpers-container--right.svelte-1ad3n06 {left:calc(75% - 100px);}.hot-key-helpers-text.svelte-1ad3n06 {text-align:center;font-feature-settings:\'clig\' off, \'liga\' off;text-shadow:0px 0px 5px rgba(0, 0, 0, 0.16);font-size:15px;font-style:normal;font-weight:600;line-height:20px; /* 133.333% */letter-spacing:-0.105px;width:100%;max-height:40px;margin-top:4px;display:-webkit-box;text-overflow:ellipsis;white-space:pre-wrap;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical;}.hidden.svelte-1ad3n06 {visibility:hidden;\n    animation: svelte-1ad3n06-fadeOut ease var(--controls-transition-duration);width:0;height:0;}\n\n  @keyframes svelte-1ad3n06-fadeIn {\n    0% {opacity:0;}\n    100% {opacity:1;}\n  }\n\n  @keyframes svelte-1ad3n06-fadeOut {\n    0% {opacity:1;}\n    100% {opacity:0;}\n  }'};var hp=zi('<svg><!><path fill="currentColor" fill-opacity=".72" fill-rule="evenodd" d="M11.736 6.736a.9.9 0 0 1-1.272 0L6 2.273 1.536 6.736A.9.9 0 1 1 .264 5.464l5.1-5.1a.9.9 0 0 1 1.272 0l5.1 5.1a.9.9 0 0 1 0 1.272" clip-rule="evenodd"></path></svg>');var gp=zi('<svg><!><path fill="currentColor" d="m5.773 8 3.363 3.364a.9.9 0 1 1-1.272 1.272l-4-4a.9.9 0 0 1 0-1.272l4-4a.9.9 0 0 1 1.272 1.272z"></path></svg>');function fp(e,t){hi(t,!0);let i=ma(t,"direction",3,"left"),n=ma(t,"useBtnColor",3,!1),a=re((()=>["up","down"].includes(i()))),o=re((()=>["right","down"].includes(i()))),r=re((()=>(()=>{let e="";return Ct(o)&&(e+="transform: rotate(180deg);"),n()&&(e+="color: var(--btn-color, #fff);"),e.length?e:void 0})()));var s=Hi(),l=Be(s),d=e=>{let t=re((()=>Ct(o)?"chevron-icon--down":"chevron-icon--up"));!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=hp();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"7",fill:"none","aria-hidden":"true",color:"#fff",role:"img",...i}))),ji(e,n)}(e,{get style(){return Ct(r)},get"data-testid"(){return Ct(t)}})},u=e=>{let t=re((()=>Ct(o)?"chevron-icon--right":"chevron-icon--left"));!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=gp();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",fill:"none","aria-hidden":"true",color:"#fff",role:"img",...i}))),ji(e,n)}(e,{get style(){return Ct(r)},get"data-testid"(){return Ct(t)}})};Ji(l,(e=>{Ct(a)?e(d):e(u,!1)})),ji(e,s),gi()}var mp=(e,t,i,n,a,o)=>{if(t.has(e.code))switch(e.preventDefault(),e.stopPropagation(),e.code){case"ArrowUp":i();break;case"ArrowDown":n();break;case"ArrowLeft":a();break;case"ArrowRight":o()}},bp=(e,t,i)=>{t.has(e.code)&&(e.preventDefault(),e.stopPropagation(),i())},yp=Di('<div tabindex="0" role="button"><div class="button-block svelte-1yzc86r" aria-hidden="true"><div class="button-row svelte-1yzc86r"><div class="button button-up svelte-1yzc86r"><!></div> <div class="button button-right svelte-1yzc86r"><!></div></div> <div class="button-row svelte-1yzc86r"><div class="button button-left svelte-1yzc86r"><!></div> <div class="button button-down svelte-1yzc86r"><!></div></div></div></div>'),_p={hash:"svelte-1yzc86r",code:".immersive-controls.svelte-1yzc86r {position:absolute;display:flex;flex-direction:row;top:10px;left:10px;width:56px;height:56px;background-color:rgba(0, 0, 0, .56);border-radius:8px;transition-property:top, left;transition-duration:var(--controls-transition-duration);transition-timing-function:var(--controls-transition-fn);}.immersive-controls.m-shifted.svelte-1yzc86r {top:50px;left:20px;}.button-block.svelte-1yzc86r {width:40px;height:40px;margin:auto auto;transform:rotate(45deg);}.button-row.svelte-1yzc86r {display:flex;flex-direction:row;position:relative;}.button.svelte-1yzc86r {width:20px;height:20px;text-align:center;cursor:pointer;}.button.svelte-1yzc86r svg {opacity:0.7;transition:opacity linear 0.2s;}.button.button-up.svelte-1yzc86r svg {transform:rotate(-45deg) translate(-1px, -1px);}.button.button-right.svelte-1yzc86r svg {transform:rotate(45deg) translate(1px, -1px);}.button.button-down.svelte-1yzc86r svg {transform:rotate(135deg) translate(1px, -3px);}.button.button-left.svelte-1yzc86r svg {transform:rotate(-135deg) translate(-1px, -3px);}.button.svelte-1yzc86r:hover svg {opacity:1;}"};function wp(e,t){hi(t,!0),bn(e,_p);let i=ma(t,"isShifted",3,!1),n=qa(),a=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]),o=()=>{n.actions.internal.startCameraManualRotation(0,1)},r=()=>{n.actions.internal.startCameraManualRotation(0,-1)},s=()=>{n.actions.internal.startCameraManualRotation(1,0)},l=()=>{n.actions.internal.startCameraManualRotation(-1,0)},d=()=>(n.actions.internal.stopCameraManualRotation(),null),u=Io("aria_label_spherical_control");var c=yp();let p;c.__keydown=[mp,a,o,r,l,s],c.__keyup=[bp,a,d],Ln(c,"aria-label",u);var v=Re(c),h=Re(v),g=Re(h);g.__mousedown=o,g.__mouseup=d,fp(Re(g),{direction:"up",useBtnColor:!0}),Ce(g);var f=Oe(g,2);f.__mousedown=s,f.__mouseup=d,fp(Re(f),{direction:"up",useBtnColor:!0}),Ce(f),Ce(h);var m=Oe(h,2),b=Re(m);b.__mousedown=l,b.__mouseup=d,fp(Re(b),{direction:"up",useBtnColor:!0}),Ce(b);var y=Oe(b,2);y.__mousedown=r,y.__mouseup=d,fp(Re(y),{direction:"up",useBtnColor:!0}),Ce(y),Ce(m),Ce(v),Ce(c),Bt((e=>p=$n(c,1,"immersive-controls svelte-1yzc86r",null,p,e)),[()=>({"m-shifted":i()})]),Vi("mouseleave",g,d),Vi("mouseleave",f,d),Vi("mouseleave",b,d),Vi("mouseleave",y,d),ji(e,c),gi()}Ni(["keydown","keyup","mousedown","mouseup"]);var xp=class{subscribe(){return this.subscriptions.add(this.captions$.pipe((0,g.filter)((()=>this.isEnabled())),(0,g.filterChanged)()).subscribe((e=>{this.processCaptions(e)}))),this}setIsAuto(e){this.isAuto=e}setIsLive(e){this.isLive=e}setCaptions(e){this.captions$.next(e)}destroy(){this.subscriptions.unsubscribe(),this.flickeringTimeout.clear()}isEnabled(){return this.isAuto&&!this.isLive}processCaptions(e){if(!e.length)return void this.flickeringTimeout.add((()=>{this.captionsPrepared$.next([])}));this.flickeringTimeout.clear();let t=[],i=e.length>1&&"timestamp"!==e[0].type&&"timestamp"!==e[1].type;i&&t.push([{value:String(e[0].value),timeAppeared:null}]),t.push(e.reduce(((e,{type:t,value:n},a)=>(i&&!a||("timestamp"===t?e.push({timeAppeared:Number(n),value:""}):0===e.length?e.push({value:String(n)}):e[e.length-1].value=String(n)),e)),[])),this.captionsPrepared$.next(t)}constructor(){this.flickeringTimeout=((e=1e3)=>{let t=null,i=()=>{t&&(clearTimeout(t),t=null)};return{add:n=>{i(),t=setTimeout(n,e)},clear:i}})(1e3),this.subscriptions=new g.Subscription,this.isAuto=!1,this.isLive=!1,this.captions$=new g.ValueSubject([]),this.captionsPrepared$=new g.ValueSubject([])}},kp=Di('<span class="caption-line svelte-c2x749"><span class="caption-segment svelte-c2x749"> </span></span>'),$p=Di('<span class="caption-line svelte-c2x749"><span class="caption-segment svelte-c2x749"></span></span>'),Sp=Di('<span class="caption-line svelte-c2x749"><span class="caption-segment svelte-c2x749"> </span></span>'),Cp=Di('<div><span class="caption svelte-c2x749"><!></span></div>'),Ap=Di("<div><!></div>"),Tp={hash:"svelte-c2x749",code:".subtitles-container.svelte-c2x749 {position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;transition:transform var(--controls-transition-duration);}.subtitles-container.shifted.svelte-c2x749 {transform:translateY(calc(var(--controls-height) * -1));}.subtitles-caption.svelte-c2x749 {position:absolute;left:4%;right:4%;bottom:4%;display:flex;justify-content:center;}.subtitles-caption.mobile.svelte-c2x749 {bottom:8%;}.subtitles-container.auto.svelte-c2x749 .subtitles-caption:where(.svelte-c2x749) {left:var(--subtitles-caption-margin);right:var(--subtitles-caption-margin);}.caption.svelte-c2x749 {display:block;overflow-wrap:normal;padding:4px 8px;border-radius:4px;background:rgba(0, 0, 0, 0.4);}.subtitles-container.auto.svelte-c2x749 .caption:where(.svelte-c2x749) {width:100%;}.caption-line.svelte-c2x749 {display:block;text-align:center;}.subtitles-container.auto.svelte-c2x749 .caption-line:where(.svelte-c2x749) {text-align:left;}.caption-segment.svelte-c2x749 {display:inline-block;line-height:1.2;font-size:13px;\n    /*font-weight: 500;*/color:var(--white);white-space:pre-wrap;}"};function Pp(e,t){hi(t,!0),bn(e,Tp);let[i,n]=ca(),a=()=>ua(d,"$isAutoSubtitleCaptionVisible$",i),o=ma(t,"isMobile",3,!1),r=qa(),s=wa(),l=r.state.currentSubtitle$,d=r.state.isAutoSubtitleCaptionVisible$,u=r.state.isLive$,c=r.ui.isFullscreen,p=re((()=>!!ua(l,"$currentSubtitle$",i).isAuto)),v=re((()=>!!ua(u,"$isLive$",i))),h=re((()=>.02*t.playerSize.width)),g=re((()=>o()&&!ua(c,"$isFullscreen",i)||Ct(h)<=s.minSubtitlesFontSize?s.minSubtitlesFontSize:Ct(h))),f=te(null);Vt((()=>{Ct(f)?.setIsAuto(Ct(p)),Ct(f)?.setIsLive(Ct(v)),Ct(f)?.setCaptions(t.captions)}));let m=te(Pe([[]]));ea((()=>{ne(f,Pe((new xp).subscribe()));let e=Ct(f).captionsPrepared$.subscribe((e=>{ne(m,Pe(e))}));return()=>{Ct(f)?.destroy(),e.unsubscribe()}})),ea((()=>{if(Ct(p)){let e=window.setTimeout((()=>{d.set(!1)}),s.autoSubtitlesTimeout);return()=>{window.clearTimeout(e)}}d.set(!1)}));let b=re((()=>t.playerSize.width<400?10:t.playerSize.width<550?14:24));var y=Ap();let _;var w=Re(y),x=e=>{var i=Cp();let n;var r=Re(i),s=Re(r),l=e=>{var t=kp(),i=Re(t),n=Re(i,!0);Ce(i),Ce(t),Bt((e=>{Cn(i,`font-size: ${Ct(g)??""}px`),Wi(n,e)}),[()=>Io("subtitles_auto_caption")]),ji(e,t)},d=(e,i)=>{var n=e=>{var i=Hi();rn(Be(i),17,(()=>Ct(m)),on,((e,i)=>{var n=$p(),a=Re(n);rn(a,21,(()=>Ct(i)),(({value:e,timeAppeared:t})=>t),((e,i)=>{let n=()=>Ct(i).timeAppeared;var a=Hi(),o=Be(a),r=e=>{var t=qi();Bt((()=>Wi(t,Ct(i).value))),ji(e,t)};Ji(o,(e=>{(!n()||n()<=t.position)&&e(r)})),ji(e,a)})),Ce(a),Ce(n),Bt((()=>Cn(a,`font-size: ${Ct(g)??""}px`))),ji(e,n)})),ji(e,i)},a=e=>{var i=Hi();rn(Be(i),17,(()=>t.captions),(({value:e})=>e),((e,t)=>{var i=Sp(),n=Re(i),a=Re(n,!0);Ce(n),Ce(i),Bt((()=>{Cn(n,`font-size: ${Ct(g)??""}px`),Wi(a,Ct(t).value)})),ji(e,i)})),ji(e,i)};Ji(e,(e=>{Ct(p)&&Ct(m)?.length?e(n):e(a,!1)}),i)};Ji(s,(e=>{Ct(p)&&a()?e(l):e(d,!1)})),Ce(r),Ce(i),Bt((e=>{n=$n(i,1,"subtitles-caption svelte-c2x749",null,n,e),Cn(i,`--subtitles-caption-margin: ${Ct(b)??""}%`)}),[()=>({mobile:o()})]),ji(e,i)};Ji(w,(e=>{(t.captions.length||Ct(m)?.length)&&e(x)})),Ce(y),Bt((e=>_=$n(y,1,"subtitles-container svelte-c2x749",null,_,e)),[()=>({shifted:t.shifted,auto:Ct(p)&&!Ct(v)&&!a()})]),ji(e,y),gi(),n()}var Ep=Di('<div class="text svelte-raurnb"> </div>'),Ip=Di('<div><div class="icon_wrapper svelte-raurnb"><svg class="icon svelte-raurnb" width="22" height="22" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="var(--btn-color, #fff)"></path><path d="M0 0h24v24H0z"></path></g></svg></div> <!></div>'),Lp={hash:"svelte-raurnb",code:".wrapper.svelte-raurnb {height:100%;background-position:center;background-size:contain;background-repeat:no-repeat;display:flex;align-items:center;justify-content:center;font-size:16px;flex-direction:column;}.wrapper.bgCover.svelte-raurnb {background-size:cover;}.icon_wrapper.svelte-raurnb {display:flex;flex-direction:column;align-items:center;width:400px;}.icon.svelte-raurnb {width:50px;height:50px;}.text.svelte-raurnb {margin-top:20px;}"};function Mp(e,t){hi(t,!0),bn(e,Lp);let i=wa();var n=Ip();let a;var o=Oe(Re(n),2),r=e=>{var i=Ep(),n=Re(i);Ce(i),Bt((()=>Wi(n,`Видео воспроизводится на ${t.chromecastDeviceName??""}`))),ji(e,i)};Ji(o,(e=>{t.chromecastDeviceName&&e(r)})),Ce(n),Bt((e=>{a=$n(n,1,"wrapper svelte-raurnb",null,a,e),Cn(n,`background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('${t.thumbUrl||""}')`)}),[()=>({bgCover:i.features.previewNoEmptySpace})]),ji(e,n),gi()}var Vp=zi('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M460 193.998a3.997 3.997 0 0 1 3.997-3.998h122.006a4.003 4.003 0 0 1 3.997 3.998v82.004a3.997 3.997 0 0 1-3.997 3.998H463.997a4.003 4.003 0 0 1-3.997-3.998zm6 2.993c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm112-72c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zm0 12c0-.546.45-.99.99-.99h4.02c.546 0 .99.45.99.99v4.02c0 .546-.45.99-.99.99h-4.02a.995.995 0 0 1-.99-.99zM507 232a6 6 0 1 0 0-12 6 6 0 0 0 0 12m36 0a6 6 0 1 0 0-12 6 6 0 0 0 0 12m-18.05 15c6.05 0 11.624 4.446 11.944 4.65 2.106 1.35 3.252.772 3.957.156s1.15-2.806-1.044-4.657c-1.735-1.48-5.806-5.16-14.856-5.15s-12.95 3.5-14.792 5.185c-1.84 1.685-2.288 3.498-.973 4.657s2.315 1.158 4.357-.327c-.007.007 5.357-4.515 11.408-4.515z"></path></svg>');var Np=Di('<div class="container svelte-13zpvm8"><!></div>'),Rp={hash:"svelte-13zpvm8",code:".container.svelte-13zpvm8 {position:absolute;top:0;bottom:0;left:0;right:0;background:#000;display:flex;align-items:center;justify-content:center;}"};function Bp(e){bn(e,Rp);var t=Np();(function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Vp();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200","aria-hidden":"true","data-testid":"error-icon",viewBox:"460 190 130 90",role:"img",...i}))),ji(e,n)})(Re(t),{}),Ce(t),ji(e,t)}var Op=Di('<div><div class="playButton svelte-1xnh9dd" tabindex="0" role="button"><div class="playButtonBackground svelte-1xnh9dd"></div> <!></div></div>'),Dp={hash:"svelte-1xnh9dd",code:".container.svelte-1xnh9dd {position:absolute;top:0;bottom:0;left:0;right:0;background-position:center;background-size:contain;background-repeat:no-repeat;cursor:pointer;transition:opacity 0.2s, visibility 0.2s;will-change:opacity;}.container.hidden.svelte-1xnh9dd {opacity:0;visibility:hidden;}.container.bgCover.svelte-1xnh9dd {background-size:cover;}.playButton.svelte-1xnh9dd {position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;width:var(--big-play-size);height:var(--big-play-size);display:flex;align-items:center;justify-content:center;}.playButtonBackground.svelte-1xnh9dd {position:absolute;top:0;bottom:0;left:0;right:0;border-radius:var(--big-play-radius);background-color:var(--big-play-bg-color);transition:background 0.2s, transform 0.2s;transition-timing-function:ease-out;will-change:background, transform;}.container.svelte-1xnh9dd:hover .playButtonBackground:where(.svelte-1xnh9dd) {background-color:var(--big-play-hover-bg-color);transform:scale(1.15);}.playButton.svelte-1xnh9dd svg {transform:scale(2);}"};function zp(e,t){hi(t,!0),bn(e,Dp);let i=qa(),n=wa(),a=i.ui.startedByKeyboard$,o=Io("tooltip_play"),r=e=>{let i=e.code;["Enter","Space"].includes(i)&&(e.stopPropagation(),e.preventDefault(),a.set(!0),t.startVideo())},s=e=>{e.stopPropagation(),t.startVideo()};var l=Op();let d;l.__click=s;var u=Re(l);return u.__keydown=r,Ln(u,"aria-label",o),Gu(Oe(Re(u),2),{}),Ce(u),Ce(l),Bt((e=>{d=$n(l,1,"container svelte-1xnh9dd",null,d,e),Cn(l,`background-color: #222; background-image: url('${t.thumbUrl||""}')`)}),[()=>({hidden:t.hidden,bgCover:n.features.previewNoEmptySpace})]),ji(e,l),gi({handlePressKey:r,handleClick:s})}Ni(["click","keydown"]);var qp=Di("<div> </div>"),Hp={hash:"svelte-1bcvcf2",code:".title.svelte-1bcvcf2 {position:absolute;pointer-events:none;left:0;top:0;width:100%;height:var(--controls-gradient-height);font-size:15px;color:var(--white);box-sizing:border-box;padding:18px 20px 10px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition-property:visibility, transform, opacity;transition-duration:var(--controls-transition-duration);transition-timing-function:var(--controls-transition-fn);will-change:transform, opacity;background:linear-gradient(\n      0deg,\n      rgba(0, 0, 0, 0) 0%,\n      rgba(0, 0, 0, 0.02) 19%,\n      rgba(0, 0, 0, 0.10) 34%,\n      rgba(0, 0, 0, 0.40) 60%,\n      rgba(0, 0, 0, 0.60) 100%\n    );}.hidden.svelte-1bcvcf2 {visibility:hidden;transform:translateY(calc(var(--controls-gradient-height) * -1));opacity:0;}"};var jp=Di('<div class="timer__cell cell svelte-1qpxtfg"><span class="cell__value svelte-1qpxtfg"> </span> <span class="cell__unit svelte-1qpxtfg"> </span></div> <span class="timer__points svelte-1qpxtfg"> </span>',1),Fp=Di('<div class="timer__cell cell svelte-1qpxtfg"><span class="cell__value svelte-1qpxtfg"> </span> <span class="cell__unit svelte-1qpxtfg"> </span></div> <span class="timer__points svelte-1qpxtfg"> </span>',1),Up=Di('<div class="timer__cell cell svelte-1qpxtfg"><span class="cell__value svelte-1qpxtfg"> </span> <span class="cell__unit svelte-1qpxtfg"> </span></div> <span class="timer__points svelte-1qpxtfg"> </span>',1),Wp=Di('<div class="timer__cell cell svelte-1qpxtfg"><span class="cell__value svelte-1qpxtfg"> </span> <span class="cell__unit svelte-1qpxtfg"> </span></div>'),Qp=Di('<div class="timer__container svelte-1qpxtfg"><!> <!> <!> <!></div>'),Kp={hash:"svelte-1qpxtfg",code:".timer__container.svelte-1qpxtfg {display:flex;align-items:flex-start;justify-content:center;}.cell.svelte-1qpxtfg {display:flex;flex-direction:column;align-items:center;width:62px;}.cell__value.svelte-1qpxtfg {font-size:48px;line-height:1.2;font-weight:700;}.cell__unit.svelte-1qpxtfg {font-size:14px;line-height:1.2;font-weight:400;}.timer__points.svelte-1qpxtfg {display:inline-block;margin:0 8px;font-size:42px;line-height:1.2;font-weight:600;}"};function Gp(e,t){hi(t,!0),bn(e,Kp);let i,n=te(""),a=te(""),o=te(""),r=te(""),s=e=>String(e).padStart(2,"0"),l=()=>{let e=Math.floor(Date.now()/1e3),d=t.startTime-e;(e=>{let t=Math.floor(e/86400);t&&(e-=86400*t,ne(n,Pe(s(t))));let i=Math.floor(e/3600);ne(a,Pe(s(i)));let l=Math.floor(e/60)%60;ne(o,Pe(s(l))),ne(r,Pe(s(e%60)))})(d),d>=1?i=requestAnimationFrame(l):t.onTimerOver()};ea((()=>{i=requestAnimationFrame(l)})),ta((()=>{cancelAnimationFrame(i)}));var d=Qp(),u=Re(d),c=e=>{var t=jp(),i=Be(t),a=Re(i),o=Re(a,!0);Ce(a);var r=Oe(a,2),s=Re(r,!0);Ce(r),Ce(i);var l=Oe(i,2),d=Re(l,!0);Ce(l),Bt(((e,t)=>{Wi(o,Ct(n)),Wi(s,e),Wi(d,t)}),[()=>Io("waiting_live_day_value"),()=>Io("waiting_live_colon")]),ji(e,t)};Ji(u,(e=>{Ct(n)&&e(c)}));var p=Oe(u,2),v=e=>{var t=Fp(),i=Be(t),n=Re(i),o=Re(n,!0);Ce(n);var r=Oe(n,2),s=Re(r,!0);Ce(r),Ce(i);var l=Oe(i,2),d=Re(l,!0);Ce(l),Bt(((e,t)=>{Wi(o,Ct(a)),Wi(s,e),Wi(d,t)}),[()=>Io("waiting_live_hour_value"),()=>Io("waiting_live_colon")]),ji(e,t)};Ji(p,(e=>{Ct(a)&&e(v)}));var h=Oe(p,2),g=e=>{var t=Up(),i=Be(t),n=Re(i),a=Re(n,!0);Ce(n);var r=Oe(n,2),s=Re(r,!0);Ce(r),Ce(i);var l=Oe(i,2),d=Re(l,!0);Ce(l),Bt(((e,t)=>{Wi(a,Ct(o)),Wi(s,e),Wi(d,t)}),[()=>Io("waiting_live_minute_value"),()=>Io("waiting_live_colon")]),ji(e,t)};Ji(h,(e=>{Ct(o)&&e(g)}));var f=Oe(h,2),m=e=>{var t=Wp(),i=Re(t),n=Re(i,!0);Ce(i);var a=Oe(i,2),o=Re(a,!0);Ce(a),Ce(t),Bt((e=>{Wi(n,Ct(r)),Wi(o,e)}),[()=>Io("waiting_live_second_value")]),ji(e,t)};Ji(f,(e=>{Ct(r)&&e(m)})),Ce(d),ji(e,d),gi()}var Zp=zi('<svg><!><path fill="#fefffe" d="M179.5-.5h40q127.56 18.67 171.5 140 5.724 19.896 8.5 40v40q-5.549 51.6-35.5 94-9.626-12.614-24.5-18.5-1.526-1.574-.5-3.5 39.742-61.7 23-133Q329.24 50.25 217.5 33 112.126 26.56 55 114.5q-40.395 74.102-9 152a152.3 152.3 0 0 0 14 25q1.026 1.926-.5 3.5-14.874 5.886-24.5 18.5-29.95-42.4-35.5-94v-40Q18.17 51.94 139.5 8q19.896-5.724 40-8.5" style="opacity:.965"></path><path fill="#fefffe" d="M183.5 63.5q86.294-5.475 133.5 66 32.442 60.138 8 124a186.7 186.7 0 0 1-17.5 29.5 633 633 0 0 1-38-7q54.668-57.264 19.5-128.5Q252.733 91.244 185.5 97q-74.25 14.25-88.5 88.5-5.916 53.38 32.5 90.5a1150 1150 0 0 0-36 7.5q-2.294-.044-3.5-2-43.947-63.646-16-136 32.799-70.278 109.5-82" style="opacity:.965"></path><path fill="#fefffe" d="M187.5 127.5q66.786-4.422 83.5 60 5.146 66.825-59.5 83.5-66.825 5.146-83.5-59.5-4.844-66.856 59.5-84" style="opacity:.985"></path><path fill="#fefffe" d="M219.5 399.5h-40q-67.453-7.982-117-54a31.7 31.7 0 0 1 3.5-10q8.539-9.646 20.5-14.5 54.786-19.435 113-17.5 58.214-1.935 113 17.5 11.962 4.854 20.5 14.5a31.7 31.7 0 0 1 3.5 10q-49.547 46.018-117 54" style="opacity:.986"></path></svg>');var Yp=Di('<div class="upcoming svelte-15pewff"><div class="upcoming-icon svelte-15pewff"><!></div> <span class="upcoming__title svelte-15pewff"> </span></div>'),Xp=Di('<div class="waiting-timer timer svelte-15pewff"><span class="timer__title svelte-15pewff"> </span> <!></div>'),Jp=Di('<div class="waiting-container svelte-15pewff"><!></div>'),ev={hash:"svelte-15pewff",code:".waiting-container.svelte-15pewff {position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--black);background-position:center;background-size:cover;background-repeat:no-repeat;}.waiting-container.svelte-15pewff::before {content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.56);z-index:1;}.upcoming.svelte-15pewff {position:absolute;top:50%;left:0;width:100%;transform:translateY(-50%);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:0;}.upcoming-icon.svelte-15pewff {width:20%;max-width:200px;margin-bottom:20px;}.upcoming__title.svelte-15pewff {font-size:14px;line-height:1.2;font-weight:400;}.waiting-timer.svelte-15pewff {position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:2;}.timer.svelte-15pewff {display:flex;flex-direction:column;align-items:center;justify-content:center;}.timer__title.svelte-15pewff {display:inline-block;vertical-align:middle;margin-bottom:12px;font-size:14px;line-height:1.2;font-weight:400;}"};function tv(e,t){hi(t,!0),bn(e,ev);let i=te(!1);Vt((()=>{ne(i,Pe(void 0===t.startTime||t.startTime<Math.floor(Date.now()/1e3)))}));var n=Jp(),a=Re(n),o=e=>{var t=Yp(),i=Re(t);(function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Zp();let a;hn(Re(n),(()=>t.children??O)),Ae(4),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-testid":"podcast-icon",style:"shape-rendering:geometricPrecision;text-rendering:geometricPrecision;image-rendering:optimizeQuality;fill-rule:evenodd;clip-rule:evenodd;width:100%;height:100%",viewBox:"0 0 400 400",role:"img",...i}))),ji(e,n)})(Re(i),{}),Ce(i);var n=Oe(i,2),a=Re(n,!0);Ce(n),Ce(t),Bt((e=>Wi(a,e)),[()=>Io("waiting_live_upcoming_title")]),ji(e,t)},r=e=>{var n=Xp(),a=Re(n),o=Re(a,!0);Ce(a);var r=Oe(a,2);let s=re((()=>t.startTime||0));Gp(r,{get startTime(){return Ct(s)},onTimerOver:()=>ne(i,!0)}),Ce(n),Bt((e=>Wi(o,e)),[()=>Io("waiting_live_timer_title")]),ji(e,n)};Ji(a,(e=>{Ct(i)?e(o):e(r,!1)})),Ce(n),Bt((()=>Cn(n,`background-image: url(${Ct(i)?"":t.thumbUrl})`))),ji(e,n),gi()}var iv=Di('<div class="waiting-container svelte-xvqwsa"><div class="waiting-caption svelte-xvqwsa"><!> <p class="waiting-title svelte-xvqwsa"> </p></div></div>'),nv={hash:"svelte-xvqwsa",code:".waiting-container.svelte-xvqwsa {position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:var(--black);background-position:center;background-size:cover;background-repeat:no-repeat;}.waiting-container.svelte-xvqwsa::before {content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.4);backdrop-filter:blur(10px);}.waiting-caption.svelte-xvqwsa {position:relative;display:flex;flex-direction:column;align-items:center;}.waiting-title.svelte-xvqwsa {margin:0;padding:20px;text-align:center;font-size:20px;line-height:1.2;font-weight:400;}"};function av(e,t){hi(t,!0),bn(e,nv);let i=ma(t,"thumbUrl",3,""),n={recover:Io("waiting_live_recover_title"),record:Io("waiting_record_title")},a=re((()=>n[t.kind]||""));var o=iv(),r=Re(o),s=Re(r);Bs(s,{style:"position: static; transform: translate(0, 0)"});var l=Oe(s,2),d=Re(l,!0);Ce(l),Ce(r),Ce(o),Bt((()=>{Cn(o,`background-image: url('${i()}')`),Wi(d,Ct(a))})),ji(e,o),gi()}var ov=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M6 10.2 3.5 7.7a.99.99 0 0 0-1.4 1.4l3.2 3.2a1 1 0 0 0 1.4 0l7.6-7.6a.99.99 0 0 0-1.4-1.4z"></path></svg>');var rv=Di('<div class="select-icon svelte-124aexk"><!></div>'),sv={hash:"svelte-124aexk",code:".select-icon.svelte-124aexk {margin-right:auto;padding-right:12px;opacity:0.9;position:relative;top:3px;}"};function lv(e){bn(e,sv);var t=rv();(function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=ov();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16","aria-hidden":"true","data-testid":"check-mark-icon",role:"img",...i}))),ji(e,n)})(Re(t),{}),Ce(t),ji(e,t)}var dv=(e,t)=>{e.stopPropagation(),t.item.selectItem(t.item.value)},uv=(e,t)=>{Ar(e,(()=>t.item.selectItem(t.item.value)))},cv=Di("<p> </p>"),pv=Di('<p class="sublabel svelte-1t7rx2m"> </p>'),vv=Di('<li role="menuitem" tabindex="0"><!> <div><!> <!></div></li>'),hv={hash:"svelte-1t7rx2m",code:".menu-item-value.svelte-1t7rx2m {display:flex;flex-direction:column;align-items:end;min-width:0;}.menu-item-value[data-selected='false'].svelte-1t7rx2m {--select-icon-width: 16px;--icon-padding: 12px;\n\n    /**\n    * Если элемент не выбран(иконка отсутствует), то должны заполнить пустое место\n    * чтобы все лейблы начинались с одного отступа.\n    */margin-left:calc(var(--icon-padding) + var(--select-icon-width));}.label.svelte-1t7rx2m,\n  .sublabel.svelte-1t7rx2m {text-overflow:ellipsis;overflow:hidden;max-width:100%;}.sublabel.svelte-1t7rx2m {opacity:0.5;}"};Ni(["click","keydown"]);var gv=Di('<li role="menuitem" tabindex="0" aria-haspopup="true"><!> <div><!></div></li>');Ni(["click","keydown"]);var fv=100,mv=200,bv=300,yv=400,_v=500,wv=600,xv=700,kv=800,$v=900,Sv=1e3,Cv=(e,t)=>{(async(e,t,i)=>{if(wr(e),(e=>"ArrowLeft"===e.code)(e))return br(e),void t();yr(e)&&(br(e),i())})(e,t.returnFromSubMenu,t.closeSettingsMenu)},Av=(e,t)=>{e.stopPropagation(),t.returnFromSubMenu()},Tv=(e,t)=>{_r(e)&&(br(e),t.returnFromSubMenu())},Pv=Di('<div><ul role="menu"><li role="menuitem" tabindex="0" data-testid="return-to-settings-menu"><!> <p class="title svelte-7dfsuh"> </p></li> <!></ul></div>'),Ev={hash:"svelte-7dfsuh",code:".sub-menu.svelte-7dfsuh {--item-padding-vertical-mobile: 16px;--item-padding-vertical: 7px;--item-label-line-height: 18px;\n    /*Для первого и последнего элемента списка*/--edge-item-padding-vertical-mobile: calc(6px + var(--item-padding-vertical-mobile));--edge-item-padding-vertical: calc(8px + var(--item-padding-vertical));}.sub-menu.svelte-7dfsuh .item.mobile {padding:var(--item-padding-vertical-mobile) 17px;line-height:var(--item-label-line-height);font-size:14px;}.sub-menu.svelte-7dfsuh {\n    /**\n    * Так как у нас заголовок должен быть стики, нужно добавить паддинг с высоту заголовка.\n    * Предполагаем, что в одну строку он, иначе нужно рассчитывать динамически.\n    * paddingTop + lineHeight + paddingBottom.\n    */padding-top:calc(var(--edge-item-padding-vertical) + var(--item-padding-vertical) + var(--item-label-line-height));}.sub-menu.mobile.svelte-7dfsuh {padding-top:calc(\n      var(--edge-item-padding-vertical-mobile) + var(--item-padding-vertical-mobile) + var(--item-label-line-height) +\n        1px\n    );}.sub-menu.svelte-7dfsuh .items:where(.svelte-7dfsuh) .item.header:where(.svelte-7dfsuh) {position:absolute;top:0;left:0;right:0;min-width:max-content;display:flex;justify-content:space-between;border-bottom:var(--divider-border);}.header.svelte-7dfsuh .title:where(.svelte-7dfsuh) {margin-left:8px;}.sub-menu.svelte-7dfsuh .item {padding:var(--item-padding-vertical) 12px;padding-right:22px;}.items.svelte-7dfsuh .item:first-child:not(.mobile) {padding-top:var(--edge-item-padding-vertical);}.items.svelte-7dfsuh .item:last-child:not(.mobile) {padding-bottom:var(--edge-item-padding-vertical);}.items.svelte-7dfsuh .item.mobile:first-child {padding-top:var(--edge-item-padding-vertical-mobile);}.items.svelte-7dfsuh .item.mobile:last-child {padding-bottom:var(--edge-item-padding-vertical-mobile);}.sub-menu.svelte-7dfsuh .item.bottomBordered {border-bottom:var(--divider-border);}.sub-menu.svelte-7dfsuh .item .sublabel {line-height:14px;font-size:12px;}.sub-menu.svelte-7dfsuh .item:not(.mobile) .label,\n  .item.svelte-7dfsuh:not(.mobile) p:where(.svelte-7dfsuh) {line-height:var(--item-label-line-height);font-size:13px;}"};function Iv(e,t){hi(t,!0),bn(e,Ev);let[i,n]=ca(),a=()=>ua(c,"$playerSize",i),o=ma(t,"isMobile",3,!1),r=ma(t,"playerControlsHeight",3,0),s=ma(t,"ariaLabelReturnFromSubMenu",19,(()=>Io("aria_label_submenu_back"))),l=ma(t,"listRef",15);ea((()=>{let e=t.items.findIndex((e=>e.selected));l().children[e+1].focus()}));let d=qa(),u=d.ui.isFullscreen,c=d.ui.playerSize,p=te(void 0),v=te(0),h=te(0),g=re((()=>o()&&ua(u,"$isFullscreen",i)?`max-height: ${Math.round(.6*a().height)}px`:o()?"":`max-height: ${a().height-32-Ct(h)-r()}px; overflow: auto;`)),f=re((()=>Math.max(t.minWidth,Ct(v))));var m=Pv();let b;var y=Re(m);let _;y.__keydown=[Cv,t];var w=Re(y);let x;w.__click=[Av,t],w.__keydown=[Tv,t];var k=Re(w);fp(k,{direction:"left"});var $=Oe(k,2),S=Re($,!0);Ce($),Ce(w),Yn(w,(e=>ne(p,e)),(()=>Ct(p))),rn(Oe(w,2),17,(()=>t.items),on,((e,i)=>{var n=Hi(),a=Be(n),r=e=>{!function(e,t){hi(t,!0),bn(e,hv);let i=ma(t,"isMobile",3,!1);var n=vv();let a;n.__click=[dv,t],n.__keydown=[uv,t];var o=Re(n),r=e=>{lv(e)};Ji(o,(e=>{t.item.selected&&e(r)}));var s=Oe(o,2);let l;var d=Re(s),u=e=>{var i=Hi();gn(Be(i),(()=>t.item.valueComponent),((e,i)=>{i(e,ga((()=>t.item.valueComponentParams??{})))})),ji(e,i)},c=e=>{var n=cv();let a;var o=Re(n,!0);Ce(n),Bt((e=>{a=$n(n,1,"label svelte-1t7rx2m",null,a,e),Wi(o,t.item.label??t.item.value)}),[()=>({mobile:i()})]),ji(e,n)};Ji(d,(e=>{t.item.valueComponent?e(u):e(c,!1)}));var p=Oe(d,2),v=e=>{var i=pv(),n=Re(i,!0);Ce(i),Bt((()=>Wi(n,t.item.sublabel))),ji(e,i)};Ji(p,(e=>{t.item.sublabel&&e(v)})),Ce(s),Ce(n),Bt(((e,i,o)=>{a=$n(n,1,"item",null,a,e),Ln(n,"data-value",t.item.value),Ln(n,"aria-label",i),l=$n(s,1,"menu-item-value svelte-1t7rx2m",null,l,o),Ln(s,"data-selected",t.item.selected)}),[()=>({mobile:i()}),()=>t.item.ariaLabel??t.item.label??t.item.value.toString(),()=>({"submenu-value-mobile":i()})]),ji(e,n),gi()}(e,{get item(){return Ct(i)},get isMobile(){return o()}})},s=(e,n)=>{var a=e=>{!function(e,t){hi(t,!0);let i=ma(t,"isMobile",3,!1),n=ma(t,"refMenuItems",15),a=re((()=>()=>t.openSubMenuList(t.item.children))),o=re((()=>e=>Cr(e,Ct(a))));var r=gv();let s;r.__click=function(...e){Ct(a)?.apply(this,e)},r.__keydown=function(...e){Ct(o)?.apply(this,e)};var l=Re(r),d=e=>{lv(e)};Ji(l,(e=>{t.item.selected&&e(d)}));var u=Oe(l,2);let c;var p=Re(u),v=e=>{var i=Hi();let n=re((()=>t.item.valueComponent));gn(Be(i),(()=>Ct(n)),((e,i)=>{i(e,ga((()=>t.item.valueComponentParams??{})))})),ji(e,i)},h=e=>{var i=qi();Bt((()=>Wi(i,t.item.label))),ji(e,i)};Ji(p,(e=>{t.item.valueComponent?e(v):e(h,!1)})),Ce(u),Ce(r),Yn(r,(e=>n(n()[t.item.id]=e,!0)),(()=>n()?.[t.item.id])),Bt(((e,i)=>{s=$n(r,1,"item",null,s,e),Ln(r,"aria-label",t.item.ariaLabel??t.item.label),Ln(r,"data-testid",t.item.id),c=$n(u,1,"menu-item-value",null,c,i)}),[()=>({mobile:i(),bottomBordered:t.item.bottomBordered}),()=>({"submenu-value-mobile":i()})]),ji(e,r),gi()}(e,{get isMobile(){return o()},get item(){return Ct(i)},get openSubMenuList(){return t.openSubMenuList},get refMenuItems(){return t.refMenuItems}})};Ji(e,(e=>{"OPEN_SUB_MENU"===Ct(i).type&&e(a)}),n)};Ji(a,(e=>{"SELECT_VALUE"===Ct(i).type?e(r):e(s,!1)})),ji(e,n)})),Ce(y),Yn(y,(e=>l(e)),(()=>l())),Ce(m),Bt(((e,i,n)=>{b=$n(m,1,"sub-menu menu svelte-7dfsuh",null,b,e),Ln(m,"data-testid",`sub-menu-${t.id}`),Cn(m,`min-width: ${Ct(f)}px`),_=$n(y,1,"items svelte-7dfsuh",null,_,i),Cn(y,Ct(g)),x=$n(w,1,"item header back svelte-7dfsuh",null,x,n),Ln(w,"aria-label",s()),Wi(S,t.title)}),[()=>({desktop:!o(),mobile:o()}),()=>({mobile:o()}),()=>({mobile:o()})]),Gn(w,"clientWidth",(e=>ne(v,e))),Gn(w,"clientHeight",(e=>ne(h,e))),ji(e,m),gi(),n()}Ni(["keydown","click"]);var Lv=(e,t)=>Cr(e,t()),Mv=(e,t)=>{e.stopPropagation(),t()()},Vv=Di('<div class="value svelte-1ikfjte"> </div>'),Nv=Di('<li role="menuitem" tabindex="0" aria-haspopup="true"><div class="icon-wrapper"><!></div> <div class="label"> </div> <!></li>'),Rv={hash:"svelte-1ikfjte",code:".value.svelte-1ikfjte {position:relative;opacity:0.7;overflow:hidden;text-overflow:ellipsis;}"};Ni(["click","keydown"]);var Bv=(e,t)=>{Ar(e,(()=>t()))},Ov=Di('<div class="icon icon-error-stub"><div class="inner"></div></div>'),Dv=Di('<img class="icon" aria-hidden="true">'),zv=Di('<li role="menuitem" tabindex="0"><div class="icon-wrapper"><!></div> <div class="label svelte-15ifkac"> </div></li>'),qv={hash:"svelte-15ifkac",code:".label.svelte-15ifkac {overflow:hidden;text-overflow:ellipsis;}"};Ni(["click","keydown"]);var Hv=Di('<div class="toggle_wrap svelte-17wbjko"><div></div> <div class="toggle-label svelte-17wbjko"></div></div>'),jv={hash:"svelte-17wbjko",code:'.toggle_wrap.svelte-17wbjko {min-height:15px;padding:0;font-size:12px;line-height:15px;cursor:pointer;user-select:none;}.toggle.svelte-17wbjko {float:right;margin-top:3px;width:28px;height:9px;border-radius:45px;background-color:var(--toggle-color-separator);cursor:pointer;}.toggle.svelte-17wbjko::after {content:"";float:left;position:relative;width:15px;height:15px;border-radius:50%;background-color:var(--toggle-color-off);top:-3px;left:0;transition:left .1s ease;}.toggle.on.svelte-17wbjko::after {background-color:var(--toggle-color-on);left:13px;}.toggle-label.svelte-17wbjko {overflow:hidden;}'};var Fv=(e,t,i)=>{((e,t,i)=>{if(_r(e))br(e),i(!t);else{let n=e.code;if("ArrowLeft"===n&&t)return i(!1),void br(e);"ArrowRight"===n&&!t&&(i(!0),br(e))}})(e,t(),(e=>i()(e)))},Uv=(e,t,i)=>{e.stopPropagation(),t()(!i())},Wv=Di('<div><div class="icon-wrapper"><!></div> <div class="label"> </div> <!></div>'),Qv=Di('<li role="menuitem" tabindex="0"><!></li>');function Kv(e,t){hi(t,!0);let i=ma(t,"isMobile",3,!1),n=ma(t,"onClick",3,g.noop),a=ma(t,"enabled",3,!1),o=ma(t,"tooltipText",3,void 0),r=ma(t,"maxTooltipWidth",3,void 0);var s=Qv();let l;s.__click=[Uv,n,a],s.__keydown=[Fv,a,n],Rl(Re(s),{get content(){return o()},get isMobile(){return i()},placement:"left",translateX:10,isFullWidthWrapper:!0,get maxTooltipWidth(){return r()},children:(e,n)=>{var o=Wv();let r;var s=Re(o),l=Re(s),d=e=>{fc(e,{get icon(){return t.icon}})},u=e=>{var i=Hi();let n=re((()=>t.icon));gn(Be(i),(()=>Ct(n)),((e,t)=>{t(e,{})})),ji(e,i)};Ji(l,(e=>{"string"==typeof t.icon?e(d):e(u,!1)})),Ce(s);var c=Oe(s,2),p=Re(c,!0);Ce(c),function(e,t){bn(e,jv);let i=ma(t,"enabled",3,!1);var n=Hv(),a=Re(n);let o;Ae(2),Ce(n),Bt((e=>o=$n(a,1,"toggle svelte-17wbjko",null,o,e)),[()=>({on:i()})]),ji(e,n)}(Oe(c,2),{get enabled(){return a()}}),Ce(o),Bt((e=>{r=$n(o,1,"switch-wrapper",null,r,e),Wi(p,t.label)}),[()=>({mobile:i()})]),ji(e,o)},$$slots:{default:!0}}),Ce(s),Bt((e=>{l=$n(s,1,"item switch-item",null,l,e),Ln(s,"aria-label",t.ariaLabel??t.label),Ln(s,"data-testid",t.id)}),[()=>({mobile:i()})]),ji(e,s),gi()}Ni(["click","keydown"]);var Gv=Di('<div class="quality-icon svelte-t2qk8t"><!></div>'),Zv=Di('<div class="quality-label svelte-t2qk8t"><span> </span> <!></div>'),Yv={hash:"svelte-t2qk8t",code:".quality-label.svelte-t2qk8t {position:relative;}.quality.svelte-t2qk8t {font-size:13px;line-height:18px;}.quality.sub.svelte-t2qk8t {opacity:0.7;}.quality-icon.svelte-t2qk8t {position:absolute;padding-left:2px;transform:translateX(100%);display:flex;top:0;right:0;}.quality-icon.svelte-t2qk8t svg {color:var(--blue-light);}"};function Xv(e,t){hi(t,!0),bn(e,Yv);let i=ma(t,"isSubCase",3,!1),n=re((()=>cl(t.quality)));var a=Zv(),o=Re(a);let r;var s=Re(o,!0);Ce(o);var l=Oe(o,2),d=e=>{var t=Gv();let i=re((()=>Ct(n)));gn(Re(t),(()=>Ct(i)),((e,t)=>{t(e,{})})),Ce(t),ji(e,t)};Ji(l,(e=>{Ct(n)&&!t.isMobile&&e(d)})),Ce(a),Bt((e=>{r=$n(o,1,"svelte-t2qk8t",null,r,e),Wi(s,t.label)}),[()=>({sub:!i(),quality:!t.isMobile})]),ji(e,a),gi()}var Jv=({quality:e,availableQualities:t})=>{let i=t.find((t=>t.value===e));return i?i.displayValue:e},eh=Di('<div class="menu-item-value-wrapper svelte-1j7b2kc"><!></div>'),th={hash:"svelte-1j7b2kc",code:".menu-item-value-wrapper.svelte-1j7b2kc {line-height:normal;}"};function ih(e,t){hi(t,!0),bn(e,th);let[i,n]=ca(),a=()=>ua(r,"$currentQuality$",i),o=qa(),r=o.state.currentQuality$,s=o.state.availableQualities$,l=o.ui.isMobile,d=re((()=>t.prefix+(t.selected&&a()!==g.VideoQuality.INVARIANT?" · ":""))),u=re((()=>(({quality:e,availableQualities:t,prefix:i,onlyPrefix:n})=>e?n||e===h.VideoQuality.INVARIANT?i:`${i}${Jv({quality:e,availableQualities:t})}`:"...")({prefix:Ct(d),quality:a(),availableQualities:ua(s,"$availableQualities$",i),onlyPrefix:!t.selected})));var c=eh(),p=Re(c);let v=re((()=>t.selected?a():void 0));Xv(p,{get quality(){return Ct(v)},get label(){return Ct(u)},get isMobile(){return ua(l,"$isMobile$",i)},isSubCase:!0}),Ce(c),ji(e,c),gi(),n()}var nh={br:!0,span:!0},ah=(e,t={})=>{if(!e)return e;let i={...nh,...t},n=Object.keys(i);if(!n.length)return e;let a=(e=>{let t=e.join("|");return new RegExp(`<(?<keyhtml>.*?)(?<propshtml> .*?)?>(?<childrenhtml>.*?)</\\k<keyhtml>>|{(?<keyi18n>${t})}(?<childreni18n>.*?){/\\k<keyi18n>}|<(?<keyhtmlself>.*?)(?<propshtmlself> .*?)?/?>|{(?<keyi18nself>${t})}`,"g")})(n),o=[],r=0;for(let t of e.matchAll(a)){let n=t[0],a=t.groups?.keyhtml||t.groups?.keyi18n||t.groups?.keyhtmlself||t.groups?.keyi18nself||"",{index:s}=t;if(!i[a]){o.push(e.slice(r,s)),r=s+n.length;continue}let l=t.groups?.childrenhtml?ah(t.groups.childrenhtml,i):"",d=t.groups?.childrenhtml?n.replace(new RegExp(t.groups?.childrenhtml),(()=>l||"")):n;o.push(e.slice(r,s),d),r=s+n.length}return 0===r?e:(o.push(e.slice(r)),o.join(""))};function oh(e,t){hi(t,!1);let i=ma(t,"message",8),n=ah(i());Xn();var a=Hi(),o=Be(a),r=e=>{var t=Hi();vn(Be(t),(()=>n),!1,!1),ji(e,t)};Ji(o,(e=>{n&&e(r)})),ji(e,a),gi()}var rh=Di('<p class="quality-applies sublabel svelte-1qk3zto"><!></p>'),sh={hash:"svelte-1qk3zto",code:".quality-applies.svelte-1qk3zto {display:flex;justify-content:end;padding:3px 0;color:rgba(255, 255, 255, 0.5);}.quality-applies span {color:#70c1ff;}"};function lh(e,t){hi(t,!1),bn(e,sh),Xn();var i=rh(),n=Re(i);let a=se((()=>Io("quality_applience",{action:`<span>${Io("quality_applience_action")}</span>`})));oh(n,{get message(){return Ct(a)}}),Ce(i),ji(e,i),gi()}var dh=({isAutoQualityEnabled:e,trafficSavingEnabled:t,highQualityEnabled:i})=>{let n=!e&&!t&&!i;return{id:"QUALITY_OTHER",type:"OPEN_SUB_MENU",selected:n,valueComponent:ih,valueComponentParams:{prefix:Io("other_quality"),selected:n},children:"QUALITY"}},uh=({appliesTo:e,labelWithQuality:t,selected:i},{selectQuality:n})=>({id:"QUALITY_AUTO",type:"SELECT_VALUE",value:"auto",label:Io("auto_quality_limit"),valueComponent:t?ih:void 0,valueComponentParams:{prefix:Io("auto_quality_limit"),selected:i},selectItem:()=>n("auto",e),selected:i}),ch=({labelWithQuality:e,appliesTo:t,selected:i},{toggleHighQuality:n})=>({id:"QUALITY_HIGH",type:"SELECT_VALUE",value:"high_quality",selectItem:()=>n(!0,t),selected:i,label:Io("high_quality"),valueComponent:e?ih:void 0,valueComponentParams:{prefix:Io("high_quality"),selected:i},sublabel:Io("high_quality_description")}),ph=({labelWithQuality:e,appliesTo:t,selected:i},{toggleTrafficSaving:n})=>({id:"QUALITY_TRAFFIC_SAVING",type:"SELECT_VALUE",value:"save_traffic",selectItem:()=>n(!0,t),selected:i,label:Io("traffic_saving_quality"),valueComponent:e?ih:void 0,valueComponentParams:{prefix:Io("traffic_saving_quality"),selected:i},sublabel:Io("traffic_saving_quality_description")}),vh=(e,t)=>String(t.findIndex((t=>t.id===e.id))+1),hh=(e,t)=>{if(!e)return"";let i,{language:n,label:a}=e;if("und"===n?i=void 0:n&&(i=cu(n)??n),a&&n&&i){let o=t.filter((e=>e.label===a&&e.language===n));if(1===o.length)return Io("audio_stream_display_language_label",{language:i,label:a});{let t=vh(e,o);return Io("audio_stream_display_language_label_index",{language:i,label:a,index:t})}}if(a){let i=t.filter((e=>e.label===a));if(1===i.length)return a;{let t=vh(e,i);return Io("audio_stream_display_label_index",{label:a,index:t})}}if(n&&i){let a=t.filter((e=>e.language===n));if(1===a.length)return i;{let t=vh(e,a);return Io("audio_stream_display_language_index",{language:i,index:t})}}let o=vh(e,t);return Io("audio_stream_display_unknown",{index:o})},gh={QUALITY_DETAILS:e=>{let{isAutoQualityEnabled:t,isAutoQualityAvailable:i,trafficSavingEnabled:n,highQualityEnabled:a}=e,o=[];return i&&o.push({handler:uh,selected:t&&!n&&!a||!1}),o.push({handler:ph,selected:n},{handler:ch,selected:a}),{title:Io("submenu_quality"),id:"QUALITY_DETAILS",items:[{id:"QUALITY_APPLIENCE",type:"OPEN_SUB_MENU",valueComponent:lh,bottomBordered:!0,children:"QUALITY_APPLIENCE"},...o.map((({handler:t,selected:i})=>t({labelWithQuality:!0,appliesTo:"to-video",selected:i},e))),dh(e)]}},QUALITY:({closeSettingsMenu:e,selectQuality:t,availableQualities:i,isMobile:n})=>({id:"QUALITY",title:Io("submenu_quality"),closeSettingsMenu:e,items:i.map((e=>({type:"SELECT_VALUE",value:e.value,valueComponent:Xv,valueComponentParams:{quality:e.value,label:e.displayValue,isMobile:n,isSubCase:!0},selectItem:e=>t(e,"to-video"),selected:e.selected,label:e.displayValue})))}),QUALITY_APPLIENCE:e=>{let{closeSettingsMenu:t}=e;return{id:"QUALITY_APPLIENCE",title:Io("default_quality_for_any_video"),closeSettingsMenu:t,items:[{handler:uh,selected:"auto_quality"===yo()?.type},{handler:ph,selected:"traffic_saving"===yo()?.type},{handler:ch,selected:"high_quality"===yo()?.type}].map((({handler:t,selected:i})=>t({labelWithQuality:!1,appliesTo:"as-default",selected:i},e)))}},AUDIO_LANGUAGES:({closeSettingsMenu:e,availableAudioStreams:t,currentAudioStream:i,selectAudioLanguage:n})=>({id:"AUDIO_LANGUAGES",title:Io("submenu_audio_languages"),closeSettingsMenu:e,items:t.map((e=>({type:"SELECT_VALUE",value:e,dataValue:e.id,selectItem:n,selected:e.id===i?.id,label:hh(e,t)})))}),PLAYBACK_RATE_SUB_MENU:({closeSettingsMenu:e,availablePlaybackRates:t,selectPlaybackRate:i})=>({id:"PLAYBACK_RATE_SUB_MENU",title:Io("submenu_playback_rate"),closeSettingsMenu:e,items:t.map((e=>({type:"SELECT_VALUE",value:e.value,selectItem:i,selected:e.selected,label:e.displayValue})))}),SUBTITLES:({availableSubtitlesList:e,selectSubtitle:t})=>({id:"SUBTITLES",minWidth:164,title:Io("subtitles_caption"),items:e.map((e=>({type:"SELECT_VALUE",value:e,selectItem:t,selected:e.selected,label:e.displayValue})))})},fh=zi('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M.1 6.5c0-2.24 0-3.36.436-4.216A4 4 0 0 1 2.284.536C3.139.1 4.259.1 6.5.1h5c2.24 0 3.36 0 4.216.436a4 4 0 0 1 1.748 1.748c.436.856.436 1.976.436 4.216s0 3.36-.436 4.216a4 4 0 0 1-1.748 1.748c-.836.426-1.925.436-4.064.436l.55 2.2H14.1a.9.9 0 0 1 0 1.8H3.9a.9.9 0 1 1 0-1.8h1.897l.55-2.2c-2.139 0-3.227-.01-4.063-.436a4 4 0 0 1-1.748-1.748C.1 9.86.1 8.74.1 6.5m11.4-4.6h-5c-1.15 0-1.904.002-2.481.049-.556.045-.786.124-.918.19a2.2 2.2 0 0 0-.962.962c-.067.132-.145.363-.19.918-.048.577-.05 1.331-.05 2.481s.002 1.904.05 2.48c.045.556.123.787.19.919a2.2 2.2 0 0 0 .962.961c.132.068.362.146.918.192.577.047 1.33.048 2.48.048h5c1.15 0 1.904-.001 2.481-.048.556-.046.787-.124.918-.192a2.2 2.2 0 0 0 .962-.961c.067-.132.146-.363.191-.918.047-.577.049-1.331.049-2.48s-.002-1.905-.049-2.482c-.045-.555-.124-.786-.191-.918a2.2 2.2 0 0 0-.962-.961c-.131-.067-.362-.146-.918-.191-.577-.048-1.33-.049-2.48-.049m-3.298 11-.55 2.2h2.695l-.55-2.2z" clip-rule="evenodd"></path></svg>');function mh(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=fh();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"17",fill:"none","aria-hidden":"true","data-testid":"traffic-saving-icon",role:"img",...i}))),ji(e,n)}var bh=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M8.295 14.247c1.87 1.896 5.505.02 5.505-3.548V5.645l2.399-.697A2.74 2.74 0 0 0 18 2.364l-.01-1.72a.75.75 0 0 0-.906-.623l-.267.061c-.941.215-1.886.431-2.807.721-1.332.45-2.03 1.614-2.01 3.077V9c-3.887.196-5.639 3.286-3.705 5.247M.9.1a.9.9 0 0 0 0 1.8h8.197a.9.9 0 0 0 0-1.8zM.9 5.1a.9.9 0 1 0 0 1.8h7.196a.9.9 0 0 0 0-1.8zM0 11a.9.9 0 0 1 .9-.9h4.183a.9.9 0 1 1 0 1.8H.9A.9.9 0 0 1 0 11"></path></svg>');function yh(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=bh();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"15",fill:"none","aria-hidden":"true","data-testid":"audio-languages-icon",role:"img",...i}))),ji(e,n)}var _h=zi('<svg><!><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"></path><path fill="var(--btn-color, #fff)" fill-rule="nonzero" d="M11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69A7.94 7.94 0 0 1 11 4.07M5.69 7.1 4.26 5.68A9.95 9.95 0 0 0 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9M2.05 13c.2 2.01 1 3.84 2.21 5.32l1.43-1.43A7.87 7.87 0 0 1 4.07 13zM11 21.95v-2.02a7.94 7.94 0 0 1-3.9-1.62l-1.42 1.43A10 10 0 0 0 11 21.95M22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12M10.688 8.576l4.746 2.736a.792.792 0 0 1 0 1.372l-4.746 2.737a.792.792 0 0 1-1.188-.686V9.262a.792.792 0 0 1 1.188-.686"></path></g></svg>');function wh(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=_h();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true","data-testid":"play-speed-icon",role:"img",...i}))),ji(e,n)}var xh=zi('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M8 0a.9.9 0 0 1 .9.9v10.927l4.564-4.563a.9.9 0 0 1 1.272 1.272l-6.1 6.1a.9.9 0 0 1-1.272 0l-6.1-6.1a.9.9 0 1 1 1.272-1.272L7.1 11.827V.9A.9.9 0 0 1 8 0M0 18a.9.9 0 0 1 .9-.9h14.2a.9.9 0 1 1 0 1.8H.9A.9.9 0 0 1 0 18" clip-rule="evenodd"></path></svg>');function kh(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=xh();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"19",fill:"none","aria-hidden":"true","data-testid":"download-icon",role:"img",...i}))),ji(e,n)}var $h=zi('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M8.863 2.1h6.274c.674-.002 1.2.211 1.683.697l4.383 4.383c.478.476.699.998.697 1.683v6.274c.002.685-.22 1.207-.697 1.683l-4.383 4.383c-.476.478-.998.699-1.683.697H8.863c-.685.002-1.207-.22-1.683-.697L2.797 16.82c-.478-.476-.699-.998-.697-1.683V8.863c-.002-.685.22-1.207.697-1.683L7.18 2.797c.484-.486 1.009-.699 1.683-.697m-.445 2.005L4.105 8.418c-.18.18-.205.242-.205.495v6.174c0 .25.025.316.205.495l4.313 4.313c.179.179.24.205.495.205h6.174c.253 0 .316-.026.495-.205l4.313-4.313c.18-.18.205-.245.205-.495V8.913c0-.254-.026-.316-.205-.495l-4.313-4.313c-.18-.18-.242-.205-.495-.205H8.913c-.254 0-.319.029-.495.205M13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-.1-8.1a.9.9 0 0 0-1.8 0v5.2a.9.9 0 1 0 1.8 0z" clip-rule="evenodd"></path></svg>');function Sh(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=$h();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true","data-testid":"report-icon",role:"img",...i}))),ji(e,n)}var Ch=zi('<svg><!><path fill="var(--btn-color, #fff)" fill-rule="evenodd" d="M4 12.3V12c0-1.47.005-2.547.075-3.403.074-.904.216-1.482.454-1.949a4.85 4.85 0 0 1 2.12-2.12c.466-.237 1.044-.379 1.948-.453C9.51 4.001 10.675 4 12.3 4h4.512a2 2 0 0 0-.174-.49 2.4 2.4 0 0 0-1.048-1.048 2.4 2.4 0 0 0-.931-.239 14 14 0 0 0-1.026-.023H12.26c-1.576 0-2.814 0-3.81.081-1.014.083-1.856.255-2.62.644A6.65 6.65 0 0 0 2.926 5.83c-.389.763-.56 1.605-.644 2.62-.081.995-.081 2.233-.081 3.809v1.373c0 .392 0 .738.023 1.025.025.306.081.623.239.931a2.4 2.4 0 0 0 1.048 1.05c.162.082.326.136.49.173V12.3zM10.08 6h-.035c-.52 0-.964 0-1.329.03-.383.03-.755.097-1.112.276a2.9 2.9 0 0 0-1.298 1.298c-.179.357-.246.73-.277 1.112C6 9.081 6 9.524 6 10.046v7.909c0 .52 0 .964.03 1.329.03.382.097.755.276 1.112a2.9 2.9 0 0 0 1.298 1.298c.357.179.73.246 1.112.277.365.029.808.029 1.329.029h6.91c.52 0 .964 0 1.329-.03.382-.03.755-.097 1.112-.276a2.9 2.9 0 0 0 1.298-1.298c.179-.357.246-.73.277-1.112.029-.365.029-.808.029-1.33v-7.909c0-.52 0-.964-.03-1.329-.03-.382-.097-.755-.276-1.112a2.9 2.9 0 0 0-1.298-1.298c-.357-.179-.73-.246-1.112-.277C17.919 6 17.476 6 16.954 6zM8.408 7.916c.065-.032.179-.07.452-.093a18 18 0 0 1 1.22-.023h6.84c.565 0 .936 0 1.22.023.273.022.387.06.452.093a1.1 1.1 0 0 1 .492.492c.032.065.07.179.093.452.022.284.023.655.023 1.22v7.84c0 .565 0 .936-.023 1.22-.023.273-.06.387-.093.452a1.1 1.1 0 0 1-.492.492c-.065.032-.18.07-.452.093a18 18 0 0 1-1.22.023h-6.84c-.565 0-.936 0-1.22-.023-.273-.023-.387-.06-.452-.093a1.1 1.1 0 0 1-.492-.492c-.032-.065-.07-.18-.093-.452a17 17 0 0 1-.023-1.22v-7.84c0-.565 0-.936.023-1.22.022-.273.06-.387.093-.452a1.1 1.1 0 0 1 .492-.492" clip-rule="evenodd"></path></svg>');function Ah(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Ch();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true","data-testid":"copy-icon",role:"img",...i}))),ji(e,n)}var Th=zi('<svg><!><path fill="var(--btn-color, #fff)" d="M12 20.105a8.105 8.105 0 1 0 0-16.21 8.105 8.105 0 0 0 0 16.21M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10m0-12.372a1.316 1.316 0 1 1 0-2.632 1.316 1.316 0 0 1 0 2.632m-.947 2.822c0-.541.424-.98.947-.98s.947.439.947.98v3.83c0 .54-.424.98-.947.98s-.947-.44-.947-.98z"></path></svg>');function Ph(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Th();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none","aria-hidden":"true","data-testid":"info-icon",role:"img",...i}))),ji(e,n)}var Eh=Di('<div class="menu-item-value-wrapper svelte-1j7b2kc"><!></div>'),Ih={hash:"svelte-1j7b2kc",code:".menu-item-value-wrapper.svelte-1j7b2kc {line-height:normal;}"};function Lh(e,t){hi(t,!0),bn(e,Ih);let[i,n]=ca(),a=()=>ua(r,"$currentQuality$",i),o=qa(),r=o.state.currentQuality$,s=o.state.availableQualities$,l=o.state.isAutoQualityEnabled$,d=o.ui.isMobile,u=re((()=>(({quality:e,availableQualities:t,isAutoQualityEnabled:i})=>{if(!e)return"...";let n=Jv({quality:e,availableQualities:t});return i?e===h.VideoQuality.INVARIANT?Io("auto_quality_invariant"):Io("auto_quality",{actual:n}):n})({quality:a(),availableQualities:ua(s,"$availableQualities$",i),isAutoQualityEnabled:ua(l,"$isAutoQualityEnabled$",i)})));var c=Eh();Xv(Re(c),{get quality(){return a()},get label(){return Ct(u)},get isMobile(){return ua(d,"$isMobile$",i)}}),Ce(c),ji(e,c),gi(),n()}var Mh={QUALITY_SETTINGS:({isAutoQualityEnabled:e,currentQuality:t,qualityDetailsSubMenuEnabled:i})=>{let n=(e?Io("auto_quality_option"):t)||"";return{id:"QUALITY_SETTINGS",type:"OPEN_SUB_MENU",ariaLabel:Io("aria_label_menu_quality",{actual:n}),icon:fl,label:Io("menu_quality"),value:t,valueComponent:Lh,weight:fv,children:i?"QUALITY_DETAILS":"QUALITY"}},TRAFFIC_SAVING_SWITCH:({trafficSavingEnabled:e,toggleTrafficSaving:t})=>({id:"TRAFFIC_SAVING_SWITCH",weight:_v,type:"SWITCH",onClick:e=>t(e,"to-video"),ariaLabel:e?Io("aria_label_submenu_traffic_saving_off"):`${Io("aria_label_submenu_traffic_saving_on")}. ${Io("traffic_saving_helper_text")}`,icon:mh,label:Io("menu_traffic_saving"),enabled:e,tooltipText:Io("traffic_saving_helper_text"),maxTooltipWidth:175}),AUDIO_LANGUAGES:({currentAudioStream:e,availableAudioStreams:t})=>{let i=hh(e,t);return{id:"AUDIO_LANGUAGES",weight:mv,type:"OPEN_SUB_MENU",ariaLabel:Io("aria_label_menu_audio_languages",{actual:i}),icon:yh,label:Io("menu_audio_languages"),value:i,children:"AUDIO_LANGUAGES"}},PLAYBACK_RATE:({availablePlaybackRates:e,currentPlaybackRate:t})=>{let i=e.find((e=>e.value===t))?.displayValue||"";return{id:"PLAYBACK_RATE",weight:bv,type:"OPEN_SUB_MENU",ariaLabel:Io("aria_label_menu_rate",{actual:i}),icon:wh,label:Io("menu_playback_rate"),value:`${t}x`,children:"PLAYBACK_RATE_SUB_MENU"}},SUBTITLES:({currentSubtitle:e})=>({id:"SUBTITLES",weight:yv,type:"OPEN_SUB_MENU",ariaLabel:Io("aria_label_menu_subtitle",{actual:e.displayValue}),icon:xl,label:Io("subtitles_caption"),value:e.displayValue,children:"SUBTITLES"}),DOWNLOAD:({onDownloadClick:e})=>({id:"DOWNLOAD",weight:wv,type:"CLICK",onClick:e,label:Io("download_video_caption"),ariaLabel:Io("aria_label_menu_download"),icon:kh}),SHOW_SUPPORT:({onReportProblemClick:e})=>({id:"SHOW_SUPPORT",weight:xv,type:"CLICK",onClick:e,label:Io("menu_report"),ariaLabel:`${Io("menu_report")}. ${Io("aria_label_new_tab_alert")}`,icon:Sh,isHiddenFor:["desktop"]}),COPY_DATA:({onCopyDataClick:e})=>({id:"COPY_DATA",weight:kv,type:"CLICK",onClick:e,label:Io("menu_copy_debug"),ariaLabel:Io("menu_copy_debug"),icon:Ah,isHiddenFor:["desktop"]}),SAVE_TRACE_INFO:({onSaveTraceDataClick:e})=>({id:"SAVE_TRACE_INFO",weight:$v,type:"CLICK",onClick:e,label:Io("menu_save_debug"),ariaLabel:Io("menu_save_debug"),icon:Ah,isHiddenFor:["desktop"]}),DEBUG_INFO:({toggleShowDebugInfo:e,debugPanelVisible:t})=>({id:"DEBUG_INFO",weight:Sv,type:"CLICK",onClick:e,label:Io(t?"aria_label_menu_debug_overlay_disable":"aria_label_menu_debug_overlay_enable"),ariaLabel:Io("menu_debug_overlay"),icon:Ph,isHiddenFor:["desktop"]})},Vh=(e,t)=>{Sr(e,t)},Nh=Di('<div><div> </div> <div class="close svelte-17or3al"></div></div>'),Rh=Di('<div data-testid="settings-menu"><!> <ul role="menu"></ul></div>'),Bh=Di("<div><!> <!></div>"),Oh={hash:"svelte-17or3al",code:".settings-menu-container.mobile.svelte-17or3al {width:100%;}.settings-menu-container.svelte-17or3al ul {margin:0;padding:0;list-style-type:none;}.settings-menu-container.svelte-17or3al .menu {background-color:var(--settings-bg);border-radius:var(--settings-radius);transition:opacity 0.2s, visibility 0.2s;overflow:hidden;}.settings-menu-container.svelte-17or3al .menu .item:first-child:not(.mobile) {border-top-right-radius:var(--settings-radius);border-top-left-radius:var(--settings-radius);}.settings-menu-container.svelte-17or3al .menu .item:last-child {border-bottom-right-radius:var(--settings-radius);border-bottom-left-radius:var(--settings-radius);}.settings-menu-container.svelte-17or3al .settings-menu .item:first-child:not(.mobile) {padding-top:6px;}.settings-menu-container.svelte-17or3al .settings-menu .item:last-child:not(.mobile) {padding-bottom:6px;}.settings-menu-container.svelte-17or3al .menu.desktop {position:absolute;right:0;bottom:0;max-width:100%;}.settings-menu.svelte-17or3al {line-height:40px;}.settings-menu.desktop.svelte-17or3al {\n    /* нужно чтоб меню не скакало в ширине при смене разрешения, особо актуально при авто режиме */min-width:300px;}.settings-menu-container.svelte-17or3al .menu.mobile {width:100%;background:var(--mobile-settings-bg);font-size:15px;line-height:50px;}.settings-menu-container.svelte-17or3al .menu.mobile.hidden {display:none;}.settings-menu-container.svelte-17or3al .menu .item:not(.switch-item),\n  .settings-menu-container.svelte-17or3al .menu .switch-wrapper {align-items:center;color:var(--white);cursor:pointer;display:flex;justify-content:flex-end;white-space:nowrap;position:relative;}.settings-menu-container.svelte-17or3al .menu .item:hover {background-color:var(--settings-item-bg-hover);}.settings-menu-container.svelte-17or3al .menu .item.mobile:hover {background:var(--mobile-settings-bg);}.settings-menu.svelte-17or3al .item:not(.switch-item),\n  .settings-menu.svelte-17or3al .switch-wrapper {padding:0 32px 0 18px;}.settings-menu.svelte-17or3al .item.mobile:not(.switch-item),\n  .settings-menu.svelte-17or3al .switch-wrapper.mobile {padding:0 14px;}.settings-menu.svelte-17or3al .icon-wrapper {width:24px;min-width:24px;height:24px;display:flex;align-items:center;justify-content:center;margin-right:16px;}.settings-menu.svelte-17or3al .label {flex-grow:1;margin-right:24px;overflow:hidden;text-overflow:ellipsis;}.settings-menu.svelte-17or3al .item.header.mobile:where(.svelte-17or3al) {color:var(--white);cursor:pointer;justify-content:space-between;column-gap:12px;display:flex;border-bottom:var(--divider-border);margin-bottom:4px;}.settings-menu-container.svelte-17or3al .items::-webkit-scrollbar {width:8px;}.settings-menu-container.svelte-17or3al .items::-webkit-scrollbar-track {box-shadow:none;background-color:#3a3a3a;border-radius:4px;}.settings-menu-container.svelte-17or3al .items::-webkit-scrollbar-thumb {min-height:40px;border-radius:5px;background-color:#666;border:1px solid transparent;background-clip:padding-box;}.settings-menu-container.svelte-17or3al .items::-webkit-scrollbar-thumb:hover {background-color:#777;}.settings-menu-container.svelte-17or3al .items.mobile {overflow-y:auto;overflow-x:hidden;max-height:160px;text-align:left;}.close.svelte-17or3al {position:relative;width:12px;height:12px;padding:12px;margin-right:-12px;}.close.svelte-17or3al:before, .close.svelte-17or3al:after {position:absolute;left:18px;content:' ';height:12px;width:2px;background-color:var(--white);}.close.svelte-17or3al:before {transform:rotate(45deg);}.close.svelte-17or3al:after {transform:rotate(-45deg);}"};function Dh(e,t){hi(t,!0),bn(e,Oh);let[i,n]=ca(),a=()=>ua(B,"$settingsMenuVisible",i),o=()=>ua(O,"$settingsMenuOpenedByKeyboard",i),r=()=>ua(W,"$debugPanelVisible",i),s=()=>ua(z,"$isMobile",i),l=()=>ua(U,"$playerSize",i),d=()=>ua(q,"$mobileNotReportControlHidden$",i),u=()=>ua(V,"$availableSubtitlesList$",i),c=()=>ua(S,"$availableAudioStreams$",i),p=()=>ua(L,"$availablePlaybackRates$",i),v=()=>ua($,"$currentAudioStream$",i),h=()=>ua(j,"$trafficSavingEnabled",i),f=()=>ua(C,"$currentQuality$",i),m=()=>ua(P,"$isAutoQualityEnabled$",i),b=ma(t,"ref",15,void 0),y=ma(t,"playerControlsHeight",3,0),_=Pe({}),w=Pe({}),x=qa(),k=wa(),$=x.state.audioStream$,S=x.state.availableAudioStreams$,C=x.state.currentQuality$,A=x.state.availableQualities$,T=x.state.autoQualityLimitingAvailable$,P=x.state.isAutoQualityEnabled$,E=x.state.isAutoQualityAvailable$,I=x.state.currentPlaybackRate$,L=x.state.availablePlaybackRates$,M=x.state.currentSubtitle$,V=x.state.availableSubtitlesList$,N=x.state.canDownload,R=x.state.hasMpegSources$,B=x.ui.settingsMenu.visible$,O=x.ui.settingsMenu.openedByBtnKeyboard$,D=x.ui.settingsMenu.ref$,z=x.ui.isMobile,q=x.ui.mobileNotReportControlHidden$,H=x.state.canChangePlaybackSpeed$,j=x.state.trafficSavingEnabled$,F=x.state.highQualityEnabled$,U=x.ui.playerSize,W=x.ui.debugPanelVisible,Q=x.state.isInteractiveTime$,K=x.ui.additionalSettingsMenuItems$,G=x.ui.t,Z=x.actions.internal.downloadVideo,Y=x.actions.internal.closeSettingsMenu,X=x.actions.internal.openSettingsSubMenu,J=x.actions.internal.closeSettingsSubMenu,ee=te(!1),ie=te(void 0),ae=(()=>{let e=te(Pe([])),t=re((()=>(Ct(e).length?Ct(e).at(-1):null)||null));return{get current(){return Ct(t)},pushSubMenu:t=>{Ct(e).push(t)},popSubMenu:()=>{ne(e,Pe(Ct(e).slice(0,-1)))},popAllSubMenus:()=>{ne(e,Pe([]))}}})();async function oe(e){ae.pushSubMenu(e),await St(),X(e,w[e])}function se(e){e?.stopPropagation(),o()||t.returnFocus?.(),Y(),ne(ee,!1)}function le(e,t){x.actions.internal.setQuality(e,{appliesTo:t}),se()}function de(e){x.actions.internal.setAudioStream(e),se()}function ue(e,t){x.actions.internal.setTrafficSavingEnabled(e,t),k.features.qualityDetailsSubMenuEnabled&&se()}function ce(e,t){x.actions.internal.setHighQualityEnabled(e,t),se()}function pe(e){x.actions.internal.setPlaybackRate(e),se()}function ve(e){x.actions.internal.setSubtitle(e),se()}function he(){Z()}function ge(){(0,g.isValidURL)(t.supportLink)&&window.open(t.supportLink,"_blank"),x.actions.internal.reportProblem(),x.actions.internal.pause()}function fe(){mr(x.actions.internal.getDebugTextData())}Vt((()=>{!a()&&ae.current&&(J(w[ae.current]),ae.popAllSubMenus())})),Vt((()=>{a()||ne(ie,void 0)})),Vt((()=>{!ae.current&&Ct(ie)&&(async(e,t)=>{setTimeout((()=>{let i=e[t];i&&i.focus()}),100)})(_,Ct(ie))})),Vt((()=>{b()&&D.set(b())}));let me=()=>{let e=x.actions.internal.getTraceTextData(),t=new Blob([...e],{type:"application/json"}),i=window.URL.createObjectURL(t);Oa(i,"vk_player_trace_info","json")};function be(){W.set(!r())}function ye(){ne(ee,!0)}function _e(){ne(ee,!1)}function we(){return s()?`max-height: ${Math.round(.6*l().height)}px`:`max-height: ${l().height-32-y()}px; overflow: auto;`}let xe=re((()=>N&&ua(R,"$hasMpegSources$",i)&&!d())),ke=re((()=>k.features.trafficSaving&&!d()&&ua(T,"$autoQualityLimitingAvailable$",i)&&!k.features.qualityDetailsSubMenuEnabled)),$e=re((()=>u().length>0&&!d())),Se=re((()=>!!ua(H,"$isLiveWithPlaybackSpeed",i)&&!d())),Ae=re((()=>k.features.audioLanguages&&c().length>=2&&!d())),Te=re((()=>!d()));ea((()=>Q.subscribe((e=>{e&&!s()&&!Ct(ee)&&!o()&&se()}))));let Ee=re((()=>(({items:e,context:t,additionalSettingsMenuItems:i})=>{let{isMobile:n}=t;return[...e.map((e=>Mh[e](t))),...i.map((e=>({...e,isAdditional:!0})))].filter((e=>!e?.isHiddenFor?.length||!e?.isHiddenFor?.includes("desktop")&&!n||!e?.isHiddenFor?.includes("mobile")&&n)).sort(qr)})({items:[Ct(Te)&&"QUALITY_SETTINGS",Ct(Ae)&&"AUDIO_LANGUAGES",Ct(Se)&&"PLAYBACK_RATE",Ct($e)&&"SUBTITLES",Ct(ke)&&"TRAFFIC_SAVING_SWITCH",Ct(xe)&&"DOWNLOAD",k.showSupport&&"SHOW_SUPPORT","COPY_DATA",k.features.saveTraceInfoToFile&&"SAVE_TRACE_INFO","DEBUG_INFO"].filter((e=>!!e)),context:{qualityDetailsSubMenuEnabled:k.features.qualityDetailsSubMenuEnabled,availablePlaybackRates:p(),currentAudioStream:v(),availableAudioStreams:c(),currentPlaybackRate:ua(I,"$currentPlaybackRate$",i),selectPlaybackRate:pe,trafficSavingEnabled:h(),toggleTrafficSaving:ue,currentQuality:f()||g.VideoQuality.INVARIANT,isAutoQualityEnabled:m()||!1,currentSubtitle:ua(M,"$currentSubtitle$",i),isMobile:s(),onDownloadClick:he,debugPanelVisible:r(),onCopyDataClick:fe,onReportProblemClick:ge,onSaveTraceDataClick:me,toggleShowDebugInfo:be},additionalSettingsMenuItems:ua(K,"$additionalSettingsMenuItems$",i)}))),Ie=re((()=>(({subMenuId:e,context:t})=>e?[gh[e](t)]:[])({subMenuId:ae.current,context:{availablePlaybackRates:p(),selectPlaybackRate:pe,trafficSavingEnabled:h(),toggleTrafficSaving:ue,currentQuality:f()||g.VideoQuality.INVARIANT,isAutoQualityEnabled:m()||!1,isAutoQualityAvailable:ua(E,"$isAutoQualityAvailable$",i)||!1,availableQualities:ua(A,"$availableQualities$",i),highQualityEnabled:ua(F,"$highQualityEnabled",i),toggleHighQuality:ce,availableAudioStreams:c(),availableSubtitlesList:u(),closeSettingsMenu:Y,currentAudioStream:v(),isMobile:s(),selectAudioLanguage:de,selectQuality:le,selectSubtitle:ve}})));var Le=Bh();let Me;var Ve=Re(Le),Ne=e=>{var t=Rh();let i;t.__keydown=[Vh,Y];var n=Re(t),a=e=>{var t=Nh();let i;var n=Re(t),a=Re(n,!0);Ce(n),Oe(n,2).__click=se,Ce(t),Bt(((e,n)=>{i=$n(t,1,"item header svelte-17or3al",null,i,e),Wi(a,n)}),[()=>({mobile:s()}),()=>G("submenu_settings")]),ji(e,t)};Ji(n,(e=>{s()&&e(a)}));var o=Oe(n,2);let r;rn(o,21,(()=>Ct(Ee)),(e=>e.id),((e,t)=>{var i=Hi(),n=Be(i),a=e=>{!function(e,t){hi(t,!0),bn(e,Rv);let i=ma(t,"isMobile",3,!1),n=ma(t,"onClick",3,g.noop),a=ma(t,"valueComponent",3,void 0),o=ma(t,"ref",15);var r=Nv();let s;r.__click=[Mv,n],r.__keydown=[Lv,n];var l=Re(r),d=Re(l),u=e=>{fc(e,{get icon(){return t.icon}})},c=e=>{var i=Hi();let n=re((()=>t.icon));gn(Be(i),(()=>Ct(n)),((e,t)=>{t(e,{})})),ji(e,i)};Ji(d,(e=>{"string"==typeof t.icon?e(u):e(c,!1)})),Ce(l);var p=Oe(l,2),v=Re(p,!0);Ce(p);var h=Oe(p,2),f=e=>{var t=Hi();let i=re(a);gn(Be(t),(()=>Ct(i)),((e,t)=>{t(e,{})})),ji(e,t)},m=e=>{var i=Vv(),n=Re(i,!0);Ce(i),Bt((()=>Wi(n,t.value))),ji(e,i)};Ji(h,(e=>{a()?e(f):e(m,!1)})),Ce(r),Yn(r,(e=>o(e)),(()=>o())),Bt((e=>{s=$n(r,1,"item",null,s,e),Ln(r,"aria-label",t.ariaLabel),Ln(r,"data-testid",t.id),Wi(v,t.label)}),[()=>({mobile:i()})]),ji(e,r),gi()}(e,{get isMobile(){return s()},get id(){return Ct(t).id},get icon(){return Ct(t).icon},get label(){return Ct(t).label},get ariaLabel(){return Ct(t).ariaLabel},get value(){return Ct(t).value},get valueComponent(){return Ct(t).valueComponent},onClick:()=>{oe(Ct(t).children),ne(ie,Pe(Ct(t).id))},get ref(){return _[Ct(t).id]},set ref(e){_[Ct(t).id]=e}})},o=(e,i)=>{var n=e=>{!function(e,t){hi(t,!0),bn(e,qv);let i=ma(t,"isMobile",3,!1),n=ma(t,"onClick",3,g.noop),a=ma(t,"closeSettings",3,g.noop),o=te(!1),r=()=>{ne(o,!0)},s=e=>{e?.stopPropagation(),n()(),a()()};var l=zv();let d;l.__click=s,l.__keydown=[Bv,s];var u=Re(l),c=Re(u),p=e=>{var i=Hi(),n=Be(i),a=e=>{ji(e,Ov())},s=e=>{var i=Dv();Bt((()=>Ln(i,"src",t.icon))),Vi("error",i,r),Li(i),ji(e,i)};Ji(n,(e=>{Ct(o)?e(a):e(s,!1)})),ji(e,i)},v=e=>{var i=Hi();let n=re((()=>t.icon));gn(Be(i),(()=>Ct(n)),((e,t)=>{t(e,{})})),ji(e,i)};Ji(c,(e=>{"string"==typeof t.icon?e(p):e(v,!1)})),Ce(u);var h=Oe(u,2),f=Re(h,!0);Ce(h),Ce(l),Bt((e=>{d=$n(l,1,"item",null,d,e),Ln(l,"aria-label",t.ariaLabel??t.label),Ln(l,"data-testid",t.id),Wi(f,t.label)}),[()=>({mobile:i()})]),ji(e,l),gi()}(e,{get isMobile(){return s()},get id(){return Ct(t).id},get onClick(){return Ct(t).onClick},get icon(){return Ct(t).icon},get label(){return Ct(t).label},get ariaLabel(){return Ct(t).ariaLabel},closeSettings:se})},a=(e,i)=>{var n=e=>{Kv(e,{get isMobile(){return s()},get id(){return Ct(t).id},get onClick(){return Ct(t).onClick},get icon(){return Ct(t).icon},get label(){return Ct(t).label},get ariaLabel(){return Ct(t).ariaLabel},get enabled(){return Ct(t).enabled},get tooltipText(){return Ct(t).tooltipText},get maxTooltipWidth(){return Ct(t).maxTooltipWidth}})};Ji(e,(e=>{"SWITCH"===Ct(t).type&&e(n)}),i)};Ji(e,(e=>{"CLICK"===Ct(t).type?e(n):e(a,!1)}),i)};Ji(n,(e=>{"OPEN_SUB_MENU"===Ct(t).type?e(a):e(o,!1)})),ji(e,i)})),Ce(o),Yn(o,(e=>b(e)),(()=>b())),Ce(t),Bt(((e,n,a)=>{i=$n(t,1,"settings-menu menu svelte-17or3al",null,i,e),r=$n(o,1,"items",null,r,n),Cn(o,a)}),[()=>({desktop:!s(),mobile:s(),hidden:!!ae.current}),()=>({mobile:s()}),we]),Vi("mouseenter",t,ye),Vi("mouseleave",t,_e),ji(e,t)};Ji(Ve,(e=>{a()&&e(Ne)})),rn(Oe(Ve,2),17,(()=>Ct(Ie)),(e=>e.id),((e,t)=>{let i=re((()=>Ct(t).minWidth??137));Iv(e,{get isMobile(){return s()},get playerControlsHeight(){return y()},get returnFromSubMenu(){return ae.popSubMenu},get id(){return Ct(t).id},get title(){return Ct(t).title},closeSettingsMenu:Y,openSubMenuList:oe,get items(){return Ct(t).items},get minWidth(){return Ct(i)},get refMenuItems(){return _},get listRef(){return w[Ct(t).id]},set listRef(e){w[Ct(t).id]=e}})})),Ce(Le),Bt((e=>Me=$n(Le,1,"settings-menu-container svelte-17or3al",null,Me,e)),[()=>({mobile:s(),hidden:!a()})]),ji(e,Le),gi(),n()}Ni(["keydown","click"]);var zh=e=>e;function qh(e,{delay:t=0,duration:i=400,easing:n=zh}={}){let a=+getComputedStyle(e).opacity;return{delay:t,duration:i,easing:n,css:e=>"opacity: "+e*a}}var Hh=Di('<button class="button svelte-1sbbskl"> </button>'),jh={hash:"svelte-1sbbskl",code:".button.svelte-1sbbskl {margin-top:12px;font-size:14px;line-height:18px;background:rgba(255, 255, 255, 0.1);padding:6px 12px 7px;border-radius:8px;}"};Ni(["click"]);var Fh=Di('<div class="container svelte-1es7arp"><div class="notification svelte-1es7arp"><div><p class="description svelte-1es7arp"><!></p> <!></div> <!></div></div>'),Uh={hash:"svelte-1es7arp",code:".container.svelte-1es7arp {position:absolute;left:0;right:0;top:20px;display:flex;justify-content:center;\n    /**\n    *  Если не отключим у контейнера события, то не сможем по этой области вызвать контекстное меню.\n    */pointer-events:none;}.notification.svelte-1es7arp {padding:9px 14px 10px 12px;background:var(--notification-bg);display:inline-flex;border-radius:var(--notification-radius);gap:10px;pointer-events:auto;}.description.svelte-1es7arp {line-height:16px;font-size:13px;margin:0;white-space:pre;}"};function Wh(e,t){hi(t,!0),bn(e,Uh);let{features:{forceAutoQualityWhenSevereStallHappens:i}}=wa(),{ui:{t:n}}=qa(),a=n(i?"slow_video_notification_force_description":"slow_video_notification_suggest_description");var o=Fh(),r=Re(o),s=Re(r),l=Re(s);oh(Re(l),{message:a}),Ce(l);var d=Oe(l,2),u=e=>{let i=re((()=>n("slow_video_notification_button")));!function(e,t){bn(e,jh);var i=Hh();i.__click=function(...e){t.onClick?.apply(this,e)};var n=Re(i,!0);Ce(i),Bt((()=>Wi(n,t.label))),ji(e,i)}(e,{get label(){return Ct(i)},get onClick(){return t.onSelectAutoQuality}})};Ji(d,(e=>{i||e(u)})),Ce(s),ys(Oe(s,2),{get onClick(){return t.onClose}}),Ce(r),Ce(o),function(e,t,i,n){var a,o,r,s,l=!!(1&e),d=!!(2&e),u=!!(4&e),c=l&&d?"both":l?"in":"out",p=t.inert,v=t.style.overflow;function h(){var e=Ge,a=Xe;Ye(null),Je(null);try{return o??(o=i()(t,n?.()??{},{direction:c}))}finally{Ye(e),Je(a)}}var g={is_global:u,in(){if(t.inert=p,!l)return s?.abort(),void s?.reset?.();d||r?.abort(),Hn(t,"introstart"),r=Wn(t,h(),s,1,(()=>{Hn(t,"introend"),r?.abort(),r=o=void 0,t.style.overflow=v}))},out(e){if(!d)return e?.(),void(o=void 0);t.inert=!0,Hn(t,"outrostart"),s=Wn(t,h(),r,0,(()=>{Hn(t,"outroend"),e?.()}))},stop:()=>{r?.abort(),s?.abort()}},f=Xe;if(((a=f).transitions??(a.transitions=[])).push(g),l&&Fi){var m=u;if(!m){for(var b=f.parent;b&&65536&b.f;)for(;(b=b.parent)&&!(16&b.f););m=!b||!!(32768&b.f)}m&&Nt((()=>{At((()=>g.in()))}))}}(3,r,(()=>qh),(()=>({duration:340}))),ji(e,o),gi()}var Qh="annotation",Kh=class{init(e){this.shadowRootContainer=e}add(e,{overlay:t,id:i}){e.setAttribute("slot",Qh),this.setupSlotStyles(e,t),this.shadowRootContainer.append(e),this.slots.set(i,e)}setupSlotStyles(e,t){switch(e.style.position="absolute",t){case"over_video":e.style.zIndex="var(--video-container-z-index)";break;case"over_controls":e.style.zIndex="var(--controls-container-z-index)";break;default:e.style.zIndex="0"}}remove(e){let t=this.slots.get(e);t&&(t.remove(),this.slots.delete(e))}destroy(){for(let e in this.slots.keys())this.remove(e);this.slots.clear()}constructor(){this.slots=new Map}},Gh=(e,t,i,n,a,o)=>{e.preventDefault(),t&&(i({message:"double click on video"}),n(),a(o.uiConfig.controls.hideTimeoutCursor))},Zh=(e,t,i,n,a,o,r,s,l,d,u,c,p,v,g,f,m)=>{if(e.preventDefault(),t()||n())o();else if(!r()||l){if(Ct(d))return u();if(c()?.focus(),!p())return v.firstStart(),void g(v.uiConfig.controls.hideTimeoutCursor);(!v.uiConfig.preventPauseOnVideoClick||f()!==h.PlaybackState.PLAYING)&&v.store.actions.internal.togglePlay(),g(v.uiConfig.controls.hideTimeoutCursor)}},Yh=(e,t,i,n,a,o)=>{e.stopPropagation(),(t()||n())&&o()},Xh=Di("<div><!></div>"),Jh=Di('<div class="spherical-video-icon svelte-1b9vdl1"><!></div>'),eg=Di("<div><!></div>"),tg=Di('<div class="settings-menu svelte-1b9vdl1"><!></div>'),ig=Di("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),ng=Di('<div><div data-testid="video-container"></div></div> <!>',1),ag=Di('<div class="player-wrapper svelte-1b9vdl1"><!> <div class="overlay-container"></div></div>'),og={hash:"svelte-1b9vdl1",code:".player-wrapper.svelte-1b9vdl1 {position:absolute;width:100%;height:100%;}.player-wrapper.svelte-1b9vdl1 .player-media {position:absolute;left:0;top:0;width:100%;height:100%;background:var(--black);transition:transform 0.2s ease-in-out;}.spherical-video-icon.svelte-1b9vdl1 {display:inline-block;position:absolute;top:calc(50% - 23px);left:calc(50% - 38px);}.video-wrapper.svelte-1b9vdl1,\n  .video-container.svelte-1b9vdl1,\n  .ads-container.svelte-1b9vdl1 {position:absolute;width:100%;height:100%;left:0;top:0;}.video-wrapper.svelte-1b9vdl1 {z-index:var(--video-container-z-index);background:var(--black);}.video-container.svelte-1b9vdl1 {z-index:var(--video-container-z-index);transition:var(--rotate-transition-duration) ease all;}.video-container.fast-rotate.svelte-1b9vdl1 {transition:none;}.nocursor.svelte-1b9vdl1 {cursor:none;}.ads-container.svelte-1b9vdl1 {z-index:var(--ads-container-z-index);background:var(--black);}.settings-menu.svelte-1b9vdl1 {position:absolute;z-index:var(--settings-menu-z-index);bottom:57px;right:18px;left:0;transition:opacity 0.2s, visibility 0.2s;}"};function rg(e,t){hi(t,!0),bn(e,og);let i,n,a,[o,r]=ca(),s=()=>ua(se,"$playerPhase",o),l=()=>ua(Se,"$crashed",o),d=()=>ua(qe,"$isInteractiveTime$",o),u=()=>ua(ce,"$settingsMenuVisible",o),c=()=>ua(ue,"$controlsVisible",o),p=()=>ua(it,"$graphIsOpened$",o),v=()=>ua(le,"$isFullscreen",o),g=()=>ua(Je,"$autoplayNextEnabled$",o),f=()=>ua(ye,"$isEnded$",o),m=()=>ua(De,"$rotateAlpha",o),b=()=>ua(Me,"$playerSize",o),y=()=>ua(ht,"$bottomNoSmooth",o),_=()=>ua(Ke,"$interactiveTimeIndicator",o),w=()=>ua(Ve,"$is3DVideo",o),x=()=>ua(ge,"$contextMenuVisible$",o),k=()=>ua(ee,"$playbackState$",o),$=()=>ua(ve,"$scrubbingInProgress",o),S=()=>ua(_e,"$chromecastConnected$",o),C=()=>ua(pe,"$settingsMenuOpenedByKeyboard",o),A=()=>ua(ti,"$contextMenuOpenedByKeyboard$",o),T=()=>ua(ai,"$contextMenuOpenedByHotKey$",o),P=()=>ua($e,"$isPlaying$",o),E=()=>ua(J,"$language$",o),I=()=>ua(ae,"$position$",o),L=ma(t,"videoContainer",15),M=ma(t,"adsSlotId",3,void 0),V=ma(t,"adsParams",3,void 0),N=ma(t,"adsPreviewParam",3,void 0),R=ma(t,"adsAutoplayParam",3,void 0),B=ma(t,"duration",3,void 0),O=ma(t,"logoTargetUrl",3,""),D=ma(t,"showNextPrevButtons",3,!1),z=ma(t,"nextButtonActive",3,!1),q=ma(t,"prevButtonActive",3,!1),H=ma(t,"endScreenVideoTitle",3,void 0),j=ma(t,"endScreenVideoThumb",3,void 0),F=ma(t,"isOneVideoPlaylist",3,!1),U=ma(t,"shadowRootContainer",3,void 0),W=ma(t,"outerContainerRef",3,void 0),Q=ma(t,"playerStarted",3,!1),K=ma(t,"fullScreenTarget",3,void 0),G=ma(t,"showMiniTimer",3,!1),Z=ma(t,"showEndScreen",3,!0),Y=ma(t,"keyboardControls",15),X=t.store.getLogger().createComponentLog("Root component"),J=t.store.interfaceLanguage$,ee=t.store.state.playbackState$,ie=t.store.ads.playbackState,ae=t.store.state.positionWithScrubbing$,oe=t.store.state.duration$,se=t.store.playerPhase,le=t.store.ui.isFullscreen,de=t.store.ui.isFullscreenOpenedByKeyboard,ue=t.store.ui.controlsVisible,ce=t.store.ui.settingsMenu.visible$,pe=t.store.ui.settingsMenu.openedByBtnKeyboard$,ve=t.store.ui.scrubbingInProgress,he=t.store.ui.volumeChangingInProgress,ge=t.store.ui.contextMenu.visible$,fe=t.store.ui.debugPanelVisible,me=t.store.state.isLoaderVisible,ye=t.store.state.isEnded$,_e=t.store.state.chromecastConnected$,we=t.store.state.chromecastDeviceName$,xe=t.store.ads.postrollPassed,ke=t.store.state.isLive$,$e=t.store.state.isPlaying$,Se=t.store.state.crashed$,Ae=t.store.webApi.annotationsApi,Te=t.store.webApi.pictureInPictureApi,Ee=t.store.state.currentSubtitle$,Ie=t.store.state.currentSubtitleCaptions$,Le=t.store.state.duration$,Me=t.store.ui.playerSize,Ve=t.store.ui.is3DVideo,Ne=t.store.ui.icon3DVideoVisible,De=t.store.ui.rotateAlpha,ze=t.store.state.isInteractive,qe=t.store.state.isInteractiveTime$,He=t.store.state.isInteractiveExpectation$,je=t.store.state.hasInteractiveBranches,Fe=t.store.ui.touched,Ue=t.store.ui.modals.hotKeyMap.data,We=t.store.ui.modals.hotKeyMap.show,Qe=t.store.ui.overlayContainer$,Ke=t.store.ui.controls.interactiveTimeIndicator,Ge=t.store.state.showInteractiveTimeIndicator,Ze=t.store.ui.contextMenu.position$,Ye=t.store.actions.internal.setQuality,Xe=t.store.actions.internal.closeSettingsMenu,Je=t.store.ui.autoplayNextEnabled$,{fakeIsPlaying$:et,notifications$:tt,graphIsOpened$:it}=Ha(),nt=te(void 0),at=te(void 0),ot=te(void 0),rt=te(void 0);Ue.set({title:Io("hotkey_map_modal_title"),closeBtnText:Io("hotkey_map_modal_close_btn_text"),groups:[{title:Io("hotkey_map_group_title_common"),items:[{description:Io("hotkey_map_item_mute_description"),value:Io("hotkey_map_item_mute_value")},{description:Io("hotkey_map_item_volume_up_description"),value:Io("hotkey_map_item_volume_up_value")},{description:Io("hotkey_map_item_volume_down_description"),value:Io("hotkey_map_item_volume_down_value")},{description:Io("hotkey_map_item_pip_description"),value:Io("hotkey_map_item_pip_value")},{description:Io("hotkey_map_item_full_screen_description"),value:Io("hotkey_map_item_full_screen_value")},{description:Io("hotkey_map_item_show_context_menu_description"),value:Io("hotkey_map_item_show_context_menu_value")},{description:Io("hotkey_map_item_show_hotkey_map_description"),value:Io("hotkey_map_item_show_hotkey_map_value")}]},{title:Io("hotkey_map_group_title_playback"),items:[{description:Io("hotkey_map_item_play_toggle_description"),value:Io("hotkey_map_item_play_toggle_value")},{description:Io("hotkey_map_item_seek_backward_description"),value:Io("hotkey_map_item_seek_backward_value")},{description:Io("hotkey_map_item_seek_forward_description"),value:Io("hotkey_map_item_seek_forward_value")},{description:Io("hotkey_map_item_fast_seek_backward_description"),value:Io("hotkey_map_item_fast_seek_backward_value")},{description:Io("hotkey_map_item_fast_seek_forward_description"),value:Io("hotkey_map_item_fast_seek_forward_value")},{description:Io("hotkey_map_item_rate_down_description"),value:Io("hotkey_map_item_rate_down_value")},{description:Io("hotkey_map_item_rate_up_description"),value:Io("hotkey_map_item_rate_up_value")},{description:Io("hotkey_map_item_prev_frame_description"),value:Io("hotkey_map_item_prev_frame_value")},{description:Io("hotkey_map_item_next_frame_description"),value:Io("hotkey_map_item_next_frame_value")},{description:Io("hotkey_map_item_jump_seek_description"),value:Io("hotkey_map_item_jump_seek_value")},{description:Io("hotkey_map_item_next_video_description"),value:Io("hotkey_map_item_next_video_value")},{description:Io("hotkey_map_item_prev_video_description"),value:Io("hotkey_map_item_prev_video_value")}]},{title:Io("hotkey_map_group_title_subtitles"),items:[{description:Io("hotkey_map_item_subtitles_toggle_description"),value:Io("hotkey_map_item_subtitles_toggle_value")}]},{title:Io("hotkey_map_group_title_episodes"),items:[{description:Io("hotkey_map_item_prev_episode_description"),value:h.clientChecker.device.isApple?Io("hotkey_map_item_prev_episode_mac_value"):Io("hotkey_map_item_prev_episode_pc_value")},{description:Io("hotkey_map_item_next_episode_description"),value:h.clientChecker.device.isApple?Io("hotkey_map_item_next_episode_mac_value"):Io("hotkey_map_item_next_episode_pc_value")}]}]});let st,{closeNotification:lt,notificationsToShow$:dt}=tt,ut=re((()=>!!ua(dt,"$notificationsToShow$",o).slow_video)),ct=()=>lt("slow_video"),pt=re((()=>("video"===s()&&ua(me,"$isLoaderVisible",o)||"ads"===s()&&"inactive"===ua(ie,"$adPlaybackState",o))&&!l())),vt=te(void 0),ht=oa(!1),gt=oa(!1),ft=oa(),mt=oa(!1),bt=te(!1),yt=te(!1),_t=te(!1),wt=te(!(t.autoplay&&!t.uiConfig.controls.showOnStartupAtAutoplay)),xt=re((()=>d()&&!u()&&!(Ct(bt)||Ct(yt))&&!(Ct(_t)&&!ua(He,"$isInteractiveExpectation$",o)))),kt=!0,$t=re((()=>t.uiConfig.features.thumbTimer&&G()&&"video"===s()&&!c()&&!l()&&!ze&&(t.uiConfig.hideThumbTimerAfterTouch&&!ua(Fe,"$touched",o)||!t.uiConfig.hideThumbTimerAfterTouch))),Tt=re((()=>"video"===s()&&!p()&&v())),Pt=te(!1),Et=re((()=>(Z()||t.showAutoplayNext&&g())&&!!H()&&!!j()&&(t.showAds&&ua(xe,"$postrollPassed",o)||!t.showAds)&&f()&&!l()&&!Ct(Pt))),It=re((()=>ua(mt,"$cursorInside",o)&&!(c()||Ct(Et))&&!d())),Lt=te(!1),Mt=re((()=>L()&&m()%180?b().height/b().width:1)),Nt=re((()=>null!==ua(et,"$fakeIsPlaying$",o))),{toggle:Rt}=et,Ot=!1,Dt=null;Te?.setContext(vi());t.store.setUiCallbacks({onStarted:()=>{t.autoplay&&!ze&&t.uiConfig.controls.showOnStartupAtAutoplay&&zt(t.uiConfig.controls.hideTimeout)}});let zt=e=>{window.clearTimeout(i),gt.set(!1),gt.set(!0),i=window.setTimeout((()=>gt.set(!1)),e);let t=e-100;st=window.setTimeout((()=>{y()&&ht.set(!1)}),t>0?t:e)},qt=(e,t)=>{window.clearTimeout(n),ft.set(null),ft.set(t),n=window.setTimeout((()=>ft.set(null)),e)},Ht=Ve.subscribe((e=>{Ne.set(e),e&&(window.clearTimeout(a),a=window.setTimeout((()=>Ne.set(!1)),t.uiConfig.controls.hide360IconTimeout))})),jt=async()=>{let e=Ko();if(e){let t=Qo();e=t===Wt()||t===U()}if(e){zt(t.uiConfig.controls.hideTimeoutFullscreen);try{await(Te?.remove())}catch(e){X({message:String(e)})}}le.set(e),t.store.getAdmanWrapper().setFullscreen(e),v()?t.store.callbacks?.onFullscreenEnter?.():t.store.callbacks?.onFullscreenExit?.()},Ft=e=>{let{width:t,height:i}=e.target;Me.set({width:t,height:i})},Ut=()=>{let{width:e,height:t}=Ct(nt).getBoundingClientRect();Me.set({width:e,height:t})};ea((()=>(Go(jt),t.uiConfig.features.annotationsInside&&Ae?.init(Ct(nt)),Xo(Te)&&(Te?.assignPlayerContainer(Ct(nt)),Te?.registryExternalEventHandlers({resize:Ft,leavepictureinpicture:Ut})),t.interactiveContainer&&L().parentElement?.insertBefore(t.interactiveContainer,L().nextSibling),()=>{window.clearTimeout(i),window.clearTimeout(st),window.clearTimeout(n),window.clearTimeout(a),Ht(),Te?.dispose().catch((e=>{X({message:String(e)})})),Zo(jt)})));let Wt=()=>{let e=t.uiConfig.features.fullscreenInternalTargetPlayerContainer||!W()?Ct(nt):W(),i=e.getRootNode(),n=i instanceof ShadowRoot?i.host:i,a=K()instanceof HTMLElement&&K().contains(n);return t.uiConfig.allowChangingFullscreenTarget&&K()&&a?K():e},Qt=async()=>{Ko()?(await Wo(document),X({message:"exit fullscreen"})):(X({message:"request fullscreen"}),await Uo(Wt()))},Kt=()=>{Xe(),ge.set(!1)},Gt=e=>{p()||(e.preventDefault(),ge.set(!0),Ze.set({left:e.clientX,top:e.clientY}))};function Zt(e){return e?e.offsetTop+Zt(e.offsetParent):0}function Yt(e){return e?e.offsetLeft+Yt(e.offsetParent):0}function Xt(e){if(_()&&Ge){let t=e.currentTarget,i=Zt(t),n=Yt(t),a=e.pageX-n,o=e.pageY-i,{left:r,bottom:s,right:l}=_(),d=l-r;return a>=r-d&&o<=s+d}}let Jt=e=>{e.preventDefault(),0===e.button&&(Ot=!0,t.store.actions.internal.holdCamera()),zt(t.uiConfig.controls.hideTimeoutCursor)},ei=e=>{e.preventDefault(),0===e.button&&(Dt=e,Ot=!1,t.store.actions.internal.releaseCamera()),zt(t.uiConfig.controls.hideTimeoutCursor)},ti=t.store.ui.contextMenu.openedByBtnKeyboard$,ii=t.store.ui.contextMenu.btnRef$,ni=te(void 0),ai=t.store.ui.contextMenu.openedByHotKey$,oi=t.store.ui.contextMenu.lastActiveElem$;Vt((()=>{Qe.set(Ct(vt))})),Vt((()=>{ne(_t,Pe(Ct(wt)&&k()!==h.PlaybackState.PLAYING)),Ct(wt)||At((()=>ne(wt,!0)))})),Vt((()=>{ue.set((Ct(_t)||f()||u()||$()||ua(he,"$volumeChangingInProgress",o)||S()||ua(gt,"$controlsTimeoutActive",o))&&!Ct(xt)&&("video"===s()||"ads"===s())&&!l())})),Vt((()=>{!$()&&Ct(Lt)&&!d()&&zt(t.uiConfig.controls.hideTimeoutCursor),At((()=>ne(Lt,Pe($()))))})),Vt((()=>{Ct(rt),u(),C(),At((()=>$r(Ct(rt),u(),C())))})),Vt((()=>{Ct(ni),x(),A(),At((()=>$r(Ct(ni),x(),A())))})),Vt((()=>{let e=ua(ii,"$contextMenuButtonRef$",o);e&&(x(),At((()=>kr(e,x(),ti))))})),Vt((()=>{Ct(ni),x(),T(),At((()=>$r(Ct(ni),x(),T())))})),Vt((()=>{let e=ua(oi,"$contextMenuLastActiveElem$",o);e&&(x(),At((()=>(async(e,t,i)=>{await St(),e&&!t&&sa(i)&&(i.set(!1),e.focus())})(e,x(),ai))))})),Vt((()=>{!ua(de,"$isFullscreenOpenedByKeyboard",o)&&v()&&(At((()=>de.set(!1))),Y()?.focus())})),Vt((()=>{p()&&Kt()}));let ri=Io("video360");var si=ag();Vi("blur",be,Kt),si.__mousemove=function(e){(function(e){if(Ct(nt)){let t=Zt(e.currentTarget),i=b().height,n=e.pageY-t;if(Xt(e))return void ne(yt,!1);n<40?ne(yt,!0):n>i-40?ne(bt,!0):(ne(yt,!1),u()||ne(bt,!1))}})(e),Ct(xt)||zt(t.uiConfig.controls.hideTimeoutCursor),w()&&Ot&&Dt&&t.store.actions.internal.moveCameraFocusPX(Dt.clientX-e.clientX,Dt.clientY-e.clientY,e.timeStamp-Dt.timeStamp),Dt=e};var li=Re(si);let di=re((()=>"ads"===s())),ui=re((()=>Ct(Nt)?Rt:void 0));Yn(Vs(li,{toggleFullscreen:Qt,hideContextMenu:Kt,showHotKeyHelpers:e=>{Kt(),Fe.set(!0),zt(t.uiConfig.controls.hideTimeout),e&&qt(t.uiConfig.controls.hideHotKeyHelpers,e)},showKeyMap:()=>{Kt(),t.store.callbacks?.onOpenHotKeyMap?t.store.callbacks?.onOpenHotKeyMap(ua(Ue,"$hotKeyMapData",o)):We.update((e=>!e))},get isAds(){return Ct(di)},get fakePlayButtonHandler(){return Ct(ui)},get nextButtonActive(){return z()},get prevButtonActive(){return q()},children:(e,i)=>{var n=ng(),a=Be(n);let r;a.__contextmenu=Gt,a.__mousedown=Jt,a.__mouseup=ei,a.__click=[Zh,x,ge,u,ce,Kt,f,ye,je,Nt,Rt,Y,Q,t,zt,k,ee],a.__dblclick=[Gh,kt,X,Qt,zt,t];var d=Re(a);let p;Yn(d,(e=>L(e)),(()=>L())),Ce(a),en(Oe(a,2),E,(e=>{var i=ig(),n=Be(i);let a=re((()=>"thumb"!==s()||l()||ze&&t.autoplay));zp(n,{get hidden(){return Ct(a)},get thumbUrl(){return t.thumbUrl},get startVideo(){return t.firstStart}});var r=Oe(n,2),d=e=>{let i=re((()=>t.live?.startTime));tv(e,{get thumbUrl(){return t.thumbUrl},get startTime(){return Ct(i)}})};Ji(r,(e=>{"LiveWaitingStart"===s()&&e(d)}));var p=Oe(r,2),v=e=>{av(e,{kind:"recover",get thumbUrl(){return t.thumbUrl}})};Ji(p,(e=>{"LiveWaitingRecover"===s()&&e(v)}));var h=Oe(p,2),f=e=>{av(e,{kind:"record",get thumbUrl(){return t.thumbUrl}})};Ji(h,(e=>{"LiveWaitingRecord"===s()&&e(f)}));var m=Oe(h,2),_=e=>{var t=Xh();let i;lr(Re(t),{get adsSlotId(){return M()},get adsParams(){return V()},get adsPreviewParam(){return N()},get adsAutoplayParam(){return R()},get duration(){return B()}}),Ce(t),Bt((e=>i=$n(t,1,"ads-container svelte-1b9vdl1",null,i,e)),[()=>({hidden:"ads"!==s()})]),ji(e,t)};Ji(m,(e=>{t.showAds&&Q()&&e(_)}));var k=Oe(m,2),$=e=>{let i=re((()=>!Z()&&t.showAutoplayNext&&g()));Cs(e,{get title(){return H()},get thumb(){return j()},get isHide(){return Ct(i)},clickCloseIcon:()=>ne(Pt,!0)})};Ji(k,(e=>{Ct(Et)&&H()&&j()&&e($)}));var C=Oe(k,2),A=e=>{let i=re((()=>!c()));!function(e,t){bn(e,Hp);let i=ma(t,"title",3,""),n=ma(t,"isHidden",3,!1);var a=qp();let o;var r=Re(a,!0);Ce(a),Bt((e=>{o=$n(a,1,"title svelte-1bcvcf2",null,o,e),Wi(r,i())}),[()=>({hidden:n()})]),ji(e,a)}(e,{get title(){return t.title},get isHidden(){return Ct(i)}})};Ji(C,(e=>{Ct(Tt)&&e(A)}));var T=Oe(C,2),E=e=>{let t=re((()=>"video"===s()&&c()));wp(e,{get isShifted(){return Ct(t)}})};Ji(T,(e=>{w()&&e(E)}));var L=Oe(T,2),U=e=>{var t=Jh();wo(Re(t),{"aria-label":ri}),Ce(t),ji(e,t)};Ji(L,(e=>{ua(Ne,"$icon3DVideoVisible",o)&&e(U)}));var W=Oe(L,2),K=e=>{Mp(e,{get thumbUrl(){return t.thumbUrl},get chromecastDeviceName(){return ua(we,"$chromecastDeviceName$",o)}})};Ji(W,(e=>{S()&&e(K)}));var G=Oe(W,2),X=e=>{Pp(e,{get shifted(){return c()},get captions(){return ua(Ie,"$currentSubtitleCaptions$",o)},get position(){return I()},get playerSize(){return b()}})};Ji(G,(e=>{"off"!==ua(Ee,"$currentSubtitle$",o).value&&e(X)}));var J=Oe(G,2),ee=e=>{var t=eg();t.__contextmenu=Gt,t.__click=[Yh,x,ge,u,ce,Kt],Bp(Re(t)),Ce(t),ji(e,t)};Ji(J,(e=>{l()&&e(ee)}));var te=Oe(J,2),ie=e=>{let i=re((()=>"thumb"===s()||"LiveWaitingStart"===s()||"LiveWaitingRecover"===s()||"LiveWaitingRecord"===s())),n=re((()=>"ads"===s())),a=re((()=>t.canRewindLive&&0!==ua(Le,"$realDuration$",o)));ep(e,{get bottomHidden(){return Ct(i)},get bottomNoSmooth(){return y()},get showControls(){return c()},get isAds(){return Ct(n)},get canRewindLive(){return Ct(a)},get logoClickable(){return t.logoClickable},get logoHidden(){return t.logoHidden},get logoTargetUrl(){return O()},get showAutoplayNext(){return t.showAutoplayNext},get showNextPrevButtons(){return D()},get nextButtonActive(){return z()},get prevButtonActive(){return q()},get isOneVideoPlaylist(){return F()},customFullscreenSupported:kt,toggleFullscreen:Qt,get seekToInteractive(){return t.seekToInteractive},get playPrevChapter(){return t.playPrevChapter},get playerControlsWrapperRef(){return Ct(at)},set playerControlsWrapperRef(e){ne(at,Pe(e))},get playerControlsRef(){return Ct(ot)},set playerControlsRef(e){ne(ot,Pe(e))}})};Ji(te,(e=>{Q()&&e(ie)}));var ae=Oe(te,2),se=e=>{var i=tg(),n=Re(i);let a=re((()=>Ct(ot)?.clientHeight));Dh(n,{get supportLink(){return t.supportLink},get playerControlsHeight(){return Ct(a)},returnFocus:()=>Y()?.focus(),get ref(){return Ct(rt)},set ref(e){ne(rt,Pe(e))}}),Ce(i),ji(e,i)};Ji(ae,(e=>{!S()&&"ads"!==s()&&e(se)}));var le=Oe(ae,2);let de=re((()=>!Ct($t)));fr(le,{get isLive(){return ua(ke,"$isLive$",o)},get isHidden(){return Ct(de)},get isPlaying(){return P()},get position(){return I()},get duration(){return ua(oe,"$duration$",o)}});var ue=Oe(le,2);!function(e,t){hi(t,!0),bn(e,vp);let[i,n]=ca(),a=()=>ua(t.data,"$data",i),o=qa().ui.t,r=re((()=>!a())),s=re((()=>"BACKWARD_SEEK"===a()?.type)),l=re((()=>"FORWARD_SEEK"===a()?.type)),d=re((()=>a()?.type)),u=re((()=>a()?.t?o(a().t.key,{value:a().t.value||""}):a()?.text));var c=pp();let p;var v=Re(c),h=e=>{var t=cp(),i=Be(t),n=Re(i),a=e=>{let t=re((()=>"FORWARD_SEEK"===Ct(d)));ip(e,{get reversed(){return Ct(t)}})};Ji(n,(e=>{["BACKWARD_SEEK","FORWARD_SEEK"].includes(Ct(d))&&e(a)}));var o=Oe(n,2),r=e=>{Yu(e,{})};Ji(o,(e=>{"PAUSE"===Ct(d)&&e(r)}));var s=Oe(o,2),l=e=>{Gu(e,{})};Ji(s,(e=>{"PLAY"===Ct(d)&&e(l)}));var c=Oe(s,2),p=e=>{ju(e,{})};Ji(c,(e=>{"REPLAY"===Ct(d)&&e(p)}));var v=Oe(c,2),h=e=>{op(e,{isOff:!0})};Ji(v,(e=>{"SUBTITLES_OFF"===Ct(d)&&e(h)}));var g=Oe(v,2),f=e=>{op(e,{})};Ji(g,(e=>{"SUBTITLES_ON"===Ct(d)&&e(f)}));var m=Oe(g,2),b=e=>{let t=re((()=>"RATE_UP"===Ct(d)));sp(e,{get reversed(){return Ct(t)}})};Ji(m,(e=>{["RATE_DOWN","RATE_UP"].includes(Ct(d))&&e(b)}));var y=Oe(m,2),_=e=>{let t=re((()=>"EPISODE_NEXT"===Ct(d)));dp(e,{get reversed(){return Ct(t)}})};Ji(y,(e=>{["EPISODE_PREV","EPISODE_NEXT"].includes(Ct(d))&&e(_)}));var w=Oe(y,2),x=e=>{El(e,{volume:0})};Ji(w,(e=>{"MUTE"===Ct(d)&&e(x)}));var k=Oe(w,2),$=e=>{El(e,{volume:1})};Ji(k,(e=>{"VOLUME"===Ct(d)&&e($)})),Ce(i);var S=Oe(i,2),C=e=>{var t=up(),i=Re(t,!0);Ce(t),Bt((()=>Wi(i,Ct(u)))),ji(e,t)};Ji(S,(e=>{Ct(u)&&e(C)})),ji(e,t)};Ji(v,(e=>{!Ct(r)&&Ct(d)&&e(h)})),Ce(c),Bt((e=>p=$n(c,1,"hot-key-helpers-container svelte-1ad3n06",null,p,e)),[()=>({hidden:Ct(r),"hot-key-helpers-container--left":Ct(s),"hot-key-helpers-container--right":Ct(l)})]),ji(e,c),gi(),n()}(ue,{data:ft});var pe=Oe(ue,2);Qr(pe,{get supportLink(){return t.supportLink},returnFocus:()=>Y()?.focus(),get visible(){return x()},get playerContainerRef(){return Ct(nt)},get controlsContainerRef(){return Ct(at)},get position(){return ua(Ze,"$contextMenuPosition$",o)},get menuElementRef(){return Ct(ni)},set menuElementRef(e){ne(ni,Pe(e))}});var ve=Oe(pe,2),he=e=>{Wh(e,{onClose:ct,onSelectAutoQuality:()=>{Ye("auto"),ct()}})};Ji(ve,(e=>{Ct(ut)&&e(he)}));var me=Oe(ve,2),be=e=>{Bs(e,{})};Ji(me,(e=>{Ct(pt)&&e(be)}));var ye=Oe(me,2),_e=e=>{Xs(e,{})};Ji(ye,(e=>{ua(We,"$showHotKeyMap",o)&&e(_e)}));var xe=Oe(ye,2),$e=e=>{gs(e,{})};Ji(xe,(e=>{ua(fe,"$debugPanelVisible",o)&&e($e)})),fn(Oe(xe,2),(()=>"slot"),!1,((e,t)=>{Mn(e,null,{name:Qh})})),ji(e,i)})),Bt(((e,t)=>{r=$n(a,1,"video-wrapper svelte-1b9vdl1",null,r,e),p=$n(d,1,"video-container svelte-1b9vdl1",null,p,t),Cn(d,`transform: rotate(${m()}deg) scale(${Ct(Mt)})`),Ln(d,"data-is-playing",P())}),[()=>({hidden:"video"!==s(),nocursor:Ct(It)}),()=>({"fast-rotate":!t.uiConfig.isSmoothVideoRotate})]),ji(e,n)},$$slots:{default:!0}}),(e=>Y(e)),(()=>Y())),Yn(Oe(li,2),(e=>ne(vt,e)),(()=>Ct(vt))),Ce(si),Yn(si,(e=>ne(nt,e)),(()=>Ct(nt))),Vi("mouseenter",si,(function(){mt.set(!0),ze||zt(t.uiConfig.controls.hideTimeoutCursor)})),Vi("mouseleave",si,(function(){mt.set(!1),ne(yt,!1),ne(bt,!1),Ot=!1,t.store.actions.internal.releaseCamera(),zt(t.uiConfig.controls.hideTimeout)})),Vi("click",si,(()=>{Fe.set(!0)}),!0),Vi("focusin",si,(function(){ze||(ht.set(!0),zt(t.uiConfig.controls.hideTimeoutCursor))}),!0),ji(e,si),gi(),r()}Ni(["mousemove","contextmenu","mousedown","mouseup","click","dblclick"]);var sg=Di('<div></div> <div class="info svelte-nhq2ld"><div class="triangles-wrapper svelte-nhq2ld"><div></div> <div></div> <div></div></div> <p class="step-caption svelte-nhq2ld"> </p></div>',1),lg=Di("<div><!></div>"),dg={hash:"svelte-nhq2ld",code:".double-click-area.svelte-nhq2ld {position:absolute;top:0;height:100%;width:25%;overflow:hidden;}.double-click-area.left.svelte-nhq2ld {left:0;}.double-click-area.right.svelte-nhq2ld {right:0;}.semicircle.svelte-nhq2ld {position:absolute;top:0;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.5);}.semicircle.left.svelte-nhq2ld {left:0;border-top-right-radius:50%;border-bottom-right-radius:50%;}.semicircle.right.svelte-nhq2ld {right:0;border-top-left-radius:50%;border-bottom-left-radius:50%;}.info.svelte-nhq2ld {position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex;flex-direction:column;align-items:center;justify-content:center;}.triangles-wrapper.svelte-nhq2ld {position:relative;display:flex;margin-bottom:10px;justify-content:center;}.triangle.svelte-nhq2ld {width:0;height:0;border-top:6px solid transparent;border-bottom:6px solid transparent;\n    animation: svelte-nhq2ld-blink 500ms infinite;opacity:0;}.triangle.right.svelte-nhq2ld:nth-child(1),\n  .triangle.left.svelte-nhq2ld:nth-child(3) {animation-delay:0ms;}.triangle.right.svelte-nhq2ld:nth-child(2),\n  .triangle.left.svelte-nhq2ld:nth-child(2) {animation-delay:100ms;}.triangle.right.svelte-nhq2ld:nth-child(3),\n  .triangle.left.svelte-nhq2ld:nth-child(1) {animation-delay:200ms;}\n\n  @keyframes svelte-nhq2ld-blink {\n    0% {\n      opacity: 0;\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  }.triangle.left.svelte-nhq2ld {border-right:8px solid var(--white);}.triangle.right.svelte-nhq2ld {border-left:8px solid var(--white);}.triangle.svelte-nhq2ld:not(:last-child) {margin-right:5px;}.step-caption.svelte-nhq2ld {margin:0;text-align:center;font-size:12px;line-height:1;color:var(--white);}"};function ug(e,t){hi(t,!0),bn(e,dg);let i=ma(t,"seekStep",3,0),n=te(!1),a=0,o=0,r=te(Pe(i()));ta((()=>{window.clearTimeout(a)}));var s=lg();s.__click=e=>{e.stopPropagation(),o+=1,ne(r,i()*(o-1)),1===o?t.handleSingleFirstClick(e):(ne(n,!0),t.handleSecondClick()),window.clearTimeout(a),a=window.setTimeout((()=>{o=0,ne(n,!1)}),300)};var l=Re(s),d=e=>{var i=sg(),n=Be(i),a=Oe(n,2),o=Re(a),s=Re(o),l=Oe(s,2),d=Oe(l,2);Ce(o);var u=Oe(o,2),c=Re(u,!0);Ce(u),Ce(a),Bt((e=>{$n(n,1,`semicircle ${t.side??""}`,"svelte-nhq2ld"),$n(s,1,`triangle ${t.side??""}`,"svelte-nhq2ld"),$n(l,1,`triangle ${t.side??""}`,"svelte-nhq2ld"),$n(d,1,`triangle ${t.side??""}`,"svelte-nhq2ld"),Wi(c,e)}),[()=>Io("doubletap_seek_step",{seconds:Ct(r).toFixed(0)})]),ji(e,i)};Ji(l,(e=>{Ct(n)&&e(d)})),Ce(s),Bt((()=>$n(s,1,`double-click-area ${t.side??""}`,"svelte-nhq2ld"))),ji(e,s),gi()}Ni(["click"]);var cg=(e,t,i)=>{t(!1),i()},pg=Di('<div class="overlay svelte-1qdxi6t"></div> <div class="next-video svelte-1qdxi6t"><div class="top svelte-1qdxi6t"><div class="caption svelte-1qdxi6t"> </div> <!></div> <div class="row svelte-1qdxi6t"><div class="column svelte-1qdxi6t"><div class="thumb svelte-1qdxi6t"><div></div> <!></div></div> <div class="column svelte-1qdxi6t"><div class="title svelte-1qdxi6t"> </div></div></div></div>',1),vg={hash:"svelte-1qdxi6t",code:".overlay.svelte-1qdxi6t {width:100%;height:100%;background:rgba(0, 0, 0, 0.72);position:absolute;}.next-video.svelte-1qdxi6t {position:absolute;top:50%;left:50%;z-index:var(--end-screen-mobile-z-index);transform:translate(-50%, -50%);display:flex;flex-direction:column;max-width:362px;min-width:320px;margin:0 auto;padding-bottom:12px;}.top.svelte-1qdxi6t {display:flex;justify-content:space-between;}.caption.svelte-1qdxi6t {font-size:11px;font-weight:bold;color:var(--white);text-transform:uppercase;opacity:0.8;}.row.svelte-1qdxi6t {height:102px;background:rgba(48, 48, 48, .8);cursor:pointer;margin-top:6px;display:flex;flex-direction:row;width:100%;}.column.svelte-1qdxi6t {display:flex;flex-direction:column;flex-basis:50%;}.thumb.svelte-1qdxi6t {width:100%;height:100%;background:no-repeat center;background-size:cover;display:flex;align-items:center;position:relative;justify-content:space-around;}.thumb-overlay.svelte-1qdxi6t {width:100%;height:100%;position:absolute;}.thumb-overlay.withOpacity.svelte-1qdxi6t {background:var(--black);opacity:0.3;}.title.svelte-1qdxi6t {padding:10px 16px;font-size:12px;font-weight:bold;color:var(--white);line-height:1.6;max-height:52px;overflow:hidden;}"};function hg(e,t){hi(t,!0),bn(e,vg);let[i,n]=ca(),a=()=>ua(r,"$autoplayNextEnabled$",i),o=qa(),r=o.ui.autoplayNextEnabled$,s=o.ui.timerNextVideoRunning$,l=o.actions.internal.nextVideoClick,d=o.actions.internal.nextVideoAnnouncementShow,u=o.actions.internal.nextVideoAnnouncementClick,c=o.actions.internal.nextVideoAnnouncementAuto,p=o.actions.internal.nextVideoAnnouncementCancel,v=()=>{l(!1),c()},h=()=>{t.clickCloseIcon(),p()};ea((()=>{t.isHide||d(),t.isHide&&a()&&(l(!1),c())}));var g=Hi(),f=Be(g),m=e=>{var n=pg(),o=Oe(Be(n),2),r=Re(o),d=Re(r),c=Re(d,!0);Ce(d),ys(Oe(d,2),{onClick:h}),Ce(r);var p=Oe(r,2);p.__click=[cg,l,u];var g=Re(p),f=Re(g),m=Re(f);let b;var y=Oe(m,2),_=e=>{xs(e,{get isRunning(){return ua(s,"$timerNextVideoRunning$",i)},onTimerEnded:v})};Ji(y,(e=>{a()&&e(_)})),Ce(f),Ce(g);var w=Oe(g,2),x=Re(w),k=Re(x,!0);Ce(x),Ce(w),Ce(p),Ce(o),Bt(((e,i)=>{Wi(c,e),Cn(f,`background-image: url('${t.thumb}')`),b=$n(m,1,"thumb-overlay svelte-1qdxi6t",null,b,i),Wi(k,t.title)}),[()=>a()?Io("end_screen_next_video"):Io("end_screen_recommended_video"),()=>({withOpacity:a()})]),ji(e,n)};Ji(f,(e=>{t.isHide||e(m)})),ji(e,g),gi(),n()}Ni(["click"]);var gg=class{getTracksArray(){return Array.from(this.video.getElementsByTagName("track"))}attach(e,t=!1){let i=document.createElement("track");i.setAttribute("src",e.url),i.setAttribute("id",e.id),e.label&&i.setAttribute("label",e.label),e.language&&i.setAttribute("srclang",e.language),t&&(i.track.mode="showing"),this.video.appendChild(i)}detachAll(){for(let e of this.getTracksArray())this.video.removeChild(e)}updateSrc(e){let t=this.getTracksArray().find((t=>t.id===e.id));t&&(t.src=e.url)}getCurrentShowingId(){return this.getTracksArray().find((e=>"showing"===e.track.mode))?.id??null}constructor(e){this.video=e}},fg=({store:e,getFullscreenTarget:t})=>{let{isFullscreen:i}=e.ui,{setSubtitle:n}=e.actions.internal,{currentSubtitle$:a,availableSubtitlesList$:o,currentFormat$:r,availableTextTracks$:s}=e.state,l=null,d=()=>{l?.(),l=null},u=e=>{if(d(),!h.clientChecker.device.isIOS||sa(r)!==h.VideoFormat.DASH_LIVE_CMAF||!e)return;let i=t().querySelector("video");if(!i)return;let u=new gg(i),c=sa(s),p=sa(o),v=sa(a);for(let e of c)p.some((t=>t.value===e.id))&&u.attach(e,v.value===e.id);let g=s.subscribe((e=>{for(let t of e)u.updateSrc(t)})),f=()=>{let e=u.getCurrentShowingId();n(sa(o).find((t=>t.value===e)))};i.textTracks.addEventListener("change",f),l=()=>{g(),u.detachAll(),i.textTracks.removeEventListener("change",f)}};ea((()=>i.subscribe(u))),ta(d)},mg=(e,t,i,n)=>{e.stopPropagation(),t()&&n()},bg=Di("<!> <!>",1),yg=Di("<div><!></div>"),_g=Di('<div class="spherical-video-icon svelte-dtyj47"><!></div>'),wg=Di("<div><!></div>"),xg=Di('<div class="settings-mobile svelte-dtyj47"><!></div>'),kg=Di("<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>",1),$g=Di('<div class="player-wrapper svelte-dtyj47" role="region" tabindex="-1"><div><div data-testid="video-container"></div></div> <!> <div class="overlay-container"></div></div>'),Sg={hash:"svelte-dtyj47",code:".player-wrapper.svelte-dtyj47 {position:absolute;width:100%;height:100%;}.player-wrapper.svelte-dtyj47 .player-media {position:absolute;left:0;top:0;width:100%;height:100%;background:var(--black);transition:transform 0.2s ease-in-out;}.spherical-video-icon.svelte-dtyj47 {display:inline-block;position:absolute;top:calc(50% - 23px);left:calc(50% - 38px);}.video-wrapper.svelte-dtyj47,\n  .video-container.svelte-dtyj47,\n  .ads-container.svelte-dtyj47 {position:absolute;width:100%;height:100%;left:0;top:0;}.video-wrapper.svelte-dtyj47 {z-index:var(--video-container-z-index);background:var(--black);}.video-container.svelte-dtyj47 {z-index:var(--video-container-z-index);transition:var(--rotate-transition-duration) ease all;}.video-container.fast-rotate.svelte-dtyj47 {transition:none;}.ads-container.svelte-dtyj47 {z-index:var(--ads-container-z-index);background:var(--black);}.settings-mobile.svelte-dtyj47 {position:absolute;z-index:var(--settings-menu-z-index);top:50%;left:50%;transform:translate(-50%,-50%);transition:opacity var(--controls-transition-duration);display:flex;align-items:center;max-width:320px;width:90%;}"};function Cg(e,t){hi(t,!0),bn(e,Sg);let i,n,a,o,[r,s]=ca(),l=()=>ua(J,"$playerPhase",r),d=()=>ua(ke,"$crashed",r),u=()=>ua(ae,"$interactiveHideMobileControls",r),c=()=>ua(pe,"$isEnded$",r),p=()=>ua(ie,"$controlsVisible",r),v=()=>ua(We,"$autoplayNextEnabled$",r),f=()=>ua(Ne,"$rotateAlpha",r),m=()=>ua(Le,"$playerSize",r),b=()=>ua(lt,"$bottomNoSmooth",r),y=()=>ua(Ae,"$videoSize",r),_=()=>ua(Y,"$position$",r),w=()=>ua(X,"$duration$",r),x=()=>ua(oe,"$settingsMenuVisible",r),k=()=>ua(le,"$scrubbingInProgress",r),$=()=>ua(ve,"$chromecastConnected$",r),S=()=>ua(_e,"$isPlaying$",r),C=ma(t,"videoContainer",15),A=ma(t,"adsSlotId",3,void 0),T=ma(t,"adsParams",3,void 0),P=ma(t,"adsPreviewParam",3,void 0),E=ma(t,"adsAutoplayParam",3,void 0),I=ma(t,"duration",3,void 0),L=ma(t,"logoTargetUrl",3,""),M=ma(t,"showNextPrevButtons",3,!1),V=ma(t,"nextButtonActive",3,!1),N=ma(t,"prevButtonActive",3,!1),R=ma(t,"endScreenVideoTitle",3,void 0),B=ma(t,"endScreenVideoThumb",3,void 0),O=ma(t,"isOneVideoPlaylist",3,!1),D=ma(t,"shadowRootContainer",3,void 0),z=ma(t,"outerContainerRef",3,void 0),q=ma(t,"showMiniTimer",3,!1),H=ma(t,"fullScreenTarget",3,void 0),j=ma(t,"playerStarted",3,!1),F=ma(t,"showEndScreen",3,!0),{notifications$:U,graphIsOpened$:W}=Ha(),Q=t.store.getLogger().createComponentLog("Root component"),K=t.store.interfaceLanguage$,G=t.store.state.playbackState$,Z=t.store.ads.playbackState,Y=t.store.state.positionWithScrubbing$,X=t.store.state.duration$,J=t.store.playerPhase,ee=t.store.ui.isFullscreen,ie=t.store.ui.controlsVisible,ae=t.store.ui.interactiveHideMobileControls,oe=t.store.ui.settingsMenu.visible$,se=t.store.ui.settingsMenu.openedByBtnKeyboard$,le=t.store.ui.scrubbingInProgress,de=t.store.ui.volumeChangingInProgress,ue=t.store.ui.debugPanelVisible,ce=t.store.state.isLoaderVisible,pe=t.store.state.isEnded$,ve=t.store.state.chromecastConnected$,he=t.store.state.chromecastDeviceName$,ge=t.store.ads.postrollPassed,fe=t.store.ui.mobileUnmuteButtonExpanded,me=t.store.ui.mobileUnmuteButtonVisible,ye=t.store.state.isLive$,_e=t.store.state.isPlaying$,we=t.store.state.isActiveLive$,xe=t.store.state.isRewindableLive$,ke=t.store.state.crashed$,$e=t.store.webApi.annotationsApi,Se=t.store.webApi.pictureInPictureApi,Ae=t.store.state.videoSize$,Te=t.store.state.currentSubtitle$,Ee=t.store.state.currentSubtitleCaptions$,Ie=t.store.state.duration$,Le=t.store.ui.playerSize,Me=t.store.ui.is3DVideo,Ve=t.store.ui.icon3DVideoVisible,Ne=t.store.ui.rotateAlpha,De=t.store.state.isInteractive,ze=t.store.state.isInteractiveTime$,qe=t.store.state.isInteractiveExpectation$,He=t.store.state.hasInteractiveBranches,je=t.store.ui.controls.disabledControls$,Fe=t.store.ui.touched,Ue=t.store.ui.overlayContainer$,We=t.store.ui.autoplayNextEnabled$,Qe=t.store.state.loadedMetadata$,Ke=t.store.actions.internal.closeSettingsMenu,Ge=t.store.callbacks?.onDisabledPlayPrevChapterClick,Ze=t.store.callbacks?.onDisabledSeekToInteractiveClick,Ye=t.store.actions.internal.setQuality,Xe=te(void 0),Je=te(void 0),et=te(void 0),tt=te(void 0),it=re((()=>("video"===l()&&ua(ce,"$isLoaderVisible",r)||"ads"===l()&&"inactive"===ua(Z,"$adPlaybackState",r))&&!d())),nt=te(void 0),{closeNotification:at,notificationsToShow$:ot}=U,rt=re((()=>!!ua(ot,"$notificationsToShow$",r).slow_video)),st=()=>at("slow_video"),lt=oa(!1),dt=te(!1),ut=re((()=>ua(G,"$playbackState$",r)!==h.PlaybackState.PLAYING)),ct=te(!1),pt=re((()=>ua(W,"$graphIsOpened$",r)||u()||!Ct(dt)&&(c()&&!!He||Ct(ut)&&ua(qe,"$isInteractiveExpectation$",r)))),vt=te(!0),ht=re((()=>t.uiConfig.features.thumbTimer&&q()&&"video"===l()&&!p()&&!d()&&!De&&(t.uiConfig.hideThumbTimerAfterTouch&&!ua(Fe,"$touched",r)||!t.uiConfig.hideThumbTimerAfterTouch))),gt=te(!1),ft=re((()=>(F()||t.showAutoplayNext&&v())&&!!R()&&!!B()&&(t.showAds&&ua(ge,"$postrollPassed",r)||!t.showAds)&&c()&&!d()&&!Ct(gt))),mt=te(!1),bt=re((()=>C()&&f()%180?m().height/m().width:1));Se?.setContext(vi());t.store.setUiCallbacks({onStarted:e=>{clearTimeout(n),e&&(me.set(!0),fe.set(!0),n=setTimeout((()=>{fe.set(!1)}),t.uiConfig.controls.collapseMobileUnmute),De||_t(t.uiConfig.controls.hideTimeoutMobile))}});let yt=()=>{clearTimeout(i),ne(dt,!1),u()&&ae.set(!1)},_t=e=>{yt(),ne(dt,!0),i=setTimeout((()=>ne(dt,!1)),e);let t=e-100;o=setTimeout((()=>{b()&&lt.set(!1)}),t>0?t:e)},wt=Me.subscribe((e=>{Ve.set(e),e&&(clearTimeout(a),a=setTimeout((()=>Ve.set(!1)),t.uiConfig.controls.hide360IconTimeout))})),xt=async(e=Ko())=>{if(e&&!h.clientChecker.device.isIOS){let t=Qo(),i=Tt(),n=h.clientChecker.browser.isSamsungBrowser&&t===D();e=t===i||n}if(e){_t(t.uiConfig.controls.hideTimeoutFullscreen);try{await(Se?.remove())}catch(e){Q({message:String(e)})}try{let e=y()?.width&&y()?.height?y():m();await(e=>{let t=window.screen;return(async e=>t.orientation?t.orientation.lock(e):t.mozLockOrientation?t.mozLockOrientation(e):t.msLockOrientation?t.msLockOrientation(e):Promise.reject())(((e={width:0,height:0})=>e.width<=e.height?"portrait":"landscape")(e))})(e)}catch(e){Q({message:String(e)})}}ee.set(e),t.store.getAdmanWrapper().setFullscreen(e),ua(ee,"$isFullscreen",r)?t.store.callbacks?.onFullscreenEnter?.():t.store.callbacks?.onFullscreenExit?.()},kt=e=>{let t=e;Le.set({width:t.target.width,height:t.target.height})};ea((()=>(Go(xt),t.uiConfig.features.annotationsInside&&$e?.init(Ct(Xe)),Xo(Se)&&(Se?.assignPlayerContainer(Ct(Xe)),Se?.registryExternalEventHandlers({resize:kt})),ne(vt,!h.clientChecker.device.isIphoneOrOldIpad),t.interactiveContainer&&C().parentElement?.insertBefore(t.interactiveContainer,C().nextSibling),()=>{clearTimeout(i),clearTimeout(o),clearTimeout(n),clearTimeout(a),wt(),Se?.dispose().catch((e=>{Q({message:String(e)})})),Zo(xt)})));let $t=te(!0),St=te(!0),At=e=>{let i=_()+("forward"===e?1:-1)*t.uiConfig.controls.seekStepMobile/1e3;i<0?(ne($t,!1),i=0):i>=w()&&(ne(St,!1),i=w()),ne(ct,!0),t.seekTime(i)},Tt=()=>{let e=h.clientChecker.device.isIOS||t.uiConfig.features.fullscreenInternalTargetPlayerContainer||!z()?Ct(Xe):z(),i=e.getRootNode(),n=i instanceof ShadowRoot?i.host:i,a=H()instanceof HTMLElement&&H().contains(n);return t.uiConfig.allowChangingFullscreenTarget&&H()&&a?H():e},Pt=async()=>{try{if(Ko())await Wo(document),Q({message:"exit fullscreen"});else{if(Q({message:"request fullscreen"}),h.clientChecker.device.isIOS&&!ua(Qe,"$loadedMetadata",r))return;await Uo(Tt())}}catch(e){Q({message:String(e)})}},Et=()=>{Ke()},It=e=>{if(e.preventDefault(),!x())return j()?(ne(ct,!1),void(p()?yt():_t(t.uiConfig.controls.hideTimeoutMobile))):(t.firstStart(),void _t(t.uiConfig.controls.hideTimeoutCursor));Et()},Lt=e=>{Ge&&(Ge(e),_t(t.uiConfig.controls.hideTimeoutMobile))},Mt=e=>{Ze&&(Ze(e),_t(t.uiConfig.controls.hideTimeoutMobile))};Vt((()=>{Ue.set(Ct(nt))})),Vt((()=>{ie.set((Ct(ut)||x()||k()||ua(de,"$volumeChangingInProgress",r)||$()||!Ct(ft)&&(c()||Ct(dt)&&!Ct(ct)))&&!Ct(pt)&&"video"===l()&&!d())})),Vt((()=>{!k()&&Ct(mt)&&!ua(ze,"$isInteractiveTime$",r)&&_t(t.uiConfig.controls.hideTimeoutMobile),ne(mt,Pe(k()))})),Vt((()=>{ne($t,_()>0),ne(St,Pe(!ua(we,"$isActiveLive",r)&&_()<w()))})),Vt((()=>{$r(Ct(tt),x(),ua(se,"$settingsMenuOpenedByKeyboard",r))}));let Nt=Io("aria_label_video_player"),Rt=Io("video360");(({getFullscreenTarget:e,fullScreenChangeHandler:t})=>{let i,n=null;ea((()=>{h.clientChecker.device.isIOS&&(i=setTimeout((()=>{let i=e().querySelector("video");if(!i)return;let a=()=>t(!0),o=()=>t(!1);i.addEventListener("webkitbeginfullscreen",a),i.addEventListener("webkitendfullscreen",o),n=()=>{i.removeEventListener("webkitbeginfullscreen",a),i.removeEventListener("webkitendfullscreen",o)}}),0))})),ta((()=>{n?.(),clearTimeout(i)}))})({fullScreenChangeHandler:xt,getFullscreenTarget:Tt}),fg({store:t.store,getFullscreenTarget:Tt});var Ot=$g();Vi("blur",be,Et),Ln(Ot,"aria-label",Nt);var Dt=Re(Ot);let zt;Dt.__click=It;var qt=Re(Dt);let Ht;Yn(qt,(e=>C(e)),(()=>C())),Ce(Dt);var jt=Oe(Dt,2);en(jt,(()=>ua(K,"$language$",r)),(e=>{var i=kg(),n=Be(i);let a=re((()=>"thumb"!==l()||d()||De&&t.autoplay));zp(n,{get hidden(){return Ct(a)},get thumbUrl(){return t.thumbUrl},get startVideo(){return t.firstStart}});var o=Oe(n,2),s=e=>{var i=bg(),n=Be(i),a=e=>{let i=re((()=>t.uiConfig.controls.seekStepMobile/1e3));ug(e,{side:"left",get seekStep(){return Ct(i)},handleSingleFirstClick:It,handleSecondClick:()=>At("backward")})};Ji(n,(e=>{Ct($t)&&e(a)}));var o=Oe(n,2),r=e=>{let i=re((()=>t.uiConfig.controls.seekStepMobile/1e3));ug(e,{side:"right",get seekStep(){return Ct(i)},handleSingleFirstClick:It,handleSecondClick:()=>At("forward")})};Ji(o,(e=>{Ct(St)&&e(r)})),ji(e,i)};Ji(o,(e=>{t.canRewindLive&&xe&&!ua(je,"$disabledControls$",r).has("TIMELINE")&&e(s)}));var u=Oe(o,2),c=e=>{let i=re((()=>t.live?.startTime));tv(e,{get thumbUrl(){return t.thumbUrl},get startTime(){return Ct(i)}})};Ji(u,(e=>{"LiveWaitingStart"===l()&&e(c)}));var h=Oe(u,2),f=e=>{av(e,{kind:"recover",get thumbUrl(){return t.thumbUrl}})};Ji(h,(e=>{"LiveWaitingRecover"===l()&&e(f)}));var y=Oe(h,2),k=e=>{av(e,{kind:"record",get thumbUrl(){return t.thumbUrl}})};Ji(y,(e=>{"LiveWaitingRecord"===l()&&e(k)}));var C=Oe(y,2),D=e=>{var t=yg();let i;lr(Re(t),{get adsSlotId(){return A()},get adsParams(){return T()},get adsPreviewParam(){return P()},get adsAutoplayParam(){return E()},get duration(){return I()}}),Ce(t),Bt((e=>i=$n(t,1,"ads-container svelte-dtyj47",null,i,e)),[()=>({hidden:"ads"!==l()})]),ji(e,t)};Ji(C,(e=>{t.showAds&&j()&&e(D)}));var z=Oe(C,2),q=e=>{let i=re((()=>!F()&&t.showAutoplayNext&&v()));hg(e,{get title(){return R()},get thumb(){return B()},get isHide(){return Ct(i)},clickCloseIcon:()=>ne(gt,!0)})};Ji(z,(e=>{Ct(ft)&&R()&&B()&&e(q)}));var H=Oe(z,2),U=e=>{wp(e,{})};Ji(H,(e=>{ua(Me,"$is3DVideo",r)&&e(U)}));var W=Oe(H,2),Q=e=>{var t=_g();wo(Re(t),{"aria-label":Rt}),Ce(t),ji(e,t)};Ji(W,(e=>{ua(Ve,"$icon3DVideoVisible",r)&&e(Q)}));var K=Oe(W,2),G=e=>{Mp(e,{get thumbUrl(){return t.thumbUrl},get chromecastDeviceName(){return ua(he,"$chromecastDeviceName$",r)}})};Ji(K,(e=>{$()&&e(G)}));var Z=Oe(K,2),Y=e=>{Pp(e,{get shifted(){return p()},get captions(){return ua(Ee,"$currentSubtitleCaptions$",r)},get position(){return _()},get playerSize(){return m()},isMobile:!0})};Ji(Z,(e=>{"off"!==ua(Te,"$currentSubtitle$",r).value&&e(Y)}));var X=Oe(Z,2),J=e=>{var t=wg();t.__click=[mg,x,oe,Et],Bp(Re(t)),Ce(t),ji(e,t)};Ji(X,(e=>{d()&&e(J)}));var ee=Oe(X,2),te=e=>{let i=re((()=>"thumb"===l()||"LiveWaitingStart"===l()||"LiveWaitingRecover"===l()||"LiveWaitingRecord"===l()||"ads"===l())),n=re((()=>"ads"===l())),a=re((()=>t.canRewindLive&&0!==ua(Ie,"$realDuration$",r)));ep(e,{get bottomHidden(){return Ct(i)},get showControls(){return p()},get bottomNoSmooth(){return b()},get isAds(){return Ct(n)},get canRewindLive(){return Ct(a)},get logoClickable(){return t.logoClickable},get logoHidden(){return t.logoHidden},get logoTargetUrl(){return L()},get showAutoplayNext(){return t.showAutoplayNext},get showNextPrevButtons(){return M()},get nextButtonActive(){return V()},get prevButtonActive(){return N()},get isOneVideoPlaylist(){return O()},get customFullscreenSupported(){return Ct(vt)},get endScreenShown(){return Ct(ft)},toggleFullscreen:Pt,get seekToInteractive(){return t.seekToInteractive},get playPrevChapter(){return t.playPrevChapter},onDisabledPlayPrevChapterClick:Lt,onDisabledSeekToInteractiveClick:Mt,get playerControlsWrapperRef(){return Ct(Je)},set playerControlsWrapperRef(e){ne(Je,Pe(e))},get playerControlsRef(){return Ct(et)},set playerControlsRef(e){ne(et,Pe(e))}})};Ji(ee,(e=>{j()&&e(te)}));var ie=Oe(ee,2),ae=e=>{var i=xg();Dh(Re(i),{get supportLink(){return t.supportLink},returnFocus:g.noop,get ref(){return Ct(tt)},set ref(e){ne(tt,Pe(e))}}),Ce(i),ji(e,i)};Ji(ie,(e=>{x()&&e(ae)}));var se=Oe(ie,2);let le=re((()=>!Ct(ht)));fr(se,{get isLive(){return ua(ye,"$isLive$",r)},get isHidden(){return Ct(le)},get isPlaying(){return S()},get position(){return _()},get duration(){return w()}});var de=Oe(se,2),ce=e=>{Bs(e,{})};Ji(de,(e=>{Ct(it)&&e(ce)}));var pe=Oe(de,2),ve=e=>{gs(e,{})};Ji(pe,(e=>{ua(ue,"$debugPanelVisible",r)&&e(ve)}));var ge=Oe(pe,2),fe=e=>{Wh(e,{onClose:st,onSelectAutoQuality:()=>{Ye("auto"),st()}})};Ji(ge,(e=>{Ct(rt)&&e(fe)})),fn(Oe(ge,2),(()=>"slot"),!1,((e,t)=>{Mn(e,null,{name:Qh})})),ji(e,i)})),Yn(Oe(jt,2),(e=>ne(nt,e)),(()=>Ct(nt))),Ce(Ot),Yn(Ot,(e=>ne(Xe,e)),(()=>Ct(Xe))),Bt(((e,t)=>{zt=$n(Dt,1,"video-wrapper svelte-dtyj47",null,zt,e),Ht=$n(qt,1,"video-container svelte-dtyj47",null,Ht,t),Cn(qt,`transform: rotate(${f()}deg) scale(${Ct(bt)})`),Ln(qt,"data-is-playing",S())}),[()=>({hidden:"video"!==l()}),()=>({"fast-rotate":!t.uiConfig.isSmoothVideoRotate})]),Vi("click",Ot,(()=>{Fe.set(!0)}),!0),Vi("focusin",Ot,(()=>{De||(lt.set(!0),_t(t.uiConfig.controls.hideTimeoutCursor))}),!0),ji(e,Ot),gi(),s()}function Ag(e){let t="";return Tg(e.timelineSliderFilledColor)&&(t+=`--timeline-slider-filled-bg:${e.timelineSliderFilledColor};`),Tg(e.timelineSliderHandleColor)&&(t+=`--timeline-slider-handle-bg:${e.timelineSliderHandleColor};`),Tg(e.timelineSliderLoadedColor)&&(t+=`--timeline-slider-loaded-bg:${e.timelineSliderLoadedColor};`),Tg(e.timelineSliderColor)&&(t+=`--timeline-slider-bg:${e.timelineSliderColor};`),Tg(e.volumeSliderColor)&&(t+=`--volume-slider-bg:${e.volumeSliderColor};`),Tg(e.volumeSliderHandleColor)&&(t+=`--volume-slider-handle-bg:${e.volumeSliderHandleColor};`),Tg(e.volumeSliderFilledColor)&&(t+=`--volume-slider-filled-bg:${e.volumeSliderFilledColor};`),Tg(e.controlsTimeColor)&&(t+=`--controls-time:${e.controlsTimeColor};`),Tg(e.timelineSliderFilledActiveLiveColor)&&(t+=`--timeline-slider-filled-active-live-bg:${e.timelineSliderFilledActiveLiveColor};`),Tg(e.timelineSliderHandleActiveLiveColor)&&(t+=`--timeline-slider-handle-active-live-bg:${e.timelineSliderHandleActiveLiveColor};`),Tg(e.buttonColor)&&(t+=`--btn-color:${e.buttonColor};`),Tg(e.buttonToggleOnColor)&&(t+=`--toggle-color-on:${e.buttonToggleOnColor};`,t+=`--toggle-color-autoplay-on:${e.buttonToggleOnColor};`),Tg(e.focusedColor)&&(t+=`--focused:${e.focusedColor};`),t.length&&t||void 0}function Tg(e){return"string"==typeof e&&!e.includes(";")}Ni(["click"]);var Pg=Di('<div class="root svelte-1cnbt6x"><!></div>'),Eg={hash:"svelte-1cnbt6x",code:".root.svelte-1cnbt6x {--white: #fff;--black: #000;--red: #ff3347;--blue-light: #70c1ff;--black-alpha-40: rgba(0, 0, 0, 0.4);--white-alpha-24: rgba(255, 255, 255, 0.24);--white-alpha-72: rgba(255, 255, 255, 0.72);--devider-gray: #dce1e6;--text-gray: #626d7a;--font: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;--controls-height: 40px;--controls-gradient-height: 100px;--controls-transition-duration: 0.25s;--controls-transition-fn: cubic-bezier(0.455, 0.03, 0.515, 0.955);--controls-desktop-item-margin-left: 4px;--focused: var(--white);--focused-element-shadow: inset 0 0 0 2px var(--focused);--focused-slider-shadow: 0 0 0 2px var(--focused);--big-play-size: 96px;--big-play-radius: 50%;--big-play-bg-color: rgba(0, 0, 0, 0.5);--big-play-hover-bg-color: rgba(0, 0, 0, 0.6);--big-play-icon-width: 38px;--big-play-icon-height: 33px;--interactive-episode-complete: rgba(92, 156, 230, 1);--slider-bg: rgba(255, 255, 255, 0.4);--slider-filled-bg: var(--white);--slider-handle-bg: var(--white);--slider-loaded-bg: rgba(255, 255, 255, 0.4);--slider-height: 3px;--slider-video-episode-gap: 1.5px;--slider-radius: 0px;--slider-handle-size: 12px;--slider-filled-ads: rgba(103, 165, 235, 1);--slider-disabled-color: rgba(248, 248, 248, 0.31);--slider-volume-height: 5px;--slider-volume-radius: calc(var(--slider-volume-height) / 2);--slider-volume-handle-size: 13px;\n\n    /* USER DEFINED COLORS */\n\n    /* timeline active live */--timeline-slider-filled-active-live-bg: var(--red);--timeline-slider-handle-active-live-bg: var(--red);\n    /* timeline & timeline ads */--timeline-slider-bg: var(--slider-bg);--timeline-slider-filled-bg: var(--slider-filled-bg);--timeline-slider-handle-bg: var(--slider-handle-bg);--timeline-slider-loaded-bg: var(--slider-loaded-bg);\n    /* volume slider colors */--volume-slider-bg: var(--slider-bg);--volume-slider-filled-bg: var(--slider-filled-bg);--volume-slider-handle-bg: var(--slider-handle-bg);\n    /* controls time */--controls-time: var(--white);\n\n    /* /// USER DEFINED COLORS */--controls-gradient: linear-gradient(\n      180deg,\n      rgba(0, 0, 0, 0) 0%,\n      rgba(0, 0, 0, 0.01) 6.67%,\n      rgba(0, 0, 0, 0.04) 13.33%,\n      rgba(0, 0, 0, 0.08) 20%,\n      rgba(0, 0, 0, 0.15) 26.67%,\n      rgba(0, 0, 0, 0.23) 33.33%,\n      rgba(0, 0, 0, 0.33) 40%,\n      rgba(0, 0, 0, 0.44) 46.67%,\n      rgba(0, 0, 0, 0.56) 53.33%,\n      rgba(0, 0, 0, 0.67) 60%,\n      rgba(0, 0, 0, 0.77) 66.67%,\n      rgba(0, 0, 0, 0.85) 73.33%,\n      rgba(0, 0, 0, 0.92) 80%,\n      rgba(0, 0, 0, 0.96) 86.67%,\n      rgba(0, 0, 0, 0.99) 93.33%,\n      #000 100%\n    );--timeline-preview-shadow: rgba(0, 0, 0, 0.08);--timeline-preview-bg: rgba(34, 34, 34, 1);--settings-bg: rgba(0, 0, 0, 0.72);--settings-item-bg-hover: rgba(255, 255, 255, 0.08);--settings-radius: 8px;--mobile-settings-bg: #2c2d2e;--divider-border: 1px solid var(--white-alpha-24);--toggle-color-separator: #363738;--toggle-color-off: #656565;--toggle-color-on: #71aaeb;--toggle-color-autoplay-on: var(--white);--notification-bg: #2C2D2E;--notification-radius: 8px;--button-hover-transition: opacity 0.2s;--video-container-z-index: 0;--controls-container-z-index: 1;--ads-container-z-index: 1;--end-screen-mobile-z-index: 1;--notification-z-index: 1;--thumb-timer-z-index: 2;--debug-panel-z-index: 2;--settings-menu-z-index: 2;--context-menu-z-index: 3;--hot-key-helpers-container-z-index: 3;--overlay-container-z-index: 4;--rotate-transition-duration: 0.25s;--btn-color: var(--white);position:relative;width:100%;height:100%;color:var(--white);font-size:12px;line-height:normal;overflow:hidden;outline:0;user-select:none;\n    /* --vk-vp-custom-font - vk video player custom font */font-family:var(--vk-vp-custom-font, var(--font));background:var(--black);}\n\n  /* css reset start */* {-webkit-tap-highlight-color:transparent;}button {border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;cursor:pointer;}p {margin:0;}svg:not(.interactive-root svg) {pointer-events:none;}.interactive-root {\n    /* --vk-vp-int-custom-font - vk video player interactive custom font */font-family:var(--vk-vp-int-custom-font, inherit);}*:focus, *:focus-visible {outline:none;}*:focus-visible {box-shadow:var(--focused-element-shadow);}\n  /* css reset end */.hidden {visibility:hidden;opacity:0;}.overlay-container {pointer-events:none;top:0;left:0;height:100%;width:100%;position:fixed;z-index:var(--overlay-container-z-index);}\n\n  /* Класс для сокрытие контента визуально но не для обхода по таб и скрин ридера */.out-of-view {position:absolute !important;left:-1000vh !important;}.icon.icon-error-stub {display:flex;justify-content:center;align-items:center;}"};function Ig(e,t){hi(t,!0),bn(e,Eg);let[i,n]=ca(),a=ma(t,"sources",7),o=ma(t,"store",7),r=ma(t,"microStoresRoot",7),s=ma(t,"videoConfig",7),l=ma(t,"uiConfig",7),d=ma(t,"title",7),u=ma(t,"thumbUrl",7),c=ma(t,"interactiveContainer",7),p=ma(t,"interactiveController",7),v=ma(t,"subtitles",7),m=ma(t,"live",7),b=ma(t,"preload",7),y=ma(t,"autoplay",7),_=ma(t,"volume",7,void 0),w=ma(t,"muted",7,void 0),x=ma(t,"fromTime",7),k=ma(t,"canRewindLive",7),$=ma(t,"showAds",7),S=ma(t,"adsSlotId",7,void 0),C=ma(t,"adsParams",7,void 0),A=ma(t,"adsPreviewParam",7,void 0),T=ma(t,"adsAutoplayParam",7,void 0),P=ma(t,"duration",7,void 0),E=ma(t,"logoClickable",7),I=ma(t,"logoHidden",7),L=ma(t,"isMobile",7),M=ma(t,"showNextPrevButtons",7,!1),V=ma(t,"nextButtonActive",7,!1),N=ma(t,"prevButtonActive",7,!1),R=ma(t,"endScreenVideoTitle",7,void 0),B=ma(t,"endScreenVideoThumb",7,void 0),O=ma(t,"isOneVideoPlaylist",7,!1),D=ma(t,"supportLink",7),z=ma(t,"shadowRootContainer",7,void 0),q=ma(t,"outerContainerRef",7,void 0),H=ma(t,"fullScreenTarget",7,void 0),j=ma(t,"failoverHosts",7,void 0),F=ma(t,"showMiniTimer",7,!1),U=ma(t,"saveRate",7),W=ma(t,"seekToInteractive",7,g.noop),Q=ma(t,"playPrevChapter",7,g.noop),K=ma(t,"volumeMultiplier",7),G=ma(t,"showAutoplayNext",7),Z=ma(t,"showEndScreen",7,!0),Y=ma(t,"keyboardControls",15,void 0),{subscribers:X,stores:J}=r();(e=>{pi("ui-config",e)})(l());let ee=wa(),ie=l().logoLink,ae=o().ui.debugPanelVisible,oe=o().ui.playerSize,re=o().state.isLive$,se=o().state.isInteractive&&h.clientChecker.device.isAndroid,le=te(void 0),de=null,ue=te(!1);o().getAdmanWrapper().init({switchFromAdsToVideo:o().actions.internal.switchFromAdsToVideo,switchFromVideoToAds:o().actions.internal.switchFromVideoToAds,setMuted:o().actions.external.setMuted},o().ads,{isMobile:o().ui.isMobile,mobileUnmuteButtonVisible:o().ui.mobileUnmuteButtonVisible,vsid:o().vsid}),((e,t)=>{pi(Da,e),pi(za,t)})(o(),J),Vt((()=>{o().ui.isMobile.set(L())}));let ce=(e=!1)=>{ne(ue,!0),e?o().actions.external.firstStart($()):o().actions.internal.firstStart($())};function pe(e){let t=a()||e;t&&o().initVideo({container:Ct(le),sources:t,failoverHosts:j(),subtitles:v(),volumeMultiplier:K()});let n="true"===g.safeStorage.get(xa);ae.set(n),x()>0&&o().actions.external.seekTime(x());let r=L()?ee.volumeDefault:_()??no()??ee.volumeDefault,s=w()??lo(Ka);if(o().actions.external.setVolume(r),o().actions.external.setMuted(s),o().getAdmanWrapper().setInitialVolume(s?0:r),(()=>{if(ee.features.qualityDetailsSubMenuEnabled){let e=ho(o().videoId);if(e)switch(e.type){case"high_quality":o().actions.internal.setHighQualityEnabled(!0,e.appliesTo);break;case"traffic_saving":o().actions.internal.setTrafficSavingEnabled(!0,e.appliesTo);break;case"exact_quality":o().actions.internal.setQuality(e.quality)}}else{go(o().videoId),po()&&o().actions.internal.setTrafficSavingEnabled(!0);let e=ro(o().videoId);e&&o().actions.internal.setQuality(e)}})(),ee.features.saveRate&&U()){let e=(()=>{let e=g.safeStorage.get(Ja);if((0,g.isNullable)(e))return;let{rate:t}=JSON.parse(e);return t})();e&&!ua(re,"$isLive$",i)&&o().actions.internal.setPlaybackRate(e)}if(G()){let e=lo(eo);e&&o().actions.internal.setAutoplayNextEnabled(e)}o().ui.isAutoplay.set(y()),y()?ce():b()&&ee.features.preload&&o().actions.internal.preload()}let ve=()=>{document.hidden&&o().actions.external.stop()};function he(e){o().actions.internal.seekTime(e,f.SeekAction.UNKNOWN)}ea((()=>{se&&document.addEventListener("visibilitychange",ve),ee.debugLog&&o().actions.internal.startLogging(),(e=>{if(window.ResizeObserver){let t,i;de=new ResizeObserver((0,g.throttleFn)((e=>{let n=e[0];if(n.contentBoxSize){let e=Array.isArray(n.contentBoxSize)?n.contentBoxSize[0]:n.contentBoxSize;t=e.inlineSize,i=e.blockSize}else n.contentRect&&(t=n.contentRect.width,i=n.contentRect.height);oe.set({width:t,height:i})}),300)),de.observe(e)}oe.set({width:e.clientWidth,height:e.clientHeight})})(Ct(le));let e=X.map((e=>e.init({store:o(),microStores:J,config:s(),interactiveController:p(),uiConfig:l()}))),t=()=>{se&&document.removeEventListener("visibilitychange",ve),de?.disconnect(),e.forEach((e=>e.unsubscribe())),o().destroy()};return"upcoming"===m()?.status?(o().actions.internal.setLiveWaitingStart(!0),t):"waiting"===m()?.status?(o().actions.internal.setLiveWaitingRecover(!0),t):"finished"!==m()?.status&&"postlive"!==m()?.status||Object.keys(a()||[]).length?(pe(),t):(o().actions.internal.setLiveWaitingRecord(!0),t)}));let ge=Ag(ee.view);var fe=Pg();Cn(fe,ge);var me=Re(fe),be=e=>{Cg(e,{get store(){return o()},uiConfig:ee,get thumbUrl(){return u()},get interactiveContainer(){return c()},get live(){return m()},get autoplay(){return y()},get canRewindLive(){return k()},get showAds(){return $()},get adsSlotId(){return S()},get adsParams(){return C()},get adsPreviewParam(){return A()},get adsAutoplayParam(){return T()},get duration(){return P()},get logoClickable(){return E()},get logoHidden(){return I()},logoTargetUrl:ie,get nextButtonActive(){return V()},get prevButtonActive(){return N()},get endScreenVideoTitle(){return R()},get endScreenVideoThumb(){return B()},get isOneVideoPlaylist(){return O()},get supportLink(){return D()},get shadowRootContainer(){return z()},get outerContainerRef(){return q()},get fullScreenTarget(){return H()},get showMiniTimer(){return F()},get playerStarted(){return Ct(ue)},get seekToInteractive(){return W()},get playPrevChapter(){return Q()},firstStart:ce,seekTime:he,get showEndScreen(){return Z()},get showAutoplayNext(){return G()},get showNextPrevButtons(){return M()},get videoContainer(){return Ct(le)},set videoContainer(e){ne(le,Pe(e))}})},ye=e=>{rg(e,{get store(){return o()},uiConfig:ee,get title(){return d()},get thumbUrl(){return u()},get interactiveContainer(){return c()},get live(){return m()},get autoplay(){return y()},get canRewindLive(){return k()},get showAds(){return $()},get adsSlotId(){return S()},get adsParams(){return C()},get adsPreviewParam(){return A()},get adsAutoplayParam(){return T()},get duration(){return P()},get logoClickable(){return E()},get logoHidden(){return I()},logoTargetUrl:ie,get nextButtonActive(){return V()},get prevButtonActive(){return N()},get endScreenVideoTitle(){return R()},get endScreenVideoThumb(){return B()},get isOneVideoPlaylist(){return O()},get supportLink(){return D()},get shadowRootContainer(){return z()},get outerContainerRef(){return q()},get fullScreenTarget(){return H()},get showMiniTimer(){return F()},get playerStarted(){return Ct(ue)},get seekToInteractive(){return W()},get playPrevChapter(){return Q()},firstStart:ce,get showEndScreen(){return Z()},get showAutoplayNext(){return G()},get showNextPrevButtons(){return M()},get videoContainer(){return Ct(le)},set videoContainer(e){ne(le,Pe(e))},get keyboardControls(){return Y()},set keyboardControls(e){Y(e)}})};Ji(me,(e=>{L()?e(be):e(ye,!1)})),Ce(fe),ji(e,fe);var _e=gi({initVideo:pe,play:function(){Ct(ue)?o().actions.external.play():ce(!0)},pause:function(){o().actions.external.pause()},setMuted:function(e){o().actions.external.setMuted(e)},setVolume:function(e){L()||e>=0&&e<=1&&o().actions.external.setVolume(e)},seekTime:he,seekEpisodeStartTime:function(e){o().actions.external.seekEpisodeStartTime(e)},returnFocusToEpisodes:function(){o().actions.external.returnFocusToEpisodes()},setPlaybackRate:function(e){o().actions.external.setPlaybackRate(e)},setAutoQualityLimits:function(e){o().actions.external.setAutoQualityLimits(e)},get sources(){return a()},set sources(e){a(e)},get store(){return o()},set store(e){o(e)},get microStoresRoot(){return r()},set microStoresRoot(e){r(e)},get videoConfig(){return s()},set videoConfig(e){s(e)},get uiConfig(){return l()},set uiConfig(e){l(e)},get title(){return d()},set title(e){d(e)},get thumbUrl(){return u()},set thumbUrl(e){u(e)},get interactiveContainer(){return c()},set interactiveContainer(e){c(e)},get interactiveController(){return p()},set interactiveController(e){p(e)},get subtitles(){return v()},set subtitles(e){v(e)},get live(){return m()},set live(e){m(e)},get preload(){return b()},set preload(e){b(e)},get autoplay(){return y()},set autoplay(e){y(e)},get volume(){return _()},set volume(e){_(e)},get muted(){return w()},set muted(e){w(e)},get fromTime(){return x()},set fromTime(e){x(e)},get canRewindLive(){return k()},set canRewindLive(e){k(e)},get showAds(){return $()},set showAds(e){$(e)},get adsSlotId(){return S()},set adsSlotId(e){S(e)},get adsParams(){return C()},set adsParams(e){C(e)},get adsPreviewParam(){return A()},set adsPreviewParam(e){A(e)},get adsAutoplayParam(){return T()},set adsAutoplayParam(e){T(e)},get duration(){return P()},set duration(e){P(e)},get logoClickable(){return E()},set logoClickable(e){E(e)},get logoHidden(){return I()},set logoHidden(e){I(e)},get isMobile(){return L()},set isMobile(e){L(e)},get showNextPrevButtons(){return M()},set showNextPrevButtons(e){M(e)},get nextButtonActive(){return V()},set nextButtonActive(e){V(e)},get prevButtonActive(){return N()},set prevButtonActive(e){N(e)},get endScreenVideoTitle(){return R()},set endScreenVideoTitle(e){R(e)},get endScreenVideoThumb(){return B()},set endScreenVideoThumb(e){B(e)},get isOneVideoPlaylist(){return O()},set isOneVideoPlaylist(e){O(e)},get supportLink(){return D()},set supportLink(e){D(e)},get shadowRootContainer(){return z()},set shadowRootContainer(e){z(e)},get outerContainerRef(){return q()},set outerContainerRef(e){q(e)},get fullScreenTarget(){return H()},set fullScreenTarget(e){H(e)},get failoverHosts(){return j()},set failoverHosts(e){j(e)},get showMiniTimer(){return F()},set showMiniTimer(e){F(e)},get saveRate(){return U()},set saveRate(e){U(e)},get showAutoplayNext(){return G()},set showAutoplayNext(e){G(e)},get seekToInteractive(){return W()},set seekToInteractive(e){W(e)},get playPrevChapter(){return Q()},set playPrevChapter(e){Q(e)},get volumeMultiplier(){return K()},set volumeMultiplier(e){K(e)},get showEndScreen(){return Z()},set showEndScreen(e){Z(e)},get keyboardControls(){return Y()},set keyboardControls(e){Y(e)}});return n(),_e}var Lg=zi('<svg><!><path fill="currentColor" d="M38.245 6c3.566 0 4.859.371 6.162 1.069a7.27 7.27 0 0 1 3.025 3.024c.697 1.303 1.068 2.597 1.068 6.163v23.489c0 3.566-.371 4.859-1.069 6.162a7.27 7.27 0 0 1-3.024 3.025C43.104 49.629 41.811 50 38.245 50h-19.49c-3.565 0-4.859-.371-6.162-1.069a7.27 7.27 0 0 1-3.024-3.024C8.87 44.604 8.5 43.311 8.5 39.745v-23.49c0-3.565.371-4.859 1.069-6.162a7.27 7.27 0 0 1 3.024-3.024C13.896 6.37 15.19 6 18.756 6zm.314 3H18.756c-2.799 0-3.761.186-4.749.714a4.27 4.27 0 0 0-1.793 1.793c-.508.95-.7 1.876-.713 4.434L11.5 39.744c0 2.799.186 3.761.714 4.749a4.27 4.27 0 0 0 1.793 1.793c.988.528 1.95.714 4.749.714h19.489c2.798 0 3.76-.186 4.748-.714a4.27 4.27 0 0 0 1.793-1.793c.528-.988.714-1.95.714-4.748v-23.49c0-2.798-.186-3.76-.714-4.748a4.27 4.27 0 0 0-1.793-1.793c-.95-.508-1.876-.7-4.434-.713zM19.22 38c.445 0 .607.046.77.134a.9.9 0 0 1 .377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.9.9 0 0 1 .377.378c.088.163.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .607.046.77.134a.9.9 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.9.9 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.9.9 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.607-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.163-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .607.046.77.134a.9.9 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.9.9 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.9.9 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.9.9 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.608.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134zm-20-8c.445 0 .607.046.77.134a.9.9 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.9.9 0 0 1-.378.378c-.162.088-.324.134-.77.134h-1.436c-.446 0-.608-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.162-.088.324-.134.77-.134h1.436zm20 0c.445 0 .606.046.77.134a.9.9 0 0 1 .377.378c.088.162.134.324.134.77v1.436c0 .446-.046.608-.134.77a.9.9 0 0 1-.378.378c-.163.088-.324.134-.77.134h-1.436c-.446 0-.607-.046-.77-.134a.9.9 0 0 1-.378-.378c-.088-.162-.134-.324-.134-.77v-1.436c0-.446.046-.607.134-.77a.9.9 0 0 1 .378-.378c.163-.088.324-.134.77-.134z"></path></svg>');function Mg(e,t){let i=ma(t,"isWhite",3,!1),n=re((()=>i()?"color: #fff;":"color: #909499;"));!function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Lg();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"57",height:"60",fill:"none","aria-hidden":"true","data-testid":"stub-icon",role:"img",...i}))),ji(e,n)}(e,{get style(){return Ct(n)}})}var Vg=Di('<div class="title svelte-1y9fytq"> </div>'),Ng=Di('<div class="playerStub svelte-1y9fytq"><!> <!></div>'),Rg={hash:"svelte-1y9fytq",code:".playerStub.svelte-1y9fytq {width:100%;height:100%;background-color:#222;display:flex;justify-content:center;align-items:center;position:relative;background-position:center;background-size:cover;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;}.title.svelte-1y9fytq {position:absolute;left:0;top:0;width:100%;font-size:15px;color:#fff;box-sizing:border-box;padding:18px 20px 10px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}"};function Bg(e,t){bn(e,Rg);var i=Ng(),n=Re(i),a=e=>{var i=Vg(),n=Re(i,!0);Ce(i),Bt((()=>Wi(n,t.title))),ji(e,i)};Ji(n,(e=>{t.title&&e(a)}));var o=Oe(n,2),r=e=>{let i=re((()=>!!t.thumbUrl));Mg(e,{get isWhite(){return Ct(i)}})};Ji(o,(e=>{(!t.title||!t.thumbUrl)&&e(r)})),Ce(i),Bt((()=>Cn(i,t.thumbUrl?`background-image: url('${t.thumbUrl}')`:""))),ji(e,i)}var Og=class{isSupported(){return"mediaSession"in navigator}setMetaData({title:e,artist:t="",thumbUrl:i=""}){this.isSupported()&&(navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t,artwork:[{src:i,sizes:"96x96",type:"image/png"},{src:i,sizes:"128x128",type:"image/png"},{src:i,sizes:"192x192",type:"image/png"},{src:i,sizes:"256x256",type:"image/png"},{src:i,sizes:"384x384",type:"image/png"},{src:i,sizes:"512x512",type:"image/png"}]}))}updateActionHandlers(e){this.resetActionHandlers(),this.setActionHandlers(e)}resetActionHandlers(){this.setActionHandlers([["play",null],["pause",null],["stop",null],["nexttrack",null],["previoustrack",null],["seekto",null],["seekbackward",null],["seekforward",null]])}setActionHandlers(e){if(this.isSupported())for(let[t,i]of e)try{navigator.mediaSession.setActionHandler?.(t,i)}catch{throw new Error(`The media session action "${t}" is not supported yet.`)}}attachToStore(e){!this.isSupported()||!e||(this.clearSubscriptions(),this.subscription.add(e.state.positionExact$.subscribe((t=>{let i=sa(e.state.currentPlaybackRate$),n=sa(e.state.duration$);if(isFinite(t)&&isFinite(n))try{navigator.mediaSession.setPositionState?.({position:t,playbackRate:i,duration:n})}catch{this.log({message:`MediaSession setPositionState can't call with position: ${t} and duration: ${n}`})}}))))}clearSubscriptions(){this.subscription.unsubscribe()}destroy(){this.resetActionHandlers(),this.clearSubscriptions()}constructor(){this.subscription=new g.Subscription,this.logger=new g.Logger,this.log=this.logger.createComponentLog("MediaSessionApi")}},Dg=zi('<svg><!><g fill="var(--btn-color, #fff)"><path d="m30.744 4 .744.005c2.981.046 4.526.385 6.127 1.24a8.77 8.77 0 0 1 3.475 3.347l.174.312.15.292c.772 1.553 1.066 3.18 1.085 6.251v9.045a1.5 1.5 0 0 1-3 .016l-.008-9.651c-.04-2.032-.228-3.12-.627-4.035l-.126-.27-.13-.252A5.77 5.77 0 0 0 36.2 7.891c-1.187-.635-2.339-.873-5.115-.89L22.255 7c-2.737 0-4.003.2-5.071.698l-.133.064-.251.13a5.77 5.77 0 0 0-2.409 2.408c-.635 1.187-.873 2.339-.89 5.114l-.001 20.83c0 2.738.2 4.004.698 5.072l.064.133.13.251a5.77 5.77 0 0 0 2.408 2.409c1.1.588 2.134.825 4.438.88l.323.006 3.695.005H26a1.5 1.5 0 0 1 0 3h-.756l-3.718-.005c-2.989-.047-4.526-.377-6.14-1.24a8.77 8.77 0 0 1-3.476-3.347l-.174-.312-.15-.292c-.731-1.472-1.036-3.016-1.08-5.803l-.006-.756v-20.49l.005-.743c.046-2.981.385-4.526 1.24-6.127a8.77 8.77 0 0 1 3.347-3.475l.312-.174.292-.15c1.472-.731 3.016-1.036 5.803-1.08L22.256 4z"></path><path d="M30.5 33.8c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311C32.78 29 33.62 29 35.3 29h6.4c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311c.327.642.327 1.482.327 3.162v13.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311C44.22 52 43.38 52 41.7 52h-6.4c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C30.5 49.72 30.5 48.88 30.5 47.2z"></path></g></svg>');var zg=Di('<div><div><!></div> <span class="title svelte-1pbsod4"> </span></div>'),qg={hash:"svelte-1pbsod4",code:".player-pip-dummy.svelte-1pbsod4 {width:100%;height:100%;background-color:#19191A;display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;}.player-pip-dummy.is-pip-api.svelte-1pbsod4 {position:relative;}.dummy-image.svelte-1pbsod4 svg {transform:scale(1.07143);}.dummy-image.desktop.svelte-1pbsod4 {transform:scale(1.07143) rotate(-90deg) rotateY(180deg);}.title.svelte-1pbsod4 {font-size:16px;color:#fff;padding:18px 20px 10px;text-align:center;}"};function Hg(e,t){hi(t,!0),bn(e,qg);let[i,n]=ca(),a=qa(),o=wa(),r=!!a.webApi.pictureInPictureApi,s=a.interfaceLanguage$,l=a.ui.isMobile,d=a.ui.t,u=re((()=>ua(s,"$interfaceLanguage$",i)&&d("pip_dummy_title"))),c=Ag(o.view);var p=zg();$n(p,1,"player-pip-dummy svelte-1pbsod4",null,{},{"is-pip-api":r}),Cn(p,c);var v=Re(p);let h;(function(e,t){let i=va(t,["$$slots","$$events","$$legacy","children"]);var n=Dg();let a;hn(Re(n),(()=>t.children??O)),Ae(),Ce(n),Bt((()=>a=Mn(n,a,{xmlns:"http://www.w3.org/2000/svg",width:"57",height:"56",fill:"none","aria-label":"dummy-image","data-testid":"pip-dummy-icon",role:"img",...i}))),ji(e,n)})(Re(v),{}),Ce(v);var g=Oe(v,2),f=Re(g,!0);Ce(g),Ce(p),Bt((e=>{h=$n(v,1,"dummy-image svelte-1pbsod4",null,h,e),Wi(f,Ct(u))}),[()=>({desktop:!ua(l,"$isMobile$",i)})]),ji(e,p),gi(),n()}var jg=class{isSupported(){let{isEmbed:e}=(0,g.detectEmbed)();return"documentPictureInPicture"in window&&!e}isActive(){return this.isSupported()&&!!documentPictureInPicture.window}setPlayerDomElement(e,t){this.playerDomElement=e,this.playerParentShadowRoot=t}setContext(e){this.svelteContext=e}async request(){if(!this.isSupported()||!this.playerDomElement||!this.playerParentShadowRoot)return;this.pipWindow=await documentPictureInPicture.requestWindow({width:460,height:280,copyStyleSheets:!0}),this.pipWindow.document.body.style.margin="0";let e=[...this.playerParentShadowRoot.styleSheets].map((e=>[...e.cssRules].map((e=>e.cssText)).join(" "))).filter(Boolean).join("\n"),t=document.createElement("style");t.textContent=e;let i=this.createStretchedContainer(),n=i.attachShadow({mode:"open"});n.append(t),n.append(this.playerDomElement);let a={target:this.playerParentShadowRoot,context:this.svelteContext};this.playerDummyElement=Qi(Hg,a),this.pipWindow?.document.body.append(i),this.info.isActive$.next(!0),this.pipWindow?.addEventListener("unload",(e=>{!this.playerDomElement||!this.playerParentShadowRoot||!this.playerDummyElement||(Xi(this.playerDummyElement),this.playerParentShadowRoot.append(this.playerDomElement),this.info.isActive$.next(!1))}))}async remove(){return new Promise((e=>{documentPictureInPicture.window?.close(),e()}))}async dispose(){await this.remove()}setEnabled(e){this.info.isEnabled$.next(e)}createStretchedContainer(){let e=document.createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e}constructor({enabled:e=!0}={enabled:!0}){this.info={isActive$:new g.ValueSubject(!1),isEnabled$:new g.ValueSubject(!1),type:1},this.info.isEnabled$=new g.ValueSubject(e)}};var Fg=class{static getLatestSupportedVersion(e){let t=new Yo,i=new jg(e);return i.isSupported()?i:t.isSupported()?t:void 0}};function Ug(e,t){let i=new Set([...Object.keys(e),...Object.keys(t)]),n={};for(let a of i)n[a]=t[a]??e[a]??void 0;return n}var Wg=class extends Error{constructor(e){super(e),this.name="AnnotationError"}},Qg=class{init(e){if(this.rootAnnotationsContainer=e,this.annotationsInside)return;let t=(0,g.throttleFn)((()=>{for(let e of this.annotations.values())this.isElementExceedsBoundaries(e,this.playerSize.width,this.playerSize.height)?e.style.visibility="hidden":e.style.visibility="visible"}),100);this.subscriptions.add((0,g.observeElementSize)(this.rootAnnotationsContainer).subscribe((({width:e,height:i})=>{this.playerSize={width:e,height:i},t()}))),this.mutationObserver=new MutationObserver(t),this.mutationObserver.observe(this.rootAnnotationsContainer,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}add(e,t){if(!this.rootAnnotationsContainer)throw new Wg("Inner error. Unexpectedly root annotation container null reference exception");if(this.annotations.has(e))throw new Wg("Annotation with such name already exists");t.style.zIndex=t.style.zIndex??"1",t.style.position="absolute",this.rootAnnotationsContainer.append(t),this.annotations.set(e,t)}get(e){let t=this.annotations.get(e);if(!t)throw new Wg("Annotation with such name does not exist");return t}remove(e){let t=this.get(e);this.annotations.delete(e)&&t.remove()}clear(){for(let e in this.annotations.keys())this.remove(e)}destroy(){this.annotations.clear(),this.subscriptions.unsubscribe(),this.mutationObserver?.disconnect(),this.rootAnnotationsContainer=null}isElementExceedsBoundaries(e,t,i){let n=e.offsetTop,a=e.offsetLeft,o=e.offsetWidth,r=e.offsetHeight;return n<0||a<0||a+o>t||n+r>i}registryRootContainer(e){}addLayer(e){return document.createElement("div")}getLayer(e){}removeLayer(e){}clearLayer(e){}detach(){}reattach(){}constructor(e){this.annotationsInside=e,this.annotations=new Map,this.subscriptions=new g.Subscription}},Kg=class{init({store:e,microStores:t,interactiveController:i,config:n}){return(0,g.assertNonNullable)(e),(0,g.assertNonNullable)(t),(0,g.assertNonNullable)(n),n.interactiveData&&(0,g.assertNonNullable)(i),this.subscription=new g.Subscription,this.subscription}},Gg=class extends Kg{init(e){let t=super.init(e),{isInteractiveExpectation$:i}=e.store.state;return t.add(i.subscribe((e=>{this.state$.set(!!e||null)}))),t}constructor(){super(...arguments),this.stateName="fakeIsPlaying$",this.state$={...oa(null),toggle:()=>this.state$.update((e=>!e))}}},Zg=class extends Kg{init(e){let t=super.init(e),{microStores:i,store:n}=e,{fakeIsPlaying$:a}=i,{isInteractiveExpectation$:o,isPlaying$:r}=n.state,{controlsVisible:s,isMobile:l}=n.ui,d=sa(l),u=()=>d&&sa(s);return t.add(s.subscribe((e=>{if(!d)return;let t=sa(a);sa(r)?this.state$.set(e):null!==t&&this.state$.set(!t||e)}))),t.add(r.subscribe((e=>{this.state$.set(!e||u())}))),t.add(a.subscribe((e=>{if(null===e)return;let t=sa(o);u()?this.state$.set(!0):t&&this.state$.set(!e)}))),t}constructor(){super(...arguments),this.stateName="interactiveControlsOpacity$",this.state$={...oa(null),toggle:()=>this.state$.update((e=>!e))}}},Yg=class extends Kg{init(e){let t=super.init(e),{store:i}=e;return t.add(i.state.interactiveEpisodes$.subscribe((e=>{e.length&&(e.every((e=>e.completed))?this.state$.set("tooltip_interactive_of_chapter_completed"):this.state$.set("tooltip_disabled_when_interactive"))}))),t}constructor(){super(...arguments),this.stateName="seekToInteractiveDisabledTooltip$",this.state$=oa("tooltip_chapter_without_interactive")}},Xg=oa(!1),Jg=null,ef=class extends Kg{init(e){let t=super.init(e),{store:i,config:n}=e,{isInteractiveTime$:a,isPlaying$:o}=i.state,r=i.ui.controlsVisible,{interactiveTimeIndicator:s}=i.ui.controls;t.add(r.subscribe((e=>{sa(a)&&e&&this.state$.set(!1)})));let l=n?.interactiveData||{tooltipHelpHintActive:!1};return t.add((0,g.combine)({isPlaying$:o,isInteractiveTime$:a,interactiveTimeIndicator:s}).subscribe((({isPlaying$:e,isInteractiveTime$:t,interactiveTimeIndicator:n})=>{if(e&&n?.isDisplayed){if(!t)return this.state$.set(!1);l.tooltipHelpHintActive&&null===Jg&&(Jg=!0,l.tooltipHelpHintActive=!1,this.state$.set(!0),i.callbacks?.onInteractiveTimeIndicatorHintDeactivated?.())}}))),t}clearTimeout(){window.clearTimeout(this.timeout)}constructor(){super(...arguments),this.stateName="showInteractiveTimeIndicatorTooltip$",this.state$={...Xg,set:(e,t=!1)=>{e!==sa(Xg)&&(this.clearTimeout(),Xg.set(e),!e&&Jg&&(Jg=!1),e&&t&&(this.timeout=setTimeout((()=>{this.state$.set(!1)}),3e3)))},clearTimeout:()=>this.clearTimeout()}}},tf=class extends Kg{init(e){let t=super.init(e),{store:i,interactiveController:n}=e,a=i.ui.currentGridType$,o=i.getLogger().createComponentLog("GraphIsOpened microStore");return this.state$.toggle=async()=>{if(this.checkIfShouldHide(sa(a)))return;let e=sa(this.state$),{isEnded$:t,playbackState$:r}=i.state,{disabledControls$:s}=i.ui.controls,l=sa(t),d=sa(r);if(e)try{await(n?.toggleGraphView(!1)),this.state$.set(!1),s.remove(La),!l&&this.graphMadePause&&i.actions.internal.play()}catch{o({message:"Cant hide graph"})}else{this.graphMadePause="playing"===d;try{await(n?.toggleGraphView(!0)),this.state$.set(!0),s.add(La),!l&&this.graphMadePause&&i.actions.internal.pause()}catch{o({message:"Cant show graph"})}}},t.add((0,g.combine)({graphIsOpened:this.state$,currentGridType:a}).subscribe((async({graphIsOpened:e,currentGridType:t})=>{if(this.checkIfShouldHide(t)&&e)try{await(n?.toggleGraphView(!1)),this.state$.set(!1)}catch{o({message:"Cant hide graph"})}}))),t}constructor(){super(...arguments),this.stateName="graphIsOpened$",this.graphMadePause=!1,this.state$={...oa(null),toggle:g.noop},this.checkIfShouldHide=e=>ad(e,"s")}},nf=class extends Kg{init(e){let t=super.init(e),{store:i}=e,{info:{isActive$:n,isEnabled$:a,type:o}}=i.webApi.pictureInPictureApi||{info:{isActive$:new g.ValueSubject(!1),isEnabled$:new g.ValueSubject(!1)}};return t.add(n.subscribe((e=>{this.state$.isActive$.set(e)}))),t.add(a.subscribe((e=>{this.state$.isEnabled$.set(e)}))),this.state$.type$.set(o),t}constructor(){super(...arguments),this.stateName="pictureInPicture$",this.state$={isActive$:oa(!1),isEnabled$:oa(!1),type$:oa(void 0)}}},af=({maxCount:e})=>{let t={};return{notificationShowed:e=>{t[e]=(t[e]??0)+1,g.safeStorage.set("videoplayer_notifications_manager_count",JSON.stringify(t[e]??0))},canShowNotification:i=>(t[i]??0)<e}},of=({timeout:e})=>{let t="videoplayer_notifications_manager",i=()=>{try{return JSON.parse(g.safeStorage.get(t)||"{}")}catch{return{}}},n=e=>g.safeStorage.set(t,JSON.stringify(e));return{notificationShowed:t=>{n({...i(),[t]:{timeout:e,launchTime:Date.now()}})},canShowNotification:t=>{let a=i()[t];if(a){let o=Date.now()-a.launchTime>e;return o&&(e=>{let t=i();delete t[e],n(t)})(t),o}return!0}}},rf=class extends Kg{init(e){let t=super.init(e),{store:i,uiConfig:{features:{maxCountShowSlowVideoNotification:n,timeoutShowSlowVideoNotification:a,showSlowVideoNotification:o,forceAutoQualityWhenSevereStallHappens:r}}}=e;this.notificationManager=(({maxShowCount:e,timeout:t})=>{let i=[0!==e?af({maxCount:e}):void 0,0!==t?of({timeout:t}):void 0].filter((e=>!!e));return{notificationShowed:e=>i.forEach((t=>t.notificationShowed(e))),canShowNotification:e=>i.every((t=>t.canShowNotification(e)))}})({maxShowCount:n,timeout:a});let s=i.getPlayer();return t.add(s.events.severeStallOccured$.pipe((0,g.filterChanged)(),(0,g.filter)((e=>e))).subscribe((()=>{o&&!s.info.isAutoQualityEnabled$.getValue()&&this.notificationManager.canShowNotification("slow_video")&&(r&&i.actions.internal.setQuality("auto"),this.state$.showNotification("slow_video"))}))),t}constructor(){super(...arguments),this.stateName="notifications$",this.state$={notificationsToShow$:oa({}),showNotification:e=>{this.state$.notificationsToShow$.update((t=>(t[e]=!0,t))),this.notificationManager.notificationShowed(e)},closeNotification:e=>{this.state$.notificationsToShow$.update((t=>(delete t[e],t)))}}}},sf={preload:!0,autoplay:!1,repeat:!1,fromTime:0,canRewindLive:!0,showAds:!1,interfaceLanguage:g.InterfaceLanguage.RU,isCyrillicRelatedInterface:!0,logoClickable:!1,logoHidden:!1,isTouch:(0,h.isMobile)(),isMediaSessionEnabled:!0,isPictureInPictureEnabled:!0,isAudioDisabled:!1,callbacks:{uiInfo:{}},tuningConfig:{configName:[]},saveRate:!0,volumeMultiplier:1,showEndScreen:!0,showAutoplayNext:!0,showNextPrevButtons:!0},lf=te(void 0),df=class extends HTMLElement{connectedCallback(){if(this.isInited)return;this.initPlayerRootContainers();let e=Pe({title:this.getAttribute("stub-title")??void 0,thumbUrl:this.getAttribute("stub-thumb-url")??void 0}),t={target:this.playerContainer,props:e};this.svelteStubComponent=Qi(Bg,t)}disconnectedCallback(){this.annotationsApi?.destroy(),this.mediaSessionApi?.destroy(),this.unmountComponent(this.svelteRootComponent),this.unmountComponent(this.svelteStubComponent),this.subscription.unsubscribe(),this.unsubscribePlayerPhaseSubscription?.(),this.interactiveController?.destroy(),this.interactiveSubscription.unsubscribe(),this.internalsExposure?.destroy(),g.devNull.destroy("ui")}initPlayerRootContainers(){this.rootContainer=document.createElement("div"),this.rootContainer.style.position="relative",this.rootContainer.className="root-container",this.rootContainer.style.width="100%",this.rootContainer.style.height="100%",this.rootContainer.style.minHeight="206px",this.shadowRootContainer=document.createElement("div"),this.shadowRootContainer.style.position="absolute",this.shadowRootContainer.className="shadow-root-container",this.shadowRootContainer.style.width="100%",this.shadowRootContainer.style.height="100%",this._shadowRoot=this.shadowRootContainer.attachShadow({mode:"open"}),this.playerContainer=document.createElement("div"),this.playerContainer.style.all="initial",this.playerContainer.style.display="block",this.playerContainer.style.contain="strict",this.playerContainer.style.width="100%",this.playerContainer.style.height="100%",this._shadowRoot.append(this.playerContainer),this.rootContainer.append(this.shadowRootContainer),this.append(this.rootContainer)}needToShowNextPrevButtons(){return!!this.videoConfig&&(this.videoConfig.videos.length>1&&this.videoConfig.showNextPrevButtons)}isNextButtonActive(){return!!this.videoConfig&&(this.needToShowNextPrevButtons()&&(this.currentPlayingVideoIndex<this.videoConfig.videos.length-1||this.needToRepeatPlaylist))}isPrevButtonActive(){return!!this.videoConfig&&(this.needToShowNextPrevButtons()&&(this.currentPlayingVideoIndex>0||this.needToRepeatPlaylist))}isControlDisabled(e){return this.store?.ui.controls.disabledControls$?.includes(e)||!1}getNextVideoInfo(){if(!this.videoConfig)return{nextVideoTitle:void 0,nextVideoThumb:void 0};let e=this.videoConfig.videos[this.currentPlayingVideoIndex+1]||{};return{nextVideoTitle:e.title,nextVideoThumb:e.thumbUrl}}createPlayer(e,t={},i){if(!this.videoConfig)return;let{albumId:n,statPlace:a,statAuthToken:o,preload:r,autoplay:s,volume:l,muted:d,fromTime:u,canRewindLive:c,supportLink:p,showAds:v,adsSlotId:f,adsParams:m={},adsPreviewParam:b,adsAutoplayParam:y,interfaceLanguage:_,isCyrillicRelatedInterface:w,logoClickable:x,logoHidden:k,isMobile:$,isTouch:S,isAudioDisabled:C,isLiveCatchUpMode:A,fullScreenTarget:T,failoverHosts:P,canDownload:E,callbacks:I,interactiveData:L,showThumbTimer:M,additionalButtons:V=[],additionalSettingsMenuItems:N=[],additionalContextMenuItems:R=[],repeat:B,saveRate:O,volumeMultiplier:D,showEndScreen:z,showAutoplayNext:q}=Ug(this.videoConfig,t),{sources:H,title:j,thumbUrl:F,unitedVideoId:U,isClip:W=!1,duration:Q,adsParams:K={},videoEpisodes:G,previewThumbsData:Z,subtitles:Y,live:X}=e,J={...m,...K},ee=this.getNextVideoInfo(),te={sources:H,title:j,thumbUrl:F,subtitles:Y,unitedVideoId:U,isClip:W,live:X,albumId:n,statPlace:a,autoplay:s,muted:d,volume:l,fromTime:u,canRewindLive:c,showAds:v,adsSlotId:f,adsParams:J,adsPreviewParam:b,adsAutoplayParam:y,duration:Q,logoClickable:x,logoHidden:k,isTouch:S??$,repeat:B,showNextPrevButtons:this.needToShowNextPrevButtons(),nextButtonActive:this.isNextButtonActive(),prevButtonActive:this.isPrevButtonActive(),endScreenVideoTitle:ee.nextVideoTitle,endScreenVideoThumb:ee.nextVideoThumb,isOneVideoPlaylist:this.isOneVideoPlaylist()},ie={pictureInPictureApi:this.pictureInPictureApi,annotationsApi:this.annotationsApi};this.log({message:`create player, props: ${JSON.stringify(te)}`});let ae=this.interactiveController?.state.statistics$.getValue(),oe=ae?.oneStat||this.createOneStat(e,t);oe&&(this.statistics=new pu(oe,ae?.statSubscription)),this.uiConfig.features.sentry&&this.uiConfig.sentry.dsn&&new jo(this.uiConfig.sentry,{version:Ba,env:Ra},{movieId:U,albumId:n,place:a,autoplay:(s&&!this.interactiveController)??!1,mobile:S??$,clip:W}),this.interactiveController&&(this.prevIsid??(this.prevIsid=this.statistics?.oneStat.isid$.getValue())),this.sentry={...this.sentry,...jo.getInstance()};let re=!!L,se=[],le="tooltip_interactive_go_back_disabled_first";if(re&&this.interactiveController){let e=this.interactiveController.state.isInitialChapter$.getValue(),t=this.interactiveController.getHistoryState();e&&se.push("REPLAY_BUTTON"),this.interactiveController.getIsSeekable().getValue()||se.push("SEEK_TO_INTERACTIVE_BUTTON"),t.hasPrevChapter$.getValue()||(se.push("PLAY_PREV_CHAPTER_BUTTON"),e||(le=t.isGoBackLimited$.getValue()?"tooltip_interactive_go_back_disabled_limit":"tooltip_interactive_go_back_disabled"))}this.store=mu({player:i,interfaceLanguage:_,isCyrillicRelatedInterface:w,videoId:U,isClip:W,isLiveCatchUpMode:A,isAudioDisabled:C,statAuthToken:o,callbacks:I,webApi:ie,videoEpisodes:G,previewThumbsData:Z,canDownload:E,uiConfig:this.uiConfig,coreConfig:this.coreConfig,disabledControls:se,isInteractive:re,saveRate:O,interactiveRanges$:this.interactiveController?.state.interactiveRanges$,isInteractiveTime$:this.interactiveController?.state.isInteractiveTime$,stopPlayer:()=>this.stop(),replayInteractive:()=>{this.isInited=!1,this.prevIsid=void 0;let e=i?.info.isEnded$.getValue()&&this.interactiveController?.state.isEndChapter$.getValue();I.onReplayInteractiveVideo&&!e?I.onReplayInteractiveVideo():this.replayInteractiveVideo()},playPrevChapterDisabledTooltip:le,hasInteractiveBranches:!!this.interactiveController?.getChapterBranches()?.length,additionalButtons:this.uiConfig.features.additionalButtons?V:[],additionalSettingsMenuItems:N??[],additionalContextMenuItems:R??[],playPrevVideo:()=>this.playPrevVideo(),playNextVideo:()=>this.playNextVideo(),looped:B&&1===this.videoConfig.videos.length,statistics:this.statistics,internalsExposure:this.internalsExposure});let{stores:de}=this.microStoresRoot=[Gg,Zg,Yg,ef,tf,nf,rf].reduce((({subscribers:e,stores:t},i)=>{let n=new i;return{subscribers:[...e,n],stores:{...t,[n.stateName]:n.state$}}}),{subscribers:[],stores:{}}),ue=()=>{if(!this.store||!this.microStoresRoot||!this.videoConfig)return;this.subscription.add(this.store.state.currentFormat$.subscribe((e=>I?.onCurrentFormatChanged?.(e)))),this.subscription.add(de.interactiveControlsOpacity$.subscribe((e=>{null!==e&&this?.interactiveController?.setDisabledControls(e)}))),this.subscription.add(this.store.state.throughputEstimation$.subscribe((e=>I?.onThroughputEstimationChanged?.(e)))),this.subscription.add(this.store.state.trafficSavingEnabled$.subscribe((e=>I?.onTrafficSavingEnabledChanged?.(e)))),this.subscription.add(new g.Observable((e=>{this.store&&this.subscription.add(this.store.state.currentPlaybackRate$.subscribe((t=>e.next(t))))})).pipe(this.uiConfig.features.skipInitialPlaybackRateValue?(0,g.skip)(1):e=>e).subscribe((e=>I?.onCurrentPlaybackRateChanged?.(e)))),this.subscription.add(this.store.state.volume$.subscribe((e=>I?.onVolumeChange?.(e)))),this.subscription.add(this.store.state.muted$.subscribe((e=>e?I?.onMute?.():I?.onUnmute?.()))),this.subscription.add(this.store.state.videoBitrate$.subscribe((e=>I?.onVideoBitrateChanged?.(e)))),this.subscription.add(this.store.state.isInteractiveTime$.subscribe((e=>{let t=this.store?.ui.controls.disabledControls$;t&&(e&&!t.includes(Ia)&&t.add(Ia),e||t.remove(Ia))}))),this.subscription.add(this.store.ui.isFullscreen.subscribe((async e=>{h.clientChecker.browser.isSamsungBrowser&&e&&this.interactiveController&&document.fullscreenElement===this.shadowRootContainer&&await this.replayInteractiveChapter(this.videoConfig?.callbacks.onExternalFullscreenExit)}))),this.statistics&&this.subscription.add(this.statistics.oneStat.vsid$.subscribe((e=>I?.onVSIDChanged?.(e)))),this.initMediaSession(),ne(lf,Pe({interactiveController:this.interactiveController,interactiveContainer:this.interactiveContainer,sources:H,store:this.store,microStoresRoot:this.microStoresRoot,videoConfig:this.videoConfig,uiConfig:this.uiConfig,title:j,thumbUrl:F,subtitles:Y,live:X,preload:r,autoplay:s,muted:d,volume:l,fromTime:u,canRewindLive:c,supportLink:p,showAds:v,adsSlotId:f,adsParams:J,adsPreviewParam:b,adsAutoplayParam:y,duration:Q,logoClickable:x,logoHidden:k,isMobile:S??$,failoverHosts:P,fullScreenTarget:T,saveRate:O,shadowRootContainer:this.shadowRootContainer,showMiniTimer:M,outerContainerRef:this.rootContainer,showNextPrevButtons:this.needToShowNextPrevButtons(),nextButtonActive:this.isNextButtonActive(),prevButtonActive:this.isPrevButtonActive(),endScreenVideoTitle:ee.nextVideoTitle,endScreenVideoThumb:ee.nextVideoThumb,isOneVideoPlaylist:this.isOneVideoPlaylist(),playPrevChapter:()=>this.playPrevChapter(),seekToInteractive:()=>this.seekToInteractive(),volumeMultiplier:D,showEndScreen:z,showAutoplayNext:q}));let e={target:this.playerContainer,props:Ct(lf)};this.svelteRootComponent=Qi(Ig,e),this.addPlayerInfoSubscriptions(),this.isInited||(this.isInited=!0,this.videoConfig?.callbacks?.onInited?.()),this.internalsExposure?.expose({player:this,videoConfig:this.videoConfig,coreConfig:this.coreConfig,uiConfig:this.uiConfig,statisticsConfig:this.statisticsConfig,logger:this.logger,log:this.log}),this.uiConfig.devNullLog&&this.videoConfig?.callbacks?.onDevNullLog?g.devNull.subscribe("ui",this.videoConfig.callbacks.onDevNullLog):g.devNull.destroy("ui")};this.coreConfig.asyncResolveClientChecker?h.clientChecker.isInited$.subscribe((e=>{e&&(console.log("UI SDK async start"),ue())})):ue()}addPlayerInfoSubscriptions(){let e=this.store,t=this.microStoresRoot?.stores;if(!e||!t)return;let i=this.videoConfig?.callbacks;i&&this.subscription.add(e.playerPhase.subscribe((e=>i.onPlayerPhaseChanged?.(e)))).add(e.state.playbackState$.subscribe((e=>e&&i.onPlaybackStateChanged?.(e)))).add(e.state.isLive$.subscribe((e=>i.onIsLiveChanged?.(e)))).add(e.state.isActiveLive$.subscribe((e=>i.onIsActiveLiveChanged?.(e)))).add(e.state.isAudioAvailable$.subscribe((e=>i.onIsAudioAvailableChanged?.(e)))).add(e.state.currentQuality$.subscribe((e=>i.onCurrentQualityChanged?.(e)))).add(e.state.availableQualities$.subscribe((e=>i.onAvailableQualitiesChanged?.(e.map((({value:e})=>e)).filter((e=>"auto"!==e)))))).add(e.state.availableAudioStreams$.subscribe((e=>{e.length>1&&i.onAudioLanguagesAvailable&&i.onAudioLanguagesAvailable()}))).add(t.pictureInPicture$.isActive$.subscribe((e=>e?i.onPiPEnter?.():i.onPiPExit?.())));let n=i?.uiInfo;n&&this.subscription.add(e.ui.controlsVisible.subscribe((e=>n.onControlsVisibleChanged?.(e)))).add(e.ui.isMobile.subscribe((e=>n.onIsMobileChanged?.(e)))).add(e.ui.playerSize.subscribe((e=>n.onPlayerSizeChanged?.(e)))).add(e.ui.controls.prevButton.subscribe((e=>n.onPrevButtonChanged?.(e)))).add(e.ui.controls.playButton.subscribe((e=>n.onPlayButtonChanged?.(e)))).add(e.ui.controls.replayButton.subscribe((e=>n.onReplayButtonChanged?.(e)))).add(e.ui.controls.nextButton.subscribe((e=>n.onNextButtonChanged?.(e)))).add(e.ui.controls.playPrevChapterButton.subscribe((e=>n.onPlayPrevChapterChanged?.(e)))).add(e.ui.controls.seekToInteractiveButton.subscribe((e=>n.onSeekToInteractiveButtonChanged?.(e)))).add(e.ui.controls.interactiveGraphButton.subscribe((e=>n.onGraphButtonChanged?.(e)))).add(e.ui.controls.liveButton.subscribe((e=>n.onLiveButtonChanged?.(e)))).add(e.ui.controls.time.subscribe((e=>n.onTimeUpdateChanged?.(e)))).add(e.ui.controls.episodes.subscribe((e=>n.onEpisodesChanged?.(e)))).add(e.ui.controls.subtitles.subscribe((e=>n.onSubtitlesChanged?.(e)))).add(e.ui.controls.settings.subscribe((e=>n.onSettingsChanged?.(e)))).add(e.ui.controls.fullscreen.subscribe((e=>n.onFullscreenChanged?.(e)))).add(e.ui.controls.chromecast.subscribe((e=>n.onChromecastChanged?.(e)))).add(e.ui.controls.pip.subscribe((e=>n.onPipChanged?.(e)))).add(e.ui.controls.vkLogo.subscribe((e=>n.onVkLogoChanged?.(e)))).add(e.ui.controls.interactiveTimeIndicator.subscribe((e=>n.onInteractiveTimeIndicatorChanged?.(e)))).add(e.ui.controls.timeline.subscribe((e=>n.onTimelineChanged?.(e))))}playNextVideo(){this.videoConfig&&(this.currentPlayingVideoIndex++,this.currentPlayingVideoIndex>=this.videoConfig.videos.length&&(this.currentPlayingVideoIndex=0),this.log({message:`play next video, index: ${this.currentPlayingVideoIndex}`}),this.createPlayerWithCurrentVideo())}playPrevVideo(){this.videoConfig&&(this.currentPlayingVideoIndex--,this.currentPlayingVideoIndex<0&&(this.currentPlayingVideoIndex=this.videoConfig.videos.length-1),this.log({message:`play prev video, index: ${this.currentPlayingVideoIndex}`}),this.createPlayerWithCurrentVideo())}createPlayerWithCurrentVideo(e,t=!0){if(!this.videoConfig)return;let i=this.videoConfig.videos[this.currentPlayingVideoIndex];i?(this.isInited&&(0,g.isNonNullable)(i.unitedVideoId)&&this.store.actions.internal.nextMovie(i.unitedVideoId),this.unmountComponent(this.svelteRootComponent),this.createPlayer(i,{autoplay:t,fromTime:0},e)):this.log({message:"no next video"})}playPrevChapter(){this.interactiveController?.playPrevChapter()}seekToInteractive(){let e=this.interactiveController?.getNextInteractiveStartTime();"number"==typeof e&&this.seekTime(e/1e3)}async initInteractives(){if(this.videoConfig?.interactiveData)try{let{Interactives:e}=await Promise.all([i.e(17356),i.e("langs/web/17356")]).then(i.bind(i,34414));this.interactiveContainer=document.createElement("div"),this.interactiveContainer.classList.add("interactive-root");let t=this.store?.interfaceLanguage$,n=t?sa(t):this.videoConfig.interfaceLanguage,{projectInfo:a,initChapterId:o,historyApi:r,videoLoader:s}=this.videoConfig.interactiveData;this.interactiveController=new e({parentElement:this.interactiveContainer,fullscreenTargetElement:this.playerContainer,lang:n,graph:this.uiConfig.features.interactiveGraph,projectInfo:a,initChapterId:o,historyApi:r,vkVideoLoader:s,lastFrame:this.uiConfig.features.interactiveLastFrame,permanentTextControls:this.uiConfig.features.interactiveTextPermanent,interactiveTimeOpenUri:this.uiConfig.features.interactiveTimeOpenUri,initSeamless:!0,config:this.uiConfig.interactive,coreConfig:this.coreConfig,createOneStat:this.createOneStat,animationsFeatureToggles:{areaControlShadow:this.uiConfig.features.interactiveAreaControlShadow,controlsExpectTimeBlinkAnimation:this.uiConfig.features.interactiveControlsExpectTimeBlinkAnimation}});let{isInteractiveExpectation$:l,isSeekable$:d}=this.interactiveController.state;this.uiConfig.features.seekToInteractive&&this.subscription.add(d.subscribe((e=>{if(!this.isInited)return;let t=this.store;e?t.ui.controls.disabledControls$.remove("SEEK_TO_INTERACTIVE_BUTTON"):t.ui.controls.disabledControls$.add("SEEK_TO_INTERACTIVE_BUTTON")}))),this.subscription.add(l.subscribe((e=>{this.store&&this.store.state.isInteractiveExpectation$.set(e)})));let u=!0;if(this.subscription.add(this.interactiveController.events.playerChanged$.subscribe((e=>{if(!this.videoConfig)return;this.videoConfig.videos[this.currentPlayingVideoIndex]={...e.config,title:a?.title||e.config.title};let t=!u||this.videoConfig.autoplay;this.createPlayerWithCurrentVideo(e.player,t),u&&(u=!1)}))),this.interactiveSubscription.add(this.interactiveController.events.interactiveActionChoice$.subscribe((({type:e,actionType:t})=>{if(!this.store||!this.microStoresRoot)return;let i=l.getValue();if("action-choice"===e&&"setRandomBranch"===t&&(this.microStoresRoot.stores.graphIsOpened$.set(!1),this.store.ui.controls.disabledControls$.remove(Ma)),"action-choice-canceled"===e){let e=sa(this.store.state.isPlaying$)||i;if((this.videoConfig?.isTouch??this.videoConfig?.isMobile)&&e)return void this.store.ui.interactiveHideMobileControls.set(!0);this.videoConfig?.callbacks.onDisabledInteractiveClick?.()}}))),this.interactiveSubscription.add(this.interactiveController.events.interactiveContainerFakeRemoved$.subscribe((({type:e,removeAllOpenURI:t})=>{this.store&&"container-fake-removed"===e&&t&&this.store.ui.controls.disabledControls$.remove(Ma)}))),await this.interactiveController.setManifest(this.videoConfig.interactiveData.manifest),this.videoConfig?.callbacks?.onInteractiveHistoryChanged){let e=this.interactiveController.getHistoryState();this.subscription.add(e.history$.subscribe((e=>{e.length&&this.videoConfig?.callbacks?.onInteractiveHistoryChanged?.(e)})))}this.uiConfig.features.interactiveTimeIndicator&&this.subscription.add(this.interactiveController.events.noInteraction$.subscribe((()=>{this.microStoresRoot?.stores.showInteractiveTimeIndicatorTooltip$.set(!0,!0),this.videoConfig?.callbacks.onInteractiveTimeIndicatorClick?.()}))),this.interactiveSubscription.add(this.interactiveController.events.error$.subscribe((e=>{this.log({message:e.toString()})})))}catch(e){this.log({message:e.message})}}initPlayer(e,t={}){var i,n;if(!Array.isArray(e.videos)||0===e.videos.length&&!e.interactiveData)throw new Error("empty videos");if(this.videoConfig=Ug(sf,(0,g.cloneDeepWith)(e,(e=>e instanceof HTMLElement?e:void 0))),this.uiConfig=(e=>(0,g.fillWithDefault)(e,_a))(t.ui??{}),this.coreConfig=t.core??{configName:[]},this.statisticsConfig=t.statistics??{},this.uiConfig.features.forcePlayerDisplayBlock&&(this.rootContainer.style.minHeight="unset",this.style.display="block",this.style.width="100%",this.style.height="100%"),this.sentry={config:this.uiConfig.sentry??{}},this.uiConfig.features.exposeInternalsToGlobal&&(this.internalsExposure??(this.internalsExposure=new g.InternalsExposure("UI"))),g.devNull.push("ui",{key:"videoplayer_embed",strings:["new","player_init_player","ads.enable: "+this.uiConfig.ads.enable,"showAds: "+this.videoConfig?.showAds],numbers:[(0,g.now)()]}),(0,g.isNonNullable)(this.videoConfig.isMediaSessionEnabled)&&(this.uiConfig.features.mediaSession=this.uiConfig.features.mediaSession??this.videoConfig.isMediaSessionEnabled??!0),(0,g.isNonNullable)(this.videoConfig.isPictureInPictureEnabled)&&(this.uiConfig.features.pip=this.uiConfig.features.pip??this.videoConfig.isPictureInPictureEnabled??!0,this.uiConfig.features.dpip=this.uiConfig.features.dpip??this.videoConfig.isPictureInPictureEnabled??!0),this.videoConfig.isTouch=this.uiConfig.isMobile??this.videoConfig.isTouch??this.videoConfig.isMobile,(i=this.videoConfig).autoplay&&(i.autoplay=this.uiConfig.features.autoplay),this.videoConfig.showAds=this.uiConfig.ads.enable??this.videoConfig.showAds,this.videoConfig.adsSlotId=this.uiConfig.ads.slot??this.videoConfig.adsSlotId,this.videoConfig.adsPreviewParam=this.uiConfig.ads.preview??this.videoConfig.adsPreviewParam,this.videoConfig.logoHidden=!(this.uiConfig.showLogo??!this.videoConfig.logoHidden),(n=this.videoConfig).canRewindLive&&(n.canRewindLive=this.uiConfig.features.liveRewind),this.videoConfig.supportLink=this.videoConfig.supportLink??this.uiConfig.supportLink,this.videoConfig.showEndScreen=this.uiConfig.features.endScreen??this.videoConfig.showEndScreen,this.videoConfig.showAutoplayNext=this.uiConfig.features.autoplayNext??this.videoConfig.showAutoplayNext,this.videoConfig.showNextPrevButtons=this.uiConfig.features.nextPrevButtons??this.videoConfig.showNextPrevButtons,this.currentPlayingVideoIndex=this.videoConfig.videoIndex&&this.videoConfig.videos?.[this.videoConfig.videoIndex]?this.videoConfig.videoIndex:0,this.needToRepeatPlaylist=this.videoConfig.repeat,this.uiConfig.features.pip){let e={enabled:this.videoConfig.pipEnabled};this.uiConfig.features.dpip?this.pictureInPictureApi=Fg.getLatestSupportedVersion(e):this.pictureInPictureApi=new Yo(e)}this.mediaSessionApi=this.uiConfig.features.mediaSession?new Og:void 0,this.slotsApi=this.uiConfig.features.slots?new Kh:void 0,this.annotationsApi=this.uiConfig.features.annotations?new Qg(this.uiConfig.features.annotationsInside):void 0,this.annotationsApi&&!this.uiConfig.features.annotationsInside&&this.annotationsApi.init(this.rootContainer),this.slotsApi?.init(this.shadowRootContainer),this.unmountComponent(this.svelteStubComponent),this.unmountComponent(this.svelteRootComponent),this.isInited=!1,this.prevIsid=void 0,this.interactiveController&&(this.interactiveController.destroy(),this.interactiveController=void 0,this.interactiveSubscription.unsubscribe()),this.videoConfig.interactiveData?this.initInteractives():this.createPlayer(this.videoConfig.videos[this.currentPlayingVideoIndex]),function(e){return e instanceof jg}(this.pictureInPictureApi)&&this.pictureInPictureApi.setPlayerDomElement(this.playerContainer,this._shadowRoot)}isOneVideoPlaylist(){return!!this.videoConfig&&1===this.videoConfig.videos.length}updateVideos(e,t){if(!this.videoConfig)return;this.log({message:`update ${t} videos, videos: ${JSON.stringify(e)}`}),"prev"===t?(this.videoConfig.videos.splice(0,this.currentPlayingVideoIndex),this.videoConfig.videos.unshift(...e),this.currentPlayingVideoIndex=e.length):"next"===t&&(this.videoConfig.videos.splice(this.currentPlayingVideoIndex+1),this.videoConfig.videos.push(...e));let i=this.getNextVideoInfo();Ct(lf)&&(Ct(lf).showNextPrevButtons=this.needToShowNextPrevButtons(),Ct(lf).nextButtonActive=this.isNextButtonActive(),Ct(lf).prevButtonActive=this.isPrevButtonActive(),Ct(lf).endScreenVideoTitle=i.nextVideoTitle,Ct(lf).endScreenVideoThumb=i.nextVideoThumb,Ct(lf).isOneVideoPlaylist=this.isOneVideoPlaylist())}updatePrevVideos(e){this.updateVideos(e,"prev")}updateNextVideos(e){this.updateVideos(e,"next")}initMediaSession(){this.mediaSessionApi&&(this.unsubscribePlayerPhaseSubscription?.(),this.mediaSessionApi.clearSubscriptions(),this.unsubscribePlayerPhaseSubscription=this.store?.playerPhase.subscribe((e=>{"video"===e?this.setupMediaSessionForVideo():"ads"===e&&this.setupMediaSessionForAds()})))}setupMediaSessionForVideo(){if(this.videoConfig&&this.mediaSessionApi)try{let{title:e,thumbUrl:t}={...this.videoConfig.videos[this.currentPlayingVideoIndex]},i=[["play",()=>this.play()],["pause",()=>this.pause()],["seekto",e=>this.seekTime(e.seekTime)]];this.videoConfig.videos.length>1&&(this.currentPlayingVideoIndex<this.videoConfig.videos.length-1&&i.push(["nexttrack",()=>this.playNextVideo()]),this.currentPlayingVideoIndex>0&&i.push(["previoustrack",()=>this.playPrevVideo()])),this.mediaSessionApi.setMetaData({title:e,thumbUrl:t}),this.mediaSessionApi.updateActionHandlers(i),this.mediaSessionApi.attachToStore(this.store)}catch(e){this.log({message:e.message})}}setupMediaSessionForAds(){if(this.videoConfig&&this.mediaSessionApi)try{let e="Реклама",t=[["play",()=>this.play()],["pause",()=>this.pause()]];this.mediaSessionApi.setMetaData({title:e}),this.mediaSessionApi.updateActionHandlers(t),this.mediaSessionApi.attachToStore(this.store)}catch(e){this.log({message:e.message})}}play(){this.isControlDisabled("PLAY_BUTTON")||this.store?.playerPhase.is("LiveWaitingStart")||this.store?.playerPhase.is("LiveWaitingRecover")||this.store?.playerPhase.is("LiveWaitingRecord")||(this.log({message:"play"}),this.svelteRootComponent?.play())}pause(){this.log({message:"pause"}),this.svelteRootComponent?.pause()}stop(){if(!this.videoConfig)return;this.log({message:"stop"});let e=!!this.interactiveController;e&&(this.interactiveController.destroy(),this.interactiveController=void 0,this.interactiveContainer=void 0,this.interactiveSubscription.unsubscribe()),this.unmountComponent(this.svelteStubComponent),this.mediaSessionApi?.destroy();let t=this.videoConfig.videos[0];t&&(this.unmountComponent(this.svelteRootComponent),e?(this.videoConfig.autoplay=!1,this.initInteractives()):this.createPlayer(t))}setMuted(e){this.log({message:`set muted, muted: ${e}`}),this.svelteRootComponent?.setMuted(e)}setPiPEnabled(e){this.store?.webApi.pictureInPictureApi?.setEnabled(e)}setVolume(e){this.log({message:`set volume, volume: ${e}`}),this.svelteRootComponent?.setVolume(e)}setRepeat(e){this.log({message:`set repeat, repeat: ${e}`}),this.needToRepeatPlaylist=e,Ct(lf)&&(Ct(lf).needToRepeatPlaylist=this.needToRepeatPlaylist,Ct(lf).showNextPrevButtons=this.needToShowNextPrevButtons(),Ct(lf).nextButtonActive=this.isNextButtonActive(),Ct(lf).prevButtonActive=this.isPrevButtonActive())}seekTime(e){this.isControlDisabled("TIMELINE")||(this.log({message:`seek time, time: ${e}`}),this.svelteRootComponent?.seekTime(e))}seekEpisodeStartTime(e){this.log({message:`seek episode start time, time: ${e}`}),this.svelteRootComponent?.seekEpisodeStartTime(e)}returnFocusToEpisodes(){this.log({message:"return focus to episodes button"}),this.svelteRootComponent?.returnFocusToEpisodes()}setPlaybackRate(e){this.log({message:`set playback rate to: ${e}`}),this.svelteRootComponent?.setPlaybackRate(e)}setAutoQualityLimits(e){this.log({message:`set auto quality limitation. Max: ${e.max??"none"}. Min: ${e.min??"none"}`}),this.svelteRootComponent?.setAutoQualityLimits(e)}addLanguage(e){this.store?.actions.internal.addLanguage(e)}async setLanguage(e){await(this.store?.actions.internal.setLanguage(e))}setLiveStart(e){this.log({message:"live started"}),this.store?.actions.internal.setLiveWaitingRecover(!1),this.store?.actions.internal.setLiveWaitingStart(!1),this.unmountComponent(this.svelteRootComponent),this.createPlayer(e,{autoplay:!0})}setLiveWaitingRecover(){this.log({message:"live waiting"}),this.store?.callbacks&&(this.store.callbacks.onLiveEnded=()=>{this.store?.actions.internal.setLiveWaitingRecover(!0),this.store?.destroy()})}setLiveWaitingRecord(){this.log({message:"post live"}),this.store?.callbacks&&(this.store.callbacks.onLiveEnded=()=>{this.store?.actions.internal.setLiveWaitingRecord(!0),this.store?.destroy()})}setLiveEnd(e){this.log({message:"live ended"}),this.store?.callbacks&&(this.store.callbacks.onLiveEnded=()=>{this.store?.actions.internal.setLiveWaitingRecover(!1),this.store?.actions.internal.setLiveWaitingRecord(!1),this.unmountComponent(this.svelteRootComponent),this.createPlayer(e,{autoplay:!1})})}setLiveLowLatency(e){this.log({message:"live switch to low latency "+e}),this.store?.actions.external.setLiveLowLatency(e)}getDeviceId(){return this.statistics?.oneStat.getDeviceId()??void 0}replayInteractiveVideo(){this.interactiveController&&this.interactiveController.setChapter()}async replayInteractiveChapter(e){if(this.interactiveController&&this.store?.state.positionExact$){let t=sa(this.store.state.positionExact$),i=sa(this.store.state.interactiveEpisodes$).find((e=>!e.completed));this.interactiveController.events.playerChanged$.pipe((0,g.once)()).subscribe((()=>{i&&t>=i.time?this.seekTime(i.time):this.seekTime(t),e?.()}));let n=this.interactiveController.getCurrentChapter();await this.interactiveController.setChapter({chapterId:n?.chapter?.id,pushToHistory:!1})}}showInteractiveIndicatorTooltip(e,t=!1){this.microStoresRoot?.stores.showInteractiveTimeIndicatorTooltip$.set(e,t)}switchToActiveLive(){this.store?.actions.internal.switchToActiveLive()}updateAdditionalSettingsItem(e,t){this.store?.actions.external.updateAdditionalSettingsItem(e,t)}addAdditionalSettingsItem(e){this.store?.actions.external.addAdditionalSettingsItem(e)}removeAdditionalSettingsItem(e){this.store?.actions.external.removeAdditionalSettingsItem(e)}updateAdditionalContextItem(e,t){this.store?.actions.external.updateAdditionalContextItem(e,t)}addAdditionalContextItem(e){this.store?.actions.external.addAdditionalContextItem(e)}removeAdditionalContextItem(e){this.store?.actions.external.removeAdditionalContextItem(e)}updateAdditionalButton(e,t){this.store?.actions.external.updateAdditionalButton(e,t)}addAdditionalButton(e){this.store?.actions.external.addAdditionalButton(e)}removeAdditionalButton(e){this.store?.actions.external.removeAdditionalButton(e)}updateStatContext(e){this.statistics&&this.statistics.oneStat.updateContext(e)}handleTimerNextVideo(e){this.store?.actions.internal.setTimerNextVideoRunning(e)}focus(){this.svelteRootComponent?.keyboardControls?.focus?.()}unmountComponent(e){e&&Xi(e)}constructor(){super(),this.currentPlayingVideoIndex=0,this.needToRepeatPlaylist=!1,this.videoConfig=void 0,this.pictureInPictureApi=void 0,this.mediaSessionApi=void 0,this.unsubscribePlayerPhaseSubscription=void 0,this.annotationsApi=void 0,this.prevIsid=void 0,this.isInited=!1,this.internalsExposure=null,this.createOneStat=(e,t={})=>{let{albumId:i,statPlace:n,statUserSalt:a,statTrackCode:o,statVKAppId:r,refreshStatAuthToken:s,autoplay:l,isMobile:d,isTouch:u,refDomain:c,deviceId:p,interactiveData:v}=Ug(this.videoConfig,t),h=v?.projectInfo?.pid,g=this.interactiveController?.state.isReplay$.getValue()??!1;g&&(this.prevIsid=void 0);let{unitedVideoId:m,isClip:b=!1}=e;if(this.uiConfig.features.statistics&&m)return new f.OneStat({movieId:m,albumId:i,place:n,trackCode:o,vkAppId:r,autoplay:(l&&!this.interactiveController)??!1,mobile:u??d,clip:b,refDomain:c,deviceId:p,...h&&(!this.isInited||g)&&{projectId:Number(h)}},{refreshAuthToken:s,userSalt:a,config:this.statisticsConfig,...this.interactiveController&&{useIsid:!0,isid:this.prevIsid}})},g.devNull.create("ui"),this.logger=new g.Logger,this.log=this.logger.createComponentLog("VKVideoPlayer"),this.subscription=new g.Subscription,this.interactiveSubscription=new g.Subscription,this.graphMadePause=!1}},uf=()=>{window.customElements.define("vk-video-player",df)};function cf(){return(0,p._)(this,l)[l]??((0,p._)(this,l)[l]=new ResizeObserver((e=>{for(var t of e)for(var i of(c.entries.set(t.target,t),(0,p._)(this,s)[s].get(t.target)||[]))i(t)})))}}}]);try{stManager?.done("dist/web/chunks/f30beccb.3a46c30a.js")}catch(e){}