/*! For license information please see 017d5c5e.9f296532.js.LICENSE.txt */
"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[6665],{744670:(e,t,r)=>{r.d(t,{Cache:()=>s});var a,i,o=r(77783);!function(e){e.OBJECT="object",e.STRING="string",e.NUMBER="number",e.BOOLEAN="boolean",e.STRING_NUMBER="string_number"}(a||(a={})),function(e){e.HELP_HINTS="helpHints"}(i||(i={}));class s{getHelpHints(){return this.getItem(i.HELP_HINTS)}setHelpHints(e){return this.setItem(i.HELP_HINTS,e)}clear(){return(0,o.clear)(this.store)}async getItem(e){const t=this.buildItemKey(e),r=s.cache.get(t);return(0,o.get)(t,this.store).then((e=>e||r)).catch((()=>r))}async setItem(e,t){const r=this.buildItemKey(e);s.cache.set(r,t),await(0,o.set)(r,t,this.store).catch((()=>{}))}deleteItem(e){const t=this.buildItemKey(e);return(0,o.del)(t,this.store)}buildItemKey(e){return`${e}-${s.VERSION}-${this.userId}`}getItemSync(e,t){const r=this.buildSyncItemKey(e);try{let e=localStorage.getItem(r);if(!e)return;switch(t){case a.OBJECT:try{e=JSON.parse(e)}catch{return}break;case a.NUMBER:e=Number(e)||0;break;case a.STRING_NUMBER:e=Number(e)||e;break;case a.BOOLEAN:e=Boolean(Number(e))}return e}catch{return s.cache.get(r)}}setItemSync(e,t,r){const i=this.buildSyncItemKey(e);switch(r){case a.OBJECT:t=JSON.stringify(t);break;case a.BOOLEAN:t=String(Number(t))}try{localStorage.setItem(i,t)}catch{s.cache.set(i,t)}}buildSyncItemKey(e){return`${s.DB_NAME}_${e}_${s.VERSION}_${this.userId}`}constructor({userId:e=window.vk?.id,categories:t}={}){this.userId=e||0;let r="cache";t?.length&&(r=`${r}-${t.join("-")}`),this.store=(0,o.createStore)(s.DB_NAME,r)}}s.DB_NAME="help-hints",s.VERSION=1,s.CACHE_UPDATE_EVENT_NAME=`${s.DB_NAME}_cache_update`,s.cache=new Map},172850:(e,t,r)=>{r.d(t,{HelpHintsProvider:()=>n});var a=r(474848),i=r(296540),o=r(988456),s=r(931692);function n({api:e,noToken:t,...r}){const[n,c]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{e&&(o.HelpHints.setAPI(e),t&&!e.options.token&&"function"!=typeof e.options.requestMethod)||(async()=>{c(!0),await o.HelpHints.reload(),c(!1)})()}),[e,t]),(0,a.jsx)(s.HelpHintsContext.Provider,{value:{isHelpHintsReloading:n},...r})}},671599:(e,t,r)=>{r.d(t,{HelpHint:()=>a});class a{get id(){return this.hint.id}get title(){return this.hint.title}get description(){return this.hint.description}getResource(e){return this.hint.resources?.find((({key:t})=>t===e))?.value}constructor(e){this.hint=e}}},661897:(e,t,r)=>{r.d(t,{useHelpHint:()=>s});var a=r(296540),i=r(988456),o=r(931692);function s(e){const{isHelpHintsReloading:t}=(0,o.useHelpHints)();return(0,a.useMemo)((()=>{if(e)return i.HelpHints.getSync(e)}),[t])}},42913:(e,t,r)=>{r.d(t,{useHelpHintResource:()=>s});var a=r(296540),i=r(988456),o=r(931692);function s(e,t){const{isHelpHintsReloading:r}=(0,o.useHelpHints)();return(0,a.useMemo)((()=>{if(e&&t)return i.HelpHints.getSync(e)?.getResource(t)}),[e,t,r])}},931692:(e,t,r)=>{r.d(t,{HelpHintsContext:()=>i,useHelpHints:()=>o});var a=r(296540);const i=(0,a.createContext)({});function o(){return(0,a.useContext)(i)}},988456:(e,t,r)=>{r.d(t,{HelpHints:()=>c});var a=r(767396),i=r(282282),o=r(671599),s=r(744670),n=r(565403);class c{static setAPI(e){this.api=e}static setUserId(e){this.cacheOptions.userId=e,this.cache=void 0}static setCategories(e){Array.isArray(e)||(e=[e]),this.cacheOptions.categories=e,this.cache=void 0}static async get(e){return await this.reload(),this.getSync(e)}static getSync(e){const t=this.helpHints?.items.find((({id:t})=>t===e));if(t)return new o.HelpHint(t)}static show(e){return e instanceof o.HelpHint&&(e=e.id),this.api.account.showHelpHint({hint_id:e})}static async hide(e){e instanceof o.HelpHint&&(e=e.id);let t=!1;return await this.reloading,this.helpHints&&(this.helpHints.items=this.helpHints.items.filter((({id:r})=>(r===e&&(t=!0),r!==e))),this.cache?.setHelpHints(this.helpHints)),t?this.api.account.hideHelpHint({hint_id:e}):Promise.resolve()}static async getResource(e,t){const r=await this.get(e);if(r)return r.getResource(t)}static async reload(){return await this.reloading,this.cache||(this.cache=new s.Cache(this.cacheOptions)),this.reloading=new Promise((async e=>{if(!this.api.options.token&&"function"!=typeof this.api.options.requestMethod){const t=await this.getAccessToken();if(!t)return e();this.api=new a.API({token:t}),this.api.onTokenRegenerate((async t=>{const r=await this.getAccessToken();if(!r)return e();t(r)}))}if(this.helpHints=await(this.cache?.getHelpHints()),this.helpHints&&Date.now()-this.helpHints.date<n.TEN_MINUTES&&!this.isDevMode())return e();const{categories:t}=this.cacheOptions;this.helpHints=await this.api.account.getHelpHints({categories:t?String(t):void 0}).then((e=>({...e,date:Date.now()}))).catch((()=>{})),await(this.cache?.setHelpHints(this.helpHints)),this.refresh(),e()})),this.reloading}static refresh(){try{localStorage.setItem(s.Cache.CACHE_UPDATE_EVENT_NAME,""),localStorage.removeItem(s.Cache.CACHE_UPDATE_EVENT_NAME)}catch{}}static async getAccessToken(){const e=await(0,i.login)("web_token").catch((()=>{}));if(!e)return;const{access_token:t}=e;return t}}c.api=new a.API({token:""}),c.cacheOptions={},c.reloading=Promise.resolve(),c.isDevMode=()=>localStorage.getItem("help-hints-dev"),window.addEventListener("storage",(({key:e,newValue:t})=>{e===s.Cache.CACHE_UPDATE_EVENT_NAME&&null!==t&&c.reload()}))},201846:(e,t,r)=>{var a,i;r.d(t,{HelpHintId:()=>i}),function(e){e.DEFAULT="default",e.STICKERS_UGC="stickers_ugc"}(a||(a={})),function(e){e.KEYBOARD_STICKERS_VMOJI="keyboard:stickers_vmoji",e.POSTING_POST_FEED_BADGES="posting:post_feed_badges",e.POSTING_POST_BADGES_ONBOARDING="posting:post_badges_onboarding",e.POSTING_POST_FEED_BADGES_UNSEEN="posting:post_feed_badges_unseen",e.POSTING_POST_BADGES_PAGE_UNSEEN="posting:post_badges_page_unseen",e.POSTING_POST_BADGES_CATALOG_USER="posting:post_badges_catalog_user",e.POSTING_POST_BADGES_FEEDBACK_USER="posting:post_badges_feedback_user",e.POSTING_POST_BADGES_FEEDBACK_USER_UNSEEN="posting:post_badges_feedback_user_unseen",e.STICKERS_UGC_SETTINGS_UNSEEN="stickers:ugc_settings_unseen",e.STICKERS_UGC_KEYBOARD_ONBOARDING="stickers:ugc_keyboard_onboarding",e.STICKERS_UGC_APP_ONBOARDING_MODAL="stickers:ugc_app_onboarding_modal",e.STICKERS_UGC_KEYBOARD_ONBOARDING_TOOLTIP="stickers:ugc_keyboard_onboarding_tooltip"}(i||(i={}))},971377:(e,t,r)=>{var a;r.d(t,{KeyboardStickersVmojiResourceKey:()=>a}),function(e){e.VMOJI_ON_BOARDING_DARK="vmoji_kb_onboarding_dark",e.VMOJI_ON_BOARDING_LIGHT="vmoji_kb_onboarding_light"}(a||(a={}))},129176:(e,t,r)=>{var a,i;r.d(t,{StickersUGCKeyboardOnboardingResourceKey:()=>i}),function(e){e.CLOSE="close",e.IMAGE="image"}(a||(a={})),function(e){e.IMAGE="image"}(i||(i={}))},565403:(e,t,r)=>{r.d(t,{TEN_MINUTES:()=>a});const a=6e5},419230:(e,t,r)=>{r.d(t,{LangPackProvider:()=>d});var a=r(474848),i=r(293721),o=r(296540),s=r(386779),n=r(495520),c=r(144490);const l=new Map;function d({children:e,suspense:t,...r}){const d=(0,o.useMemo)((()=>JSON.stringify(r)),[r]),u=(0,i.useUnit)(n.loadPackFx),m=(0,o.useMemo)((()=>{let e=l.get(d);return e||(e=(0,c.wrapSuspense)(u({id:d,...r})),l.set(d,e)),e}),[d,r]);return t&&m.read(),(0,a.jsx)(s.LangPackIdProvider,{value:d,children:e})}},144490:(e,t,r)=>{r.d(t,{wrapSuspense:()=>a});function a(e){let t,r="pending";const a=e.then((e=>{t=e,r="success"})).catch((e=>{t=e,r="error"}));return{read:()=>{switch(r){case"success":return t;case"pending":throw a;case"error":throw t}}}}},847981:(e,t,r)=>{r.d(t,{APIProvider:()=>u});var a=r(474848),i=r(296540),o=r(348385),s=r(990490),n=r(869343),c=r(767396),l=r(764891),d=r(285627);function u({userId:e,peerId:t,onAPIRequest:r,language:u,children:m,context:p,logError:k}){const[S,h]=(0,i.useReducer)(((e,t)=>(e.cache.destroy(),t)),new s.API({userId:e,peerId:t,onAPIRequest:r,language:u,context:p,logError:k}));return(0,i.useEffect)((()=>{const a=new s.API({userId:e,peerId:t,onAPIRequest:r,language:u,context:p,logError:k});if(h(a),a.cache.reload(),!(0,n.isStaticUpdatesManagerEnabled)())return;const i=c.StaticUpdatesManager.setup(a,{userId:e});i.start(c.UpdatesSource.STICKERS);const o=l.stickersUGCOwnerUpdateHandler.bind(a),m=d.stickersUGCStickerUpdateHandler.bind(a),S=i.queues[c.UpdatesSource.STICKERS];return S.addEventListener(c.StickersQueueEventType.UGC_OWNER_UPDATE,o),S.addEventListener(c.StickersQueueEventType.UGC_STICKER_UPDATE,m),()=>{i.stop(c.UpdatesSource.STICKERS),S.removeEventListener(c.StickersQueueEventType.UGC_OWNER_UPDATE,o),S.removeEventListener(c.StickersQueueEventType.UGC_STICKER_UPDATE,m)}}),[e,t,u,r,p,k]),(0,i.useEffect)((()=>{if(!(0,n.isStaticUpdatesManagerEnabled)())return S.updates.start(),()=>{S.updates.stop()}}),[S]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.APIGate,{api:S}),m]})}},714573:(e,t,r)=>{r.d(t,{AvatarSuggestionRow:()=>k});var a=r(474848),i=r(293721),o=r(715288),s=r(285056),n=r(373080),c=r(547843),l=r(185564),d=r(96270),u=r(895380),m=r(853603),p=r(34855);const k=({Component:e,...t})=>{const r=(0,o.useAppearance)(),{onVmojiSuggestionClick:k}=(0,m.useStickersKeyboard)(),S=(0,i.useStore)(l.$avatarSuggestion),h=(0,i.useStore)(c.$stickersVerticalGap);if(!k)return null;const b=S?.resources?.find((e=>e.key===`image_${r}`))?.value,f=S?.title,v=S?.description;return(0,a.jsx)(e,{style:{"--stickers-vertical-gap":`${h}px`},className:p.default.banner,asideMode:"dismiss",onDismiss:e=>{e.preventDefault(),e.stopPropagation(),(0,d.hideHelpHint)(u.HelpHintIdTypes.VMOJI_AVATAR_SUGGESTION)},onClick:k,mode:"image",imageTheme:"light",before:(0,a.jsx)("div",{className:p.default.placeholder}),background:(0,a.jsx)("div",{className:p.default.character,style:{backgroundImage:`url('${b}')`}}),header:f&&(0,a.jsx)(s.Headline,{level:"1",children:f}),subheader:v&&(0,a.jsx)(s.Paragraph,{children:(0,a.jsx)(n.InnerHTML,{children:v})}),...t})}},410845:(e,t,r)=>{r.d(t,{Emoji:()=>n});var a=r(474848),i=r(8520),o=r(974280),s=r(215943);function n({emoji:e,className:t,...r}){return(0,a.jsx)("i",{className:(0,i.classNames)(s.default.emoji,`@${(0,o.unicodeToByteHex)(e)}`,t),"data-emoji":e,...r})}},192445:(e,t,r)=>{r.d(t,{EmojiItem:()=>n});var a=r(474848),i=r(8520),o=r(410845),s=r(807799);function n({emoji:e,active:t,onEmojiClick:r,className:n,onClick:c,...l}){return(0,a.jsx)("div",{className:(0,i.classNames)(n,s.default.item,{[s.default.itemActive]:t}),onClick:t=>{c?.(t),r?.(e)},...l,children:(0,a.jsx)(o.Emoji,{emoji:e})})}},899461:(e,t,r)=>{r.d(t,{EmojiKeyboard:()=>j});var a=r(474848),i=r(293721),o=r(651220),s=r(8520),n=r(296540),c=r(744440),l=r(251763),d=r(140925),u=r(395469),m=r(879825),p=r(485797),k=r(830922),S=r(895770),h=r(516413),b=r(192641),f=r(503078),v=r(297272),_=r(677363),g=r(722098),y=r(43561),E=r(252691),I=r(967263);function j({className:e,...t}){const{emojiSections:r,insertEmoji:j}=(0,_.useEmojiKeyboard)(),{bannerPackIndex:A,getAvatarSuggestionEmojiRow:w,avatarSuggestion:x,avatarSuggestionTab:K}=(0,g.useAvatarSuggestion)(),C=(0,i.useStore)(p.$emojiPadding),T=(0,i.useStore)(k.$selectedEmojiPackIndex),R=(0,n.useRef)(null),{setGridRef:P,columns:N}=(0,S.useGrid)({tab:h.Tab.EMOJI,itemWidth:u.EMOJI_SIZE+C}),O=(0,n.useMemo)((()=>{const e=[];return r.forEach((([t,r],i)=>{if(e.push({type:y.EmojiKeyboardElementType.HEADER,element:(0,a.jsx)(m.EmojiKeyboardHeader,{title:t},t),sticky:!0}),!A&&i===T||A===i){const t=w(T);t&&e.push(t)}(0,s.chunkArray)(r,N).forEach(((r,o)=>{e.push({type:y.EmojiKeyboardElementType.ROW,element:(0,a.jsx)(d.EmojiKeyboardRow,{"data-section-index":i,"data-row-index":o,emoji:r,onEmojiClick:j},`${t}${r[0]}`)})}))})),e}),[N,r,x]),V=(0,n.useMemo)((()=>O.reduce(((e,{type:t},r)=>(t===y.EmojiKeyboardElementType.HEADER&&e.push(r),e)),[])),[O]),G=e=>V.includes(e),{rangeExtractor:H,isSticky:M}=(0,b.useSticky)({rows:O}),D=(0,o.useVirtualizer)({overscan:5,rangeExtractor:H,count:O.length,getScrollElement:()=>R.current,estimateSize:()=>u.EMOJI_SIZE});(0,f.useScrollView)(R),(0,v.useKeyboardEvent)({columns:N,virtualizer:D,headerIndexes:V}),(0,E.useCalculateSelectedEmojiPackIndex)(D,V),(0,n.useEffect)((()=>{null!==A&&K===h.Tab.EMOJI&&V[A]&&D.scrollToIndex(V[A],{align:"start",behavior:"auto"})}),[A]);const $=D.getVirtualItems().filter(Boolean);return(0,a.jsx)(l.ViewItem,{getRef:P,className:(0,s.classNames)(I.default.keyboard,e),style:{"--emoji-size":`${u.EMOJI_SIZE}px`,"--emoji-padding":`${C}px`,"--emoji-columns":N},...t,children:(0,a.jsx)(c.CustomScrollView,{getRootRef:R,className:I.default.scroll,overscrollBehavior:"none",children:(0,a.jsx)("div",{className:I.default.in,style:{height:D.getTotalSize()},children:$.map((({key:e,index:t,start:r})=>(0,a.jsx)("div",{"data-index":t,ref:D.measureElement,className:(0,s.classNames)(I.default.item,{[I.default.itemHeader]:G(t)}),style:M(t)?{position:"sticky"}:{position:"absolute",transform:`translateY(${r}px)`},children:O[t].element},e)))})})})}},297272:(e,t,r)=>{r.d(t,{useKeyboardEvent:()=>m});var a=r(296540),i=r(293721),o=r(718331),s=r(93272),n=r(138560),c=r(291915),l=r(677363),d=function(e){return e.ENTER="Enter",e.ARROW_UP="ArrowUp",e.ARROW_DOWN="ArrowDown",e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight",e}(d||{});const u=Object.values(d);function m({columns:e,virtualizer:t,headerIndexes:r}){const{emojiSections:d,insertEmoji:m}=(0,l.useEmojiKeyboard)(),p=(0,i.useStore)(o.$isVisible),k=(0,i.useStore)(c.$selectedEmoji),{isEmojiVisibleTab:S}=(0,i.useStore)(s.$visibleTabState),{isEmojiActiveTab:h}=(0,i.useStore)(n.$tabbarActiveTabState),b=k?.emojiIndex||0,f=k?.sectionIndex||0,v=Math.floor(b/e),_=(e,a)=>{const i=r[f]+v;t.scrollToIndex(i,{align:"center",behavior:"auto"}),(0,c.setSelectedEmoji)({sectionIndex:e,emojiIndex:a})};(0,a.useEffect)((()=>{if(!p)return;const t=t=>{const{key:r}=t,a=k;if(u.includes(r)&&(S||h))if((e=>{e.preventDefault(),e.stopPropagation()})(t),a)switch(r){case"Enter":{if(!k)return;const{sectionIndex:e,emojiIndex:t}=k,r=d[e]?.[1][t];return void(r&&m(r))}case"ArrowUp":if(!k)return;if(Number(a.emojiIndex)>=e)return void _(a.sectionIndex,a.emojiIndex-e);if(a.sectionIndex){const t=d[a.sectionIndex-1]?.[1].length||0;if(t){const r=a.emojiIndex%e,i=t-1,o=i%e,s=i-i%e+Math.min(r,o);_(a.sectionIndex-1,s)}}return;case"ArrowDown":{const t=d[a.sectionIndex]?.[1].length||0;return a.emojiIndex-a.emojiIndex%e!=t-1-(t-1)%e?void _(a.sectionIndex,Math.min(a.emojiIndex+e,t-1)):void(a.sectionIndex!==d.length-1&&_(a.sectionIndex+1,a.emojiIndex%e))}case"ArrowLeft":if(a.emojiIndex)return void _(a.sectionIndex,a.emojiIndex-1);if(a.sectionIndex){const e=d[a.sectionIndex-1]?.[1].length||0;e&&_(a.sectionIndex-1,e-1)}return;case"ArrowRight":{const e=d[a.sectionIndex]?.[1].length||0;return a.emojiIndex!==e-1?void _(a.sectionIndex,a.emojiIndex+1):void(a.sectionIndex!==d.length-1&&_(a.sectionIndex+1,0))}}else _(0,0)};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[p,h,S,k,d])}},43561:(e,t,r)=>{r.d(t,{EmojiKeyboardElementType:()=>a});var a=function(e){return e.ROW="row",e.HEADER="header",e}({})},879825:(e,t,r)=>{r.d(t,{EmojiKeyboardHeader:()=>u});var a=r(474848),i=r(285056),o=r(293721),s=r(8520),n=r(1578),c=r(294248),l=r(161187);const d={[c.StickerEmojiKeyboardVariant.WIDE]:l.default.headerWide,[c.StickerEmojiKeyboardVariant.COMPACT]:l.default.headerCompact,[c.StickerEmojiKeyboardVariant.REGULAR]:l.default.headerRegular,[c.StickerEmojiKeyboardVariant.ADAPTIVE]:l.default.headerAdaptive,[c.StickerEmojiKeyboardVariant.SMALL]:l.default.headerSmall};function u({title:e,className:t,...r}){const{translate:u}=(0,n.useLangPack)(),m=(0,o.useStore)(c.$variant);return(0,a.jsx)("div",{"data-testid":"emoji-keyboard-header","data-header":!0,className:(0,s.classNames)(l.default.header,d[m],t),...r,children:(0,a.jsx)(i.Subhead,{className:l.default.title,weight:"3",children:u(e)})})}},395469:(e,t,r)=>{r.d(t,{EMOJI_SIZE:()=>m,EmojiKeyboardProvider:()=>p});var a=r(474848),i=r(293721),o=r(296540),s=r(393321),n=r(718331),c=r(745457),l=r(291915),d=r(445740),u=r(677363);const m=16;function p({onEmojiInsert:e,...t}){const r=(0,d.useAPI)(),m=(0,i.useStore)(n.$isVisible),p=e=>e?e.sort((([,e],[,t])=>t-e)).map((([e])=>e)):[],[k,S]=(0,o.useState)(Object.entries({stickers_picker_recently_used:p(r.cache.recentEmoji.get()),...s.sections})),h=k.filter((([,e])=>e.length));return(0,o.useEffect)((()=>{m||((async()=>{const e=r.cache.recentEmoji.get();e&&((0,c.setRecentEmoji)(e),S((t=>(t[0][1]=p(e),t))))})(),(0,l.setSelectedEmoji)(null))}),[r,m]),(0,a.jsx)(u.EmojiKeyboardContext.Provider,{value:{emojiSections:h,onEmojiInsert:e},...t})}},393321:(e,t,r)=>{r.d(t,{sections:()=>a});const a={stickers_picker_emotions:["😀","😃","😄","😁","😅","😆","😂","🤣","😉","😊","☺","🙂","🙃","😇","😗","😙","😚","😘","😍","🥰","🤩","🤗","😋","😜","🤪","😛","😝","🤑","🤭","🤐","🤫","😶","🤔","🤨","🧐","😐","😑","🙄","😬","🤥","😏","😌","🤤","😴","🤓","😎","🥳","🤠","😒","😔","😪","😕","😟","🙁","☹","😮","😯","😲","😳","🥺","😦","😧","😨","😰","😥","😢","😭","😱","😖","😣","😞","😓","😩","😫","😷","🤒","🤕","🤢","🤮","🤧","🥶","🥵","🥴","😵","🤯","😤","😠","😡","🤬","😈","👿","💀","☠","💩","🤡","👹","👺","👻","👽","👾","🤖","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🙈","🙉","🙊","🦠"],stickers_picker_gestures_and_people:["👍","👎","👌","✌","🤞","🤟","🤘","🤙","🖕","✊","👊","🤛","🤜","👈","👉","👆","👇","☝","👋","🤚","🖐","✋","🖖","👏","🙌","👐","🤲","🤝","🙏","💪","🦵","🦶","👂","👃","🧠","🦷","🦴","👀","👁","👅","👄","✍","💅","🤳","👫","👩‍❤️‍💋‍👨","👩‍❤️‍👨","👪","👶","🧒","👦","👧","🧑","👱","👨","🧔","👱‍♂️","👨‍🦰","👨‍🦱","👨‍🦳","👨‍🦲","👩","👱‍♀️","👩‍🦰","👩‍🦱","👩‍🦳","👩‍🦲","🧓️","🙍‍♂️️","🙍‍♀️️","🙎‍♂️","🙎‍♀️️","🙅‍♂️","🙅‍♀️","🙆‍♂️","🙆‍♀️","💁‍♂️","💁‍♀️️","🙋‍♂️","🙋‍♀️️","🙇‍♂️","🙇‍♀️️","🤦‍♂️","🤦‍♀️","🤷‍♂️","🤷‍♀️","💆‍♂️️","💆‍♀️","💇‍♂️️","💇‍♀️","🚶‍♂️️","🚶‍♀️️","🏃‍♂️️","🏃‍♀️","💃","🕺","🕴️","👯‍♂️️","👯‍♀️","🧖‍♂️","🧖‍♀️️","👼","🎅","🤶","🦸‍♂️","🦸‍♀️","🦹‍♂️","🦹‍♀️","🧙‍♂️","🧙‍♀️","🧚‍♂️","🧚‍♀️","🧛‍♂️","🧛‍♀️","🧜‍♂️","🧜‍♀️","🧝‍♂️","🧝‍♀️","🧞‍♂️","🧞‍♀️","🧟‍♂️","🧟‍♀️","👨‍⚕️","👩‍⚕️","👨‍🎓","👩‍🎓","👨‍🏫","👩‍🏫","👨‍⚖️","👩‍⚖️","👨‍🌾","👩‍🌾","👨‍🍳","👩‍🍳","👨‍🔧","👩‍🔧","👨‍🏭","👩‍🏭","👨‍💼","👩‍💼","👨‍🔬","👩‍🔬","👨‍💻","👩‍💻","👨‍🎤","👩‍🎤","👨‍🎨","👩‍🎨","👨‍✈️","👩‍✈️","👨‍🚀","👩‍🚀","👨‍🚒","👩‍🚒","👮‍♂️","👮‍♀️","🕵️‍♂️","🕵️‍♀️","💂‍♂️","💂‍♀️","👷‍♂️","👷‍♀️","🤴","👸","👳‍♂️","👳‍♀️","👲","🧕","🤵","👰","🤰","🤱","🛀","🛌"],stickers_picker_symbols:["💋","❤","💔","❣","💘","💝","💖","💗","💓","💞","💕","💟","💜","🧡","💛","💚","💙","🖤","💯","💢","💥","💫","🕳","💣","💬","👁️‍🗨️","🗨","🗯","💭","💤","🗣","👤","👥","👣","🔇","🔊","📢","📣","🔔","🔕","🎼","🎵","🎶","⚠","🚸","☢","☣","🆚","🆓","🆕","🚮","🚾","🚭","✅","♻","⚕","🔱","‼","⁉","❓","❗","🆘","⛔","🚫","🚳","🚯","🚱","🚷","📵","🔞"],stickers_picker_animals_and_plants:["🐵","🐒","🦍","🐶","🐕","🐩","🐺","🦊","🦝","🐱","🐈","🦁","🐯","🐅","🐆","🐴","🐎","🦄","🦓","🦌","🐮","🐂","🐃","🐄","🐷","🐽","🐖","🐗","🐏","🐑","🐐","🐪","🐫","🦙","🦒","🐘","🦏","🦛","🐭","🐁","🐀","🐹","🐰","🐇","🐿","🦔","🦇","🐻","🐨","🐼","🦘","🦡","🐾","🦃","🐔","🐓","🐣","🐤","🐥","🐦","🐧","🕊","🦅","🦆","🦢","🦉","🦚","🦜","🐸","🐊","🐢","🦎","🐍","🐲","🐉","🦕","🦖","🐳","🐋","🐬","🐟","🐠","🐡","🦈","🐙","🦀","🦞","🦐","🦑","🐚","🐌","🦋","🐛","🐜","🐝","🐞","🦗","🕷","🕸","🦂","🦟","💐","🌸","💮","🏵","🌹","🥀","🌺","🌻","🌼","🌷","🌳","🌲","🎄","🌴","🌵","🌾","🌱","🌿","☘","🍀","🍁","🍂","🍃","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌡","☀","🌝","🌞","⭐","🌟","🌠","☁","⛅","⛈","🌤","🌥","🌦","🌧","🌨","🌩","🌪","🌫","🌬","💨","🌀","🌈","🌂","☂","☔","⛱","⚡","❄","☃","⛄","☄","🔥","💦","💧","🌊"],stickers_picker_food_and_drink:["🍏","🍎","🍐","🍅","🥝","🍑","🍒","🍓","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🥭","🥥","🥑","🍆","🥔","🥕","🌽","🌶","🥒","🥬","🥦","🍄","🥜","🌰","🍞","🥐","🥖","🥨","🥯","🥞","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🥙","🥚","🍳","🥘","🍲","🥣","🥗","🍿","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🍵","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🥤","🥢","🍽","🍴","🥄"],stickers_picker_sport_and_activities:["⚽","⚾","🥎","🏀","🏐","🏈","🏉","🎾","🥏","🎳","🏏","🏑","🏒","🥍","🏓","🏸","🥊","🥋","🥅","⛳","⛸","🎣","🎽","🛹","🎿","🛷","🥌","🎯","🎱","🎮","🕹","🎰","🎲","🧩","♟","🧗‍♂️️","🧗‍♀️","🤺","🏇","⛷","🏂","🏌️‍♂️","🏌️‍♀️","🏄‍♂️","🏄‍♀️","🚣‍♂️","🚣‍♀️","🏊‍♂️","🏊‍♀️","⛹️‍♂️","⛹️‍♀️","🏋️‍♂️","🏋️‍♀️","🚴‍♂️","🚴‍♀️","🚵‍♂️","🚵‍♀️","🤸","🤼‍♂️","🤼‍♀️","🤽‍♂️","🤽‍♀️","🤾‍♂️","🤾‍♀️","🤹‍♂️","🤹‍♀️","🧘‍♂️","🧘‍♀️","🎖","🏆","🏅","🥇","🥈","🥉"],stickers_picker_travel_and_transport:["🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚝","🚞","🚋","🚌","🚍","🚎","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🚚","🚛","🚜","🏎","🏍","🛵","🚲","🛴","🚏","🛣","🛤","🛢","⛽","🚨","🚥","🚦","🛑","🚧","⚓","⛵","🛶","🚤","🛳","⛴","🛥","🚢","✈","🛩","🛫","🛬","💺","🚁","🚟","🚠","🚡","🛰","🚀","🛸","🌍","🌎","🌏","🌐","🗺","🗾","🧭","🏔","⛰","🌋","🗻","🏕","🏖","🏜","🏝","🏞","🏟","🏛","🏗","🧱","🏘","🏚","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏨","🏩","🏪","🏫","🏬","🏭","🏯","🏰","💒","🗼","🗽","⛪","🕌","🕍","⛩","🕋","⛲","⛺","🌁","🌃","🏙","🌄","🌅","🌆","🌇","🌉","♨","🌌","🎠","🎡","🎢","💈","🎪"],stickers_picker_subjects:["🎙","🎚","🎛","🎤","🎧","📻","🎷","🎸","🎹","🎺","🎻","🥁","📯","🎭","🖼","🎨","🧵","🧶","🔮","🧿","🧸","🃏","🀄","🎴","🎃","🎆","🎇","🧨","✨","🎈","🎉","🎊","🎋","🎍","🎎","🎏","🎐","🎑","🧧","🎀","🎁","🎗","🎟","🎫","🛎","🧳","⌛","⏳","⌚","⏰","⏱","⏲","🕰","👓","🕶","🥽","🥼","👔","👕","👖","🧣","🧤","🧥","🧦","👗","👘","👙","👚","👛","👜","👝","🛍","🎒","👞","👟","🥾","🥿","👠","👡","👢","👑","👒","🎩","🎓","🧢","⛑","📿","💄","💍","💎","📱","📲","☎","📞","📟","📠","🔋","🔌","💻","🖥","🖨","⌨","🖱","🖲","💽","💾","💿","📀","🧮","🎥","🎞","📽","🎬","📺","📷","📸","📹","📼","🔍","🔎","🕯","💡","🔦","🏮","📔","📕","📖","📗","📘","📙","📚","📓","📒","📃","📜","📄","📰","🗞","📑","🔖","🏷","💰","💴","💵","💶","💷","💸","💳","🧾","💹","💱","💲","✉","💌","📧","📨","📩","📤","📥","📦","📫","📪","📬","📭","📮","🗳","✏","✒","🖋","🖊","🖌","🖍","📝","💼","📁","📂","🗂","📅","📆","🗒","🗓","📇","📈","📉","📊","📋","📌","📍","📎","🖇","📏","📐","✂","🗃","🗄","🗑","🔒","🔓","🔏","🔐","🔑","🗝","🔨","⛏","⚒","🛠","🗡","⚔","🔪","🔫","🏹","🛡","🔧","🔩","⚙","🗜","⚖","🔗","⛓","🧰","🧲","⚗","🧪","🧫","🧬","🔬","🔭","📡","💉","💊","🚪","🛏","🛋","🚽","🚿","🛁","🧴","🧷","🧹","🧺","🧻","🧼","🧽","🧯","🛒","🚬","⚰","⚱","🏺","🗿"],stickers_picker_flags:["🇷🇺","🇰🇿","🇧🇾","🇺🇦","🇲🇳","🇬🇪","🇦🇿","🇹🇯","🇧🇷","🇱🇹","🇱🇻","🇪🇪","🇦🇲","🏁","🚩","🎌","🏴","🏳","🏴‍☠️","🇦🇨","🇦🇩","🇦🇪","🇦🇫","🇦🇬","🇦🇮","🇦🇱","🇦🇴","🇦🇶","🇦🇷","🇦🇸","🇦🇹","🇦🇺","🇦🇼","🇦🇽","🇧🇦","🇧🇧","🇧🇩","🇧🇪","🇧🇫","🇧🇬","🇧🇭","🇧🇮","🇧🇯","🇧🇱","🇧🇲","🇧🇳","🇧🇴","🇧🇶","🇧🇸","🇧🇹","🇧🇻","🇧🇼","🇧🇿","🇨🇦","🇨🇨","🇨🇩","🇨🇫","🇨🇬","🇨🇭","🇨🇮","🇨🇰","🇨🇱","🇨🇲","🇨🇳","🇨🇴","🇨🇵","🇨🇷","🇨🇺","🇨🇻","🇨🇼","🇨🇽","🇨🇾","🇨🇿","🇩🇪","🇩🇬","🇩🇯","🇩🇰","🇩🇲","🇩🇴","🇩🇿","🇪🇨","🇪🇬","🇪🇭","🇪🇷","🇪🇸","🇪🇹","🇪🇺","🇫🇮","🇫🇯","🇫🇰","🇫🇲","🇫🇴","🇫🇷","🇬🇦","🇬🇧","🇬🇩","🇬🇫","🇬🇬","🇬🇭","🇬🇮","🇬🇱","🇬🇲","🇬🇳","🇬🇵","🇬🇶","🇬🇷","🇬🇸","🇬🇹","🇬🇺","🇬🇼","🇬🇾","🇭🇰","🇭🇲","🇭🇳","🇭🇷","🇭🇹","🇭🇺","🇮🇨","🇮🇩","🇮🇪","🇮🇱","🇮🇲","🇮🇳","🇮🇴","🇮🇶","🇮🇷","🇮🇸","🇮🇹","🇯🇪","🇯🇲","🇯🇴","🇯🇵","🇰🇪","🇰🇬","🇰🇭","🇰🇮","🇰🇲","🇰🇳","🇰🇵","🇰🇷","🇰🇼","🇰🇾","🇱🇦","🇱🇧","🇱🇨","🇱🇮","🇱🇰","🇱🇷","🇱🇸","🇱🇺","🇱🇾","🇲🇦","🇲🇨","🇲🇩","🇲🇪","🇲🇫","🇲🇬","🇲🇭","🇲🇰","🇲🇱","🇲🇲","🇲🇴","🇲🇵","🇲🇶","🇲🇷","🇲🇸","🇲🇹","🇲🇺","🇲🇻","🇲🇼","🇲🇽","🇲🇾","🇲🇿","🇳🇦","🇳🇨","🇳🇪","🇳🇫","🇳🇬","🇳🇮","🇳🇱","🇳🇴","🇳🇵","🇳🇷","🇳🇺","🇳🇿","🇴🇲","🇵🇦","🇵🇪","🇵🇫","🇵🇬","🇵🇭","🇵🇰","🇵🇱","🇵🇲","🇵🇳","🇵🇷","🇵🇸","🇵🇹","🇵🇼","🇵🇾","🇶🇦","🇷🇪","🇷🇴","🇷🇸","🇷🇼","🇸🇦","🇸🇧","🇸🇨","🇸🇩","🇸🇪","🇸🇬","🇸🇭","🇸🇮","🇸🇯","🇸🇰","🇸🇱","🇸🇲","🇸🇳","🇸🇴","🇸🇷","🇸🇸","🇸🇹","🇸🇻","🇸🇽","🇸🇾","🇸🇿","🇹🇦","🇹🇨","🇹🇩","🇹🇫","🇹🇬","🇹🇭","🇹🇰","🇹🇱","🇹🇲","🇹🇳","🇹🇴","🇹🇷","🇹🇹","🇹🇻","🇹🇼","🇹🇿","🇺🇬","🇺🇲","🇺🇳","🇺🇾","🇺🇿","🇻🇦","🇻🇨","🇻🇪","🇻🇬","🇻🇮","🇻🇳","🇻🇺","🇼🇫","🇼🇸","🇽🇰","🇾🇪","🇾🇹","🇿🇦","🇿🇲","🇿🇼"]}},140925:(e,t,r)=>{r.d(t,{EmojiKeyboardRow:()=>p,rowVariantModifier:()=>m});var a=r(474848),i=r(293721),o=r(8520),s=r(296540),n=r(192445),c=r(291915),l=r(294248),d=r(677363),u=r(112935);const m={[l.StickerEmojiKeyboardVariant.WIDE]:u.default.rowWide,[l.StickerEmojiKeyboardVariant.COMPACT]:u.default.rowCompact,[l.StickerEmojiKeyboardVariant.REGULAR]:u.default.rowRegular,[l.StickerEmojiKeyboardVariant.ADAPTIVE]:u.default.rowAdaptive,[l.StickerEmojiKeyboardVariant.SMALL]:u.default.rowSmall};function p({emoji:e,onEmojiClick:t,className:r,...p}){const{emojiSections:k}=(0,d.useEmojiKeyboard)(),S=(0,i.useStore)(l.$variant),h=(0,i.useStore)(c.$selectedEmoji),b=h?.emojiIndex,f=h?.sectionIndex,v=void 0!==b&&void 0!==f?k[f][1][b]:void 0,_=(0,s.useMemo)((()=>e.map((e=>(0,a.jsx)(n.EmojiItem,{className:u.default.emoji,emoji:e,active:e===v,onEmojiClick:t},e)))),[e,v,t]);return(0,a.jsx)("div",{className:(0,o.classNames)(u.default.row,m[S],r),...p,children:_})}},267513:(e,t,r)=>{r.d(t,{EmojiKeyboardRowBanner:()=>l});var a=r(474848),i=r(327626),o=r(8520),s=r(293721),n=r(294248),c=r(140925);const l=({className:e,...t})=>{const r=(0,s.useStore)(n.$variant);return(0,a.jsx)("div",{className:(0,o.classNames)(e,c.rowVariantModifier[r]),children:(0,a.jsx)(i.Banner,{noPadding:!0,...t})})}},499405:(e,t,r)=>{r.d(t,{PeerProvider:()=>d});var a=r(293721),i=r(468073),o=r(296540),s=r(305390),n=r(814950),c=r(559735),l=r(445740);function d({children:e}){const t=(0,l.useAPI)(),r=(0,a.useStore)(s.$peerId);return(0,o.useEffect)((()=>{(0,c.setUserPeer)(null),(0,n.setChatPeer)(null),r&&(i.Ranges.isChatOrChannelPeer(r)?(async()=>{let e;try{e=(await t.messages.getConversationsById({peer_ids:String(r)})).items[0]}catch{}e&&(0,n.setChatPeer)(e)})():i.Ranges.isUserId(r)&&(async()=>{let e;try{e=(await t.users.get({user_ids:String(r),fields:String(["photo_50","first_name_gen"])}))[0]}catch{}e&&(0,c.setUserPeer)(e)})())}),[r]),e}},229653:(e,t,r)=>{r.d(t,{StickersEmojiKeyboard:()=>K});var a=r(474848),i=r(293721),o=r(8520),s=r(296540),n=r(865708),c=r(172850),l=r(419230),d=r(256149),u=r(936207),m=r(847981),p=r(499405),k=r(899461),S=r(264629),h=r(395469),b=r(340159),f=r(541509),v=r(270634),_=r(305390),g=r(138560),y=r(718331),E=r(93272),I=r(539945),j=r(294248),A=r(445740),w=r(973119);const x={[j.StickerEmojiKeyboardVariant.WIDE]:w.default.keyboardWide,[j.StickerEmojiKeyboardVariant.COMPACT]:w.default.keyboardCompact,[j.StickerEmojiKeyboardVariant.REGULAR]:w.default.keyboardRegular,[j.StickerEmojiKeyboardVariant.ADAPTIVE]:w.default.keyboardAdaptive,[j.StickerEmojiKeyboardVariant.SMALL]:w.default.keyboardSmall};function K({lang:e,userId:t,peerId:r,context:i,variant:o,isVisible:s,visibleTab:n,onAPIRequest:c,activePackKey:d,onTabChange:u,onPopUpPlay:k,onShopClick:S,onCatchError:g,onEmojiInsert:A,onStickerSend:w,onUGCEditClick:x,onUGCReportClick:K,onVmojiEditClick:T,onVmojiCreateClick:R,onStockItemGiftClick:P,onStockItemSettingsClick:N,onVmojiSuggestionClick:O,noAnimation:V,renderAsStaticImage:G,...H}){return(0,a.jsxs)(l.LangPackProvider,{name:"stickers_picker",domain:"vk.com",lang:e,suspense:!1,children:[(0,a.jsx)(_.PeerGate,{peerId:r}),(0,a.jsx)(v.ContextGate,{context:i}),(0,a.jsx)(j.VariantGate,{variant:o}),(0,a.jsx)(y.VisibleGate,{isVisible:s}),(0,a.jsx)(E.VisibleTabGate,{visibleTab:n}),(0,a.jsx)(I.ActivePackKeyGate,{activePackKey:d}),(0,a.jsx)(m.APIProvider,{userId:t,peerId:r,language:e,onAPIRequest:c,context:i,logError:g,children:(0,a.jsx)(p.PeerProvider,{children:(0,a.jsx)(f.StickersEmojiKeyboardProvider,{onTabChange:u,onShopClick:S,children:(0,a.jsx)(b.StickersKeyboardProvider,{onPopUpPlay:k,onCatchError:g,onStickerSend:w,onUGCEditClick:x,onVmojiEditClick:T,onUGCReportClick:K,onVmojiCreateClick:R,onStockItemGiftClick:P,onStockItemSettingsClick:N,onVmojiSuggestionClick:O,noAnimation:V,renderAsStaticImage:G,children:(0,a.jsx)(h.EmojiKeyboardProvider,{onEmojiInsert:A,children:(0,a.jsx)(C,{...H})})})})})})]})}function C({className:e,...t}){const r=(0,A.useAPI)(),l=(0,i.useStore)(j.$variant),m=(0,i.useStore)(E.$visibleTab),{isStickersActiveTab:p}=(0,i.useStore)(g.$tabbarActiveTabState),{isEmojiVisibleTab:h,isStickersVisibleTab:b}=(0,i.useStore)(E.$visibleTabState),f=(0,s.useRef)(null);return(0,a.jsx)(c.HelpHintsProvider,{api:r,noToken:!0,children:(0,a.jsx)(n.AppRootProvider,{portalRoot:f,children:(0,a.jsx)("div",{ref:f,className:(0,o.classNames)(e,w.default.keyboard,x[l]),...t,children:(0,a.jsxs)("div",{className:w.default.in,children:[(0,a.jsxs)(d.View,{switched:p&&!m,children:[(0,a.jsx)(k.EmojiKeyboard,{mounted:!m||h}),(0,a.jsx)(S.StickersKeyboard,{mounted:!m||b})]}),(0,a.jsx)(u.Tabbar,{})]})})})})}},541509:(e,t,r)=>{r.d(t,{StickersEmojiKeyboardProvider:()=>l});var a=r(474848),i=r(293721),o=r(296540),s=r(138560),n=r(445740),c=r(229071);function l({onTabChange:e,onShopClick:t,...r}){const l=(0,n.useAPI)(),d=(0,i.useStore)(s.$tabbarActiveTab),u=l.cache.tabbarActiveTab.get();(0,o.useEffect)((()=>{u!==d&&l.cache.tabbarActiveTab.set(d)}),[d,u]);const m=t?e=>{l.store.markAsViewed({type:"stickers",reset:String(["store_new_items","global_promotion"])});t(e,(()=>l.cache.reload()))}:null;return(0,a.jsx)(c.StickersEmojiKeyboardContext.Provider,{value:{onTabChange:e,...m&&{onShopClick:m}},...r})}},264629:(e,t,r)=>{r.d(t,{StickersKeyboard:()=>R});var a=r(474848),i=r(293721),o=r(651220),s=r(256640),n=r(296540),c=r(744440),l=r(8520),d=r(251763),u=r(994669),m=r(695061),p=r(843607),k=r(928349),S=r(89809),h=r(69783),b=r(718331),f=r(539945),v=r(591454),_=r(939659),g=r(547773),y=r(547843),E=r(445740),I=r(895770),j=r(516413),A=r(192641),w=r(503078),x=r(722098),K=r(119801),C=r(853603),T=r(625599);function R({className:e,...t}){const r=(0,E.useAPI)(),{setSelectedPack:R}=(0,C.useStickersKeyboard)(),{getAvatarSuggestionStickerRow:P,bannerPackIndex:N,avatarSuggestion:O}=(0,x.useAvatarSuggestion)(),{packs:V}=(0,i.useStore)(_.$packs),G=(0,i.useStore)(b.$isVisible),H=(0,i.useStore)(g.$avatarSuggestionTab),M=(0,i.useStore)(y.$stickersSize),D=(0,i.useStore)(f.$activePackKey),$=(0,i.useStore)(v.$selectedPackKey),U=(0,i.useStore)(y.$stickersVerticalGap),L=(0,i.useStore)(y.$stickersHorizontalGap),B=(0,i.useStore)(y.$stickersKeyboardVerticalOrder),F=(0,n.useRef)(null),W=(0,n.useRef)([]),z=(0,n.useRef)(!1);(0,w.useScrollView)(F);const{setGridRef:J,columns:q}=(0,I.useGrid)({tab:j.Tab.STICKERS,itemWidth:M+L}),Q=(0,n.useMemo)((()=>{if(!V||!q)return[{type:K.StickersKeyboardElementType.HEADER,element:(0,a.jsx)(p.StickersKeyboardHeader,{},Math.random()),sticky:!0},...(0,l.createArray)(6).map((e=>({type:K.StickersKeyboardElementType.ROW,element:(0,a.jsx)(u.StickersKeyboardRow,{columns:q},e)})))];const e=[];let t=null;const r=V?.get($);return void 0!==r?.index&&(t=r.index),V.forEach((r=>{const{id:i,index:o}=r,n=r.stickers?.map(s.getStickerContext);e.push({type:K.StickersKeyboardElementType.HEADER,element:(0,a.jsx)(p.StickersKeyboardHeader,{pack:r},i),sticky:!0});const c=i===_.ServicePackKey.VMOJI;c&&e.push({type:K.StickersKeyboardElementType.ROW,element:(0,a.jsx)(S.StickersKeyboardVmojiRow,{},_.ServicePackKey.VMOJI)});const d=i===_.ServicePackKey.UGC&&!n?.length;d&&e.push({type:K.StickersKeyboardElementType.ROW,element:(0,a.jsx)(k.StickersKeyboardUGCRow,{},_.ServicePackKey.UGC)});const m=t||0;if(null===N&&o===m||N===o){const t=P(m,c||d);t&&e.push(t)}n&&(0,l.chunkArray)(n,q).forEach(((t,o)=>{e.push({type:K.StickersKeyboardElementType.ROW,element:(0,a.jsx)(u.StickersKeyboardRow,{stickers:t,columns:q,pack:r},`${i}${o}`)})}))})),e}),[V,q,O]),Z=(0,n.useMemo)((()=>{const e=W.current,t=Q.reduce(((e,{type:t},r)=>(t===K.StickersKeyboardElementType.HEADER&&e.push(r),e)),[]);return(0,l.isEqual)(t,e)||!t.length?e:(W.current=t,t)}),[Q]),Y=e=>Z.includes(e),{rangeExtractor:X,isSticky:ee}=(0,A.useSticky)({rows:Q}),te=(0,o.useVirtualizer)({rangeExtractor:X,count:Q.length,estimateSize:()=>M,getScrollElement:()=>F.current}),{range:re}=te,ae=e=>{const t=V?.get(e);t&&(((e,t,r)=>{const{index:a}=e;if(void 0===a)return;const i=Z[a];($!==t||r)&&void 0!==i&&te.scrollToIndex(i,{align:"start",behavior:"auto"})})(t,e),R(e))};(0,n.useEffect)((()=>{null!==N&&H===j.Tab.STICKERS&&Z[N]&&te.scrollToIndex(Z[N],{align:"start",behavior:"auto"})}),[N]),(0,n.useEffect)((()=>{const e=F.current;if(e&&!V)return e.style.setProperty("overflow","hidden","important"),()=>{e.style.removeProperty("overflow")}}),[V]),(0,n.useEffect)((()=>{const e=r.cache.stickersActiveTab.get();V&&(z.current=!1,D||e?(ae(D||e),z.current=!0):z.current=!0)}),[Z,V,D,G]),(0,n.useEffect)((()=>{const e=z.current,t=te.calculateRange();if(!t)return;const{startIndex:r,endIndex:a}=t;if(!r&&!a||!Z.length||!V||!e)return;const i=[...V.values()],o=Z.findIndex((e=>e>=r)),s=Z.findIndex((e=>e>=a)),n=i[o-Number(o===s&&r!==a)];if(!n)return;const{id:c}=n;R(c)}),[re,Z]);const ie=te.getVirtualItems().filter(Boolean);return(0,a.jsx)(h.StickersKeyboardSelectProvider,{selectPack:ae,children:(0,a.jsxs)(d.ViewItem,{getRef:J,className:(0,l.classNames)(T.default.keyboard,e),style:{"--stickers-columns":q,"--stickers-size":`${M}px`,"--stickers-vertical-gap":`${U}px`,"--stickers-horizontal-gap":`${L}px`,"--stickers-tab-flex-direction":`${B}`},...t,children:[(0,a.jsx)(c.CustomScrollView,{getRootRef:F,className:(0,l.classNames)(T.default.scroll,{[T.default.scrollDisabled]:!V}),overscrollBehavior:"none",children:(0,a.jsx)("div",{className:T.default.in,style:{height:te.getTotalSize()},children:ie.map((({key:e,index:t,start:r})=>(0,a.jsx)("div",{"data-index":t,ref:te.measureElement,className:(0,l.classNames)(T.default.item,{[T.default.itemHeader]:Y(t)}),"data-testid":"stickers-item",style:ee(t)?{position:"sticky"}:{position:"absolute",transform:`translateY(${r}px)`},children:Q[t].element},e)))})}),V&&(0,a.jsx)(m.StickersKeyboardGroups,{})]})})}},119801:(e,t,r)=>{r.d(t,{StickersKeyboardElementType:()=>a});var a=function(e){return e.ROW="row",e.HEADER="header",e}({})},951533:(e,t,r)=>{r.d(t,{StickersKeyboardGroup:()=>p});var a=r(474848),i=r(293721),o=r(8520),s=r(296540),n=r(23754),c=r(591454),l=r(939659),d=r(853603),u=r(401863);const m=e=>{switch(e){case l.ServicePackKey.FAVORITE:return"stickers-keyboard-group-favorite";case l.ServicePackKey.RECENT:return"stickers-keyboard-group-recent";case l.ServicePackKey.VMOJI:return"stickers-keyboard-group-vmoji";case l.ServicePackKey.UGC:return"stickers-keyboard-group-ugc";default:return""}};function p({group:e,className:t,...r}){const{selectPack:p}=(0,d.useStickersKeyboardSelect)(),k=(0,i.useStore)(c.$selectedPackKey),{packs:S}=(0,i.useStore)(l.$packs),h=(0,s.useRef)(null),[b,f]=(0,s.useState)(),v=e=>()=>{p(e)},_=(0,s.useMemo)((()=>{if(Array.isArray(e)||(e=[e]),S)return e.map((e=>{const t=S.get(e);if(t)return(0,a.jsx)(n.StickersKeyboardGroupItem,{className:u.default.item,pack:t,active:e===k,onClick:v(e)},e)}))}),[e,S,k]);(0,s.useLayoutEffect)((()=>{const e=h.current;if(!e)return;const t=e.children[0]?.clientWidth;t&&f(t)}),[h]);const g=Boolean(Array.isArray(e)&&Number(_?.length)>1&&k&&e.includes(k));return(0,a.jsx)("div",{"data-testid":m(e),ref:h,className:(0,o.classNames)(u.default.group,t,{[u.default.groupActive]:g,[u.default.groupHidden]:!b}),style:{"--group-item-width":`${b}px`},...r,children:_})}},723289:(e,t,r)=>{r.d(t,{StickersKeyboardGroupItemIcon:()=>n});var a=r(474848),i=r(945300),o=r(869343),s=r(548891);const n=({pack:e,...t})=>{const{isPopup:r}=e;let n;return r&&(0,o.isPopUpStickersEnabled)()&&(n=i.Icon12PlayCircle),n?(0,a.jsx)("div",{className:s.default.in,children:(0,a.jsx)(n,{...t})}):null}},23754:(e,t,r)=>{r.d(t,{StickersKeyboardGroupItem:()=>j});var a=r(474848),i=r(293721),o=r(8520),s=r(1578),n=r(578392),c=r(296540),l=r(235717),d=r(730617),u=r(661897),m=r(988456),p=r(374271),k=r(410655),S=r(644746),h=r(624337),b=r(723289),f=r(939659),v=r(138560),_=r(207709),g=r(699212),y=r(980183);const E=new Map([[f.ServicePackKey.UGC,(0,a.jsx)(p.Icon24UgcStickerOutline,{},f.ServicePackKey.UGC)],[f.ServicePackKey.VMOJI,(0,a.jsx)(d.Icon24VmojiOutline,{},f.ServicePackKey.VMOJI)],[f.ServicePackKey.RECENT,(0,a.jsx)(k.Icon24RecentOutline,{},f.ServicePackKey.RECENT)],[f.ServicePackKey.FAVORITE,(0,a.jsx)(S.Icon24FavoriteOutline,{},f.ServicePackKey.FAVORITE)],[f.ServicePackKey.PHOTO_EDITOR,(0,a.jsx)(h.Icon24StickerOutline,{},f.ServicePackKey.PHOTO_EDITOR)]]),I={blue:y.default.inIndicator,red:y.default.inIndicatorRed,gray:y.default.inIndicatorGray,"":""};function j({pack:e,active:t,children:r,indicator:d,...p}){const{translate:k}=(0,s.useLangPack)(),S=(0,i.useStore)(g.$vmojiPromotion),h=(0,i.useStore)(_.$isTransitionActive),{isStickersActiveTab:f}=(0,i.useStore)(v.$tabbarActiveTabState),[j,A]=(0,c.useState)(!0),[w,x]=(0,c.useState)(!1),K=k(e?.title),C=e?.isNew,T=e?.isVmoji,R=e?.hintId,P=e?.hintWidth,N=S?.dot_color||"",O=E.get(e?.id)||r,V=new l.BaseUrlBuilder({size:24,images:e?.previews}).build(),G=(0,u.useHelpHint)(R);(0,c.useEffect)((()=>{O&&A(!1)}),[O]),(0,c.useEffect)((()=>{G&&t&&!w&&(m.HelpHints.hide(G),x(!0))}),[G,t,w]);let H=(0,a.jsx)("div",{...p,children:(0,a.jsx)("div",{className:(0,o.classNames)(y.default.in,{[y.default.inActive]:t,[y.default.inHidden]:j,[y.default.inPlaceholder]:!V&&!O,[y.default.inIndicator]:C||d,[I[N]]:T}),children:O?(0,a.jsx)("div",{"aria-label":K,className:(0,o.classNames)(y.default.icon,y.default.iconService),children:O}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{alt:K,className:y.default.icon,src:V,onLoad:()=>{A(!1)}}),e&&(0,a.jsx)(b.StickersKeyboardGroupItemIcon,{pack:e})]})})});if(G){const{title:e,description:r}=G;H=(0,a.jsx)(n.TextTooltip,{className:y.default.tooltip,maxWidth:P,placement:"top-start",appearance:"accent",header:e,text:r,offsetByMainAxis:-4,shown:!t&&!h&&!w&&f,children:H})}return H}},889227:(e,t,r)=>{r.d(t,{ShopButton:()=>u});var a=r(474848),i=r(293721),o=r(1578),s=r(838477),n=r(23754),c=r(229071),l=r(93272),d=r(560553);function u(){const{translate:e}=(0,o.useLangPack)(),{shopIndicatorMode:t,onShopClick:r}=(0,c.useStickersEmojiKeyboard)(),{isStickersVisibleTab:u}=(0,i.useStore)(l.$visibleTabState);if(!u||!r)return null;const m=Boolean(t);return(0,a.jsx)(n.StickersKeyboardGroupItem,{"aria-label":e("stickers_picker_store"),className:d.default.button,indicator:m,onClick:r,"data-testid":"stickers-shop-button",children:(0,a.jsx)(s.Icon24ShoppingCartOutline,{})})}},695061:(e,t,r)=>{r.d(t,{StickersKeyboardGroups:()=>_});var a=r(474848),i=r(293721),o=r(8520),s=r(220208),n=r(20115),c=r(651220),l=r(296540),d=r(889227),u=r(951533),m=r(939659),p=r(93272),k=r(591454),S=r(395077),h=r(472279),b=r(853603),f=r(695498),v=r(866623);function _({className:e,...t}){const{hasPointer:r}=(0,s.useAdaptivityWithJSMediaQueries)(),{getGroupIndex:_,isGroupedStockItem:g,prevSelectedPackKey:y}=(0,b.useStickersKeyboard)(),{packsGroups:E}=(0,i.useStore)(m.$packs),I=(0,i.useStore)(k.$selectedPackKey),{isStickersVisibleTab:j}=(0,i.useStore)(p.$visibleTabState),A=(0,l.useRef)(null),[w,x]=(0,l.useState)(!1),[K,C]=(0,l.useState)(!0),T=(0,l.useMemo)((()=>E?.map((e=>(0,a.jsx)(u.StickersKeyboardGroup,{className:v.default.groupIn,group:e},String(e))))||[]),[E]),R=T.length,P=(0,c.useVirtualizer)({count:R,overscan:5,horizontal:!0,getScrollElement:()=>A.current,estimateSize:()=>32,onChange:({range:e})=>{if(!e)return;const{startIndex:t,endIndex:r}=e;x(t>0),C(r<T.length-1)}}),{scrollTo:N}=(0,S.useSmoothScroll)(P),O=e=>P.getVirtualItems().find((({index:t})=>t===e)),V=e=>()=>{if(!P.range)return;const{startIndex:t,endIndex:r}=P.range,a=P.scrollElement?.getBoundingClientRect();if(!a)return;const{width:i}=a;switch(e){case"left":{const e=O(t-1);if(!e)return;const{size:r,end:a}=e;N({offset:a+2*r-i});break}case"right":{const e=O(r-1);if(!e)return;const{size:t,start:a}=e;N({offset:a-t});break}}};(0,h.useHorizontalScroll)(A),(0,l.useEffect)((()=>{if(!I||!E)return;const e=_(I),t=_(y),r=g(y);void 0!==e&&(r&&e>Number(t)||P.scrollToIndex(e,{align:"center"}))}),[P,I,E]);const G={"data-popup-sticker-deductible":f.POPUP_STICKER_CONTAINER_ID,"data-popup-sticker-deductible-full-screen":f.POPUP_STICKER_CONTAINER_ID};return(0,a.jsxs)("div",{...G,className:(0,o.classNames)(v.default.groups,{[v.default.groupsForced]:j},e),...t,children:[(0,a.jsx)(d.ShopButton,{}),(0,a.jsxs)("div",{className:v.default.container,children:[r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,o.classNames)(v.default.shadow,v.default.shadowLeft,{[v.default.shadowVisible]:w})}),(0,a.jsx)("div",{className:(0,o.classNames)(v.default.shadow,v.default.shadowRight,{[v.default.shadowVisible]:K})}),(0,a.jsx)("div",{"aria-hidden":!0,className:(0,o.classNames)(v.default.chevron,v.default.chevronLeft,{[v.default.chevronActive]:w}),onClick:V("left"),children:(0,a.jsx)(n.Icon16ChevronOutline,{})}),(0,a.jsx)("div",{"aria-hidden":!0,className:(0,o.classNames)(v.default.chevron,v.default.chevronRight,{[v.default.chevronActive]:K}),onClick:V("right"),children:(0,a.jsx)(n.Icon16ChevronOutline,{})})]}),(0,a.jsx)("div",{ref:A,className:v.default.in,children:(0,a.jsx)("div",{className:v.default.items,style:{width:P.getTotalSize()},children:Boolean(T.length)&&P.getVirtualItems().map((({key:e,index:t,start:r})=>(0,a.jsx)("div",{"data-index":t,ref:P.measureElement,className:v.default.group,style:{transform:`translateX(${r}px)`},"data-testid":"stickers-groups-item",children:T[t]},e)))})})]})]})}},456032:(e,t,r)=>{r.d(t,{GiftButton:()=>p});var a=r(474848),i=r(293721),o=r(8520),s=r(642584),n=r(238995),c=r(559735),l=r(948926),d=r(853603),u=r(733496),m=r(818893);function p({pack:e}){const{onStockItemGiftClick:t}=(0,d.useStickersKeyboard)(),r=(0,i.useStore)(c.$userPeer),p=(0,i.useStore)(l.$stockItemsAvailableToGift);if(!e?.canGift)return null;const{id:k,canGift:S,stockItem:h}=e,b=Boolean(k&&S&&r&&!p?.includes(k));return(0,a.jsxs)(a.Fragment,{children:[b&&(0,a.jsx)(n.PeerInfo,{className:(0,o.classNames)(u.default.peer,m.default.headerAside),pack:e}),t&&(0,a.jsx)(s.Icon20GiftOutline,{"data-testid":"stickers-keyboard-header-gift-button",className:(0,o.classNames)(m.default.icon,m.default.headerAside),onClick:()=>{h&&t?.(h,r)}})]})}},238995:(e,t,r)=>{r.d(t,{PeerInfo:()=>m});var a=r(474848),i=r(293721),o=r(1578),s=r(465028),n=r(578392),c=r(285056),l=r(612196),d=r(559735),u=r(817169);function m({pack:e,...t}){const{translate:r}=(0,o.useLangPack)(),m=(0,i.useStore)(d.$userPeer);if(!e||!m)return null;const{isStyle:p}=e,{first_name_gen:k,photo_50:S}=m;return(0,a.jsx)(n.TextTooltip,{className:u.default.tooltip,text:(0,a.jsx)(c.Caption,{className:u.default.text,level:"1",children:r(p?"stickers_picker_peer_has_style":"stickers_picker_peer_has_pack",{name:k})}),offsetByMainAxis:8,offsetByCrossAxis:30,placement:"bottom-end",usePortal:!0,children:(0,a.jsx)(l.Avatar,{src:S,size:20,...t,children:(0,a.jsx)(l.Avatar.Badge,{children:(0,a.jsx)(s.Icon12CheckCircleFill,{className:u.default.icon})})})})}},843607:(e,t,r)=>{r.d(t,{StickersKeyboardHeader:()=>v});var a=r(474848),i=r(293721),o=r(8520),s=r(1578),n=r(285056),c=r(157643),l=r(377803),d=r(508898),u=r(456032),m=r(395622),p=r(941518),k=r(77026),S=r(622090),h=r(294248),b=r(818893);const f={[h.StickerEmojiKeyboardVariant.WIDE]:b.default.headerWide,[h.StickerEmojiKeyboardVariant.COMPACT]:b.default.headerCompact,[h.StickerEmojiKeyboardVariant.REGULAR]:b.default.headerRegular,[h.StickerEmojiKeyboardVariant.ADAPTIVE]:b.default.headerAdaptive,[h.StickerEmojiKeyboardVariant.SMALL]:b.default.headerSmall};function v({pack:e,className:t,...r}){const{translate:v}=(0,s.useLangPack)(),_=(0,i.useStore)(h.$variant);if(t=(0,o.classNames)(b.default.header,f[_],t),!e)return(0,a.jsx)("div",{"data-testid":"stickers-keyboard-header-skeleton",className:t,...r,children:(0,a.jsx)(n.Subhead,{children:(0,a.jsx)(c.Skeleton,{width:128,colorFrom:l.default.colorTransparent.active.value,noAnimation:!0})})});const{title:g}=e;return g?(0,a.jsxs)("div",{"data-testid":"stickers-keyboard-header","data-header":!0,className:(0,o.classNames)(b.default.header,t),...r,children:[(0,a.jsx)(n.Subhead,{"data-testid":"stickers-keyboard-header-title",className:b.default.title,weight:"3",children:v(g)}),(0,a.jsx)(d.Tooltip,{pack:e}),(0,a.jsx)(S.StyleSettingsButton,{pack:e}),(0,a.jsx)(k.VmojiEditButton,{pack:e}),(0,a.jsx)(u.GiftButton,{pack:e}),(0,a.jsx)(m.UGCEditButton,{pack:e}),(0,a.jsx)(p.UGCMoreButton,{pack:e})]}):null}},622090:(e,t,r)=>{r.d(t,{StyleSettingsButton:()=>l});var a=r(474848),i=r(8520),o=r(897571),s=r(853603),n=r(746902),c=r(818893);function l({pack:e}){const{onStockItemSettingsClick:t}=(0,s.useStickersKeyboard)();if(!t)return null;if(!e||!(e?.hasStyles||e?.isStyle||e?.isVmoji))return null;const{stockItem:r}=e;return(0,a.jsx)(o.Icon20GearOutline,{className:(0,i.classNames)(n.default.icon,c.default.icon),onClick:()=>{r&&t?.(r)}})}},508898:(e,t,r)=>{r.d(t,{Tooltip:()=>d});var a=r(474848),i=r(8520),o=r(720510),s=r(1578),n=r(578392),c=r(612126),l=r(818893);function d({pack:{tooltip:e}}){const{translate:t}=(0,s.useLangPack)();if(!e)return null;const{text:r,header:d}=e;return(0,a.jsx)(n.TextTooltip,{className:c.default.tooltip,appearance:"black",offsetByMainAxis:8,usePortal:!0,...e,header:d&&t(String(d)),text:r&&t(String(r)),children:(0,a.jsx)(o.Icon16InfoOutline,{className:(0,i.classNames)(c.default.icon,l.default.icon)})})}},395622:(e,t,r)=>{r.d(t,{UGCEditButton:()=>d});var a=r(474848),i=r(293721),o=r(8520),s=r(897571),n=r(969102),c=r(853603),l=r(818893);function d({pack:e}){const{onUGCEditClick:t}=(0,c.useStickersKeyboard)(),r=(0,i.useStore)(n.$ugcInfo);return e?.isPack&&r?.can_edit&&r?.items?.length&&t?(0,a.jsx)(s.Icon20GearOutline,{className:(0,o.classNames)(l.default.icon,l.default.headerAside),onClick:t}):null}},941518:(e,t,r)=>{r.d(t,{UGCMoreButton:()=>p});var a=r(474848),i=r(293721),o=r(8520),s=r(1578),n=r(405816),c=r(797110),l=r(507852),d=r(969102),u=r(853603),m=r(818893);function p({pack:e}){const{translate:t}=(0,s.useLangPack)(),{onUGCReportClick:r}=(0,u.useStickersKeyboard)(),p=(0,i.useStore)(d.$ugcInfo);if(!e?.isPack||p?.can_edit||!p?.items?.length||!r)return null;return(0,a.jsx)(l.DropdownActionSheet,{content:(0,a.jsx)(l.DropdownActionSheet.Item,{type:"destructive",before:(0,a.jsx)(n.Icon20ReportOutline,{}),onClick:()=>{r(e.rawData)},children:t("stickers_picker_report")}),placement:"bottom-end",usePortal:!1,children:(0,a.jsx)(c.Icon20More,{className:(0,o.classNames)(m.default.icon,m.default.headerAside)})})}},77026:(e,t,r)=>{r.d(t,{VmojiEditButton:()=>k});var a=r(474848),i=r(285056),o=r(293721),s=r(8520),n=r(185372),c=r(1578),l=r(699212),d=r(853603),u=r(281537),m=r(818893);const p=99;function k({pack:e}){const{translate:t}=(0,c.useLangPack)(),{onVmojiEditClick:r}=(0,d.useStickersKeyboard)(),k=(0,o.useStore)(l.$vmojiPromotion);if(!e?.isVmoji||!r)return null;const{vmojiAvatar:S}=e,h=k?.constructor_new_items?.counter_value,b=k?.constructor_new_items?.open_params,f=Number(h)>0;let v=t("stickers_picker_vmoji_items_counter",{count:h});return Number(h)>=p&&(v=t("stickers_picker_vmoji_items_counter_max",{count:p})),(0,a.jsxs)("div",{className:(0,s.classNames)(u.default.brush,m.default.headerAside),onClick:()=>{S&&r?.(S,b)},children:[f&&(0,a.jsx)(i.Subhead,{className:(0,s.classNames)(u.default.counter,m.default.icon),weight:"3",children:v}),(0,a.jsx)(n.Icon20BrushOutline,{className:m.default.icon})]})}},340159:(e,t,r)=>{r.d(t,{StickersKeyboardProvider:()=>C});var a=r(474848),i=r(293721),o=r(296540),s=r(718331),n=r(969102),c=r(559735),l=r(853262),d=r(460543),u=r(649179),m=r(409875),p=r(138560),k=r(539945),S=r(508952),h=r(720112),b=r(993190),f=r(432726),v=r(939659),_=r(591454),g=r(948926),y=r(185564),E=r(699212),I=r(270634),j=r(445740),A=r(895380),w=r(516413),x=r(853603),K=r(869343);function C({onPopUpPlay:e,onCatchError:t,onStickerSend:r,onUGCEditClick:C,onVmojiEditClick:T,onUGCReportClick:R,onVmojiCreateClick:P,onStockItemGiftClick:N,onStockItemSettingsClick:O,onVmojiSuggestionClick:V,noAnimation:G,renderAsStaticImage:H,...M}){const D=(0,j.useAPI)(),{isServiceStockItem:$}=(0,x.useStickersKeyboard)(),{packs:U}=(0,i.useStore)(v.$packs),L=(0,i.useStore)(c.$userPeer),B=(0,i.useStore)(s.$isVisible),F=(0,i.useStore)(f.$stockItems),W=(0,i.useStore)(k.$activePackKey),z=(0,i.useStore)(E.$vmojiPromotion),J=(0,i.useStore)(_.$selectedPackKey),q=(0,i.useStore)(I.$context),Q=(0,o.useRef)(),Z=Q.current,Y=async()=>{try{const[e,t]=await Promise.all([D.cache.ugcInfo.get(),D.cache.ugcPacks.get()]);(0,n.setUGCInfo)(e),(0,l.setUGCPacks)(t)}catch(e){t?.(e)}},X=async()=>{try{const[e,t,r,a,i,o,s]=await Promise.all([D.cache.global.get(),D.cache.getStockItems({active:!0}),D.cache.imageConfigs.get(),D.cache.recentStickers.get(),q===I.CONTEXT.PHOTO_EDITOR?D.cache.photoEditorStickers.get():null,D.cache.favoriteStickers.get(),D.cache.avatarSuggestion.get(),Y()]);(0,u.setRecentStickers)(a),(0,m.setPhotoEditorStickers)(i),(0,h.setFavoriteStickers)(o),(0,S.setImageConfigs)(r),(0,y.setAvatarSuggestion)(s),(0,d.setHasAvatar)(D.cache.hasAvatar.get()),(0,E.setVmojiPromotion)(e?.vmoji_promotion||null),(0,b.setStoreNewItemsCount)(e?.store_new_items||0),(0,f.setStockItems)(t)}catch(e){t?.(e)}};return(0,o.useEffect)((()=>{F&&B&&D.cache.reload(),X();const e=D.cache.stickersSync.subscribe(X,!0),t=D.cache.stickersAsync.subscribe(X,!0),r=D.cache.stickersAsync.subscribe((async e=>{if(e===A.AvatarSuggestionAtomName)(0,y.getAvatarSuggestionFromCache)()}),!1),a=(0,K.isStaticUpdatesManagerEnabled)()?D.cache.ugcAsync.subscribe(Y):void 0;return()=>{e(),t(),r(),a?.()}}),[D,B,t]),(0,o.useEffect)((()=>{if((0,g.setStockItemsAvailableToGift)(null),!L)return;const{id:e}=L;var t;t=e,D.store.getStickerPacksAvailableForGift({user_id:t}).then(g.setStockItemsAvailableToGift)}),[L]),(0,o.useEffect)((()=>{null!=W&&(0,p.setTabbarActiveTab)(w.Tab.STICKERS)}),[W]),(0,a.jsx)(x.StickersKeyboardContext.Provider,{value:{setSelectedPack:e=>{if(J&&(Q.current=J),e){const t=U?.get(e);t&&(D.cache.stickersActiveTab.set(e),(e=>{if($(e))return;const t=F?.find((({product:{id:t}})=>t===e));t&&F&&(t.product.is_vmoji&&z?.dot_color&&(0,E.clearVmojiPromotionDot)(),t.product.is_new&&(t.product.is_new=!1,D.cache.stockItems.set(F,{notify:!1}),D.store.updateStickerProductsState({product_ids:String(e),key:"is_new",value:"0"})))})(e))}(0,_.setSelectedPackKey)(e)},prevSelectedPackKey:Z,onStickerSend:r,onUGCEditClick:C,onUGCReportClick:R,onVmojiEditClick:T,onVmojiCreateClick:P,onStockItemGiftClick:N,onStockItemSettingsClick:O,onVmojiSuggestionClick:V,onPopUpPlay:e,noAnimation:G,renderAsStaticImage:H},...M})}},69783:(e,t,r)=>{r.d(t,{StickersKeyboardSelectProvider:()=>o});var a=r(474848),i=r(853603);function o({selectPack:e,...t}){return(0,a.jsx)(i.StickersKeyboardSelectContext.Provider,{value:{selectPack:e},...t})}},412275:(e,t,r)=>{r.d(t,{StickerKeyboardRowBanner:()=>l});var a=r(474848),i=r(327626),o=r(8520),s=r(293721),n=r(294248),c=r(994669);const l=({className:e,...t})=>{const r=(0,s.useStore)(n.$variant);return(0,a.jsx)("div",{className:(0,o.classNames)(e,c.rowVariantModifier[r]),children:(0,a.jsx)(i.Banner,{noPadding:!0,...t})})}},994669:(e,t,r)=>{r.d(t,{StickersKeyboardRow:()=>x,rowVariantModifier:()=>I});var a=r(474848),i=r(293721),o=r(945300),s=r(8520),n=r(296540),c=r(15978),l=r(715288),d=r(235717),u=r(838670),m=r(794310),p=r(718331),k=r(547843),S=r(508952),h=r(720112),b=r(294248),f=r(409875),v=r(445740),_=r(853603),g=r(869343),y=r(893127);const E=new Map([[c.Appearance.LIGHT,d.Theme.LIGHT],[c.Appearance.DARK,d.Theme.DARK]]),I={[b.StickerEmojiKeyboardVariant.WIDE]:y.default.rowWide,[b.StickerEmojiKeyboardVariant.COMPACT]:y.default.rowCompact,[b.StickerEmojiKeyboardVariant.REGULAR]:y.default.rowRegular,[b.StickerEmojiKeyboardVariant.ADAPTIVE]:y.default.rowAdaptive,[b.StickerEmojiKeyboardVariant.SMALL]:y.default.rowSmall},j=32,A=900,w=1500;function x({pack:e,stickers:t,columns:r,className:c,...d}){const x=(0,n.useRef)(),K=(0,n.useCallback)((()=>{clearTimeout(x.current)}),[]),C=(0,v.useAPI)(),T=(0,l.useAppearance)(),{onPopUpPlay:R,noAnimation:P,renderAsStaticImage:N}=(0,_.useStickersKeyboard)(),{addToFavorite:O,removeFromFavorite:V,onStickerSend:G}=(0,_.useStickersKeyboard)(),H=(0,i.useStore)(b.$variant),M=(0,i.useStore)(p.$isVisible),D=(0,i.useStore)(k.$stickersSize),$=(0,i.useStore)(S.$imageConfigs),U=(0,i.useStore)(h.$favoriteStickers),L=(0,i.useStore)(f.$photoEditorStickers),B=(0,n.useMemo)((()=>new Set((L||[]).filter((({vmoji:e})=>!e)).map((({sticker_id:e})=>e)))),[L]);(0,n.useEffect)((()=>(M||K(),()=>{K()})),[M,K]);const F=(t,r=e?.referrer)=>async(e,a)=>{const{isBase:i,rawData:o,isPopup:s}=t;if(s&&K(),G(t,r,a),!i||!o)return;const n=await C.cache.recentStickers.get();if(!n)return;if(-1!==n.findIndex((({sticker_id:e})=>e===t.id)))return;const c=n.length>=j?n.length-j+1:0;n.splice(0,c,{...o,inner_type:"base_sticker_new"}),C.cache.recentStickers.set(n,{notify:!1})},W=(e,t)=>r=>{const{isPopup:a,popupLayers:i}=e;K();const{relatedTarget:o}=r;(!o||o instanceof HTMLElement)&&a&&i&&(0,g.isPopUpStickersEnabled)()&&(x.current=window.setTimeout((()=>{R?.(r,i)}),t))},z=()=>{K()},J=(0,n.useMemo)((()=>t?.map((r=>{if(!t||!$)return;const{id:i,isAllowed:s,isPopup:n}=r,{items:c,default_id:l}=$,d=Boolean(U?.find((({sticker_id:e})=>e===i))),p=B.has(i),k={className:y.default.sticker,name:String(i),size:D,sticker:r,onMouseEnter:W(r,A),onMouseLeave:z,onTouchStart:W(r,w),onTouchEnd:z,theme:E.get(T),configs:c,favorite:d,disabled:!s,defaultConfigId:l,onClick:F(r),noAnimation:P,renderAsStaticImage:N};return p||(k.onFavoriteClick=((t,r)=>{if(!e?.isPack)return()=>{r?V(t):O(t)}})(r,d)),n&&(0,g.isPopUpStickersEnabled)()?(0,a.jsx)(u.StickerRich,{baseStickerProps:k,wrapperProps:{contentClassName:y.default.stickerRichIcon,icon:(0,a.jsx)(o.Icon12PlayCircle,{}),iconPosition:"rightInset"}},i):(0,a.jsx)(m.Sticker,{...k},i)}))||(0,s.createArray)(r).map((e=>(0,a.jsx)(m.Sticker,{className:y.default.sticker,size:D},e)))),[r,t,T,D,U,$]);return(0,a.jsx)("div",{className:(0,s.classNames)(y.default.row,y.default.rowStickers,I[H],c),...d,children:J})}},810822:(e,t,r)=>{r.d(t,{StickersKeyboardRowCard:()=>m});var a=r(474848),i=r(293721),o=r(413784),s=r(220208),n=r(285056),c=r(373080),l=r(994669),d=r(294248),u=r(534667);function m({title:e,image:t,action:r,onHide:m,className:p,...k}){const S=(0,i.useStore)(d.$variant);return(0,a.jsx)("div",{className:l.rowVariantModifier[S],...k,children:(0,a.jsxs)("div",{className:u.default.card,children:[m&&(0,a.jsx)(s.Tappable,{className:u.default.hide,hoverMode:"opacity",activeMode:"opacity",onClick:m,children:(0,a.jsx)(o.Icon24CancelOutline,{})}),t&&(0,a.jsx)("figure",{className:u.default.image,style:{...t,backgroundImage:`url(${t.src})`}}),e&&(0,a.jsx)(n.Title,{className:u.default.title,level:"3",weight:"2",children:(0,a.jsx)(c.InnerHTML,{children:e})}),r&&(0,a.jsx)("div",{className:u.default.action,children:r})]})})}},928349:(e,t,r)=>{r.d(t,{StickersKeyboardUGCRow:()=>m});var a=r(474848),i=r(454154),o=r(1578),s=r(42913),n=r(201846),c=r(129176),l=r(810822),d=r(820643),u=r(853603);function m(){const{translate:e}=(0,o.useLangPack)(),{onUGCEditClick:t}=(0,u.useStickersKeyboard)(),r=(0,s.useHelpHintResource)(n.HelpHintId.STICKERS_UGC_KEYBOARD_ONBOARDING,c.StickersUGCKeyboardOnboardingResourceKey.IMAGE);return(0,a.jsx)(l.StickersKeyboardRowCard,{title:e("stickers_picker_ugc_create_title"),image:{src:r,width:240,height:64},action:t&&(0,a.jsx)(i.Button,{size:"s",mode:"outline",appearance:"accent",onClick:t,children:e("stickers_picker_ugc_create_action")}),onHide:d.hideUGCOnboarding})}},89809:(e,t,r)=>{r.d(t,{StickersKeyboardVmojiRow:()=>k});var a=r(474848),i=r(1578),o=r(715288),s=r(15978),n=r(454154),c=r(42913),l=r(201846),d=r(971377),u=r(810822),m=r(853603),p=r(445740);function k(e){const t=(0,o.useAppearance)(),{translate:r}=(0,i.useLangPack)(),{onVmojiCreateClick:k}=(0,m.useStickersKeyboard)(),S=(0,p.useAPI)(),h=()=>S.cache.reload(),b=(0,c.useHelpHintResource)(l.HelpHintId.KEYBOARD_STICKERS_VMOJI,t===s.Appearance.LIGHT?d.KeyboardStickersVmojiResourceKey.VMOJI_ON_BOARDING_LIGHT:d.KeyboardStickersVmojiResourceKey.VMOJI_ON_BOARDING_DARK);return(0,a.jsx)(u.StickersKeyboardRowCard,{image:{src:b,width:221,height:130},action:k&&(0,a.jsx)(n.Button,{size:"s",mode:"outline",appearance:"accent",onClick:e=>k?.(e,h),children:r("stickers_picker_vmoji_create_character")}),...e})}},936207:(e,t,r)=>{r.d(t,{Tabbar:()=>b});var a=r(474848),i=r(293721),o=r(8520),s=r(296540),n=r(1578),c=r(390768),l=r(352472),d=r(182490),u=r(242189),m=r(93272),p=r(138560),k=r(516413),S=r(229071),h=r(311893);function b({className:e,...t}){const{translate:r}=(0,n.useLangPack)(),{shopIndicatorMode:b,onTabChange:f,onShopClick:v}=(0,S.useStickersEmojiKeyboard)(),_=(0,i.useStore)(m.$visibleTab),{isEmojiActiveTab:g,isStickersActiveTab:y}=(0,i.useStore)(p.$tabbarActiveTabState),E=e=>()=>{(0,p.setTabbarActiveTab)(e),f?.({tab:e})};return(0,s.useEffect)((()=>{_&&(0,p.setTabbarActiveTab)(_)}),[_]),_?null:(0,a.jsxs)("div",{className:(0,o.classNames)(h.default.tabbar,e),...t,children:[(0,a.jsx)(u.TabbarItem,{"data-testid":"sticker-picker-tabbar-item-emoji","aria-label":r("stickers_picker_emoji"),className:h.default.item,active:g,onClick:E(k.Tab.EMOJI),children:(0,a.jsx)(c.Icon24SmileOutline,{})}),(0,a.jsx)(u.TabbarItem,{"data-testid":"sticker-picker-tabbar-item-stickers","aria-label":r("stickers_picker_stickers"),className:h.default.item,active:y,onClick:E(k.Tab.STICKERS),children:(0,a.jsx)(l.Icon24StickerSmileOutline,{})}),v&&(0,a.jsx)(u.TabbarItem,{"data-testid":"sticker-picker-tabbar-item-shop","aria-label":r("stickers_picker_store"),className:h.default.item,indicator:b,onClick:v,children:(0,a.jsx)(d.Icon24StorefrontOutline,{})})]})}},242189:(e,t,r)=>{r.d(t,{TabbarItem:()=>c,TabbarItemIndicator:()=>s});var a=r(474848),i=r(8520),o=r(683255),s=function(e){return e.NONE="none",e.PRIMARY="primary",e.SECONDARY="secondary",e.DESTRUCTIVE="destructive",e}({});const n={none:o.default.indicatorNone,primary:o.default.indicatorPrimary,secondary:o.default.indicatorSecondary,destructive:o.default.indicatorDestructive};function c({active:e,indicator:t="none",className:r,children:s,...c}){return(0,a.jsx)("div",{className:(0,i.classNames)(r,o.default.item,o.default.indicator,n[t],{[o.default.itemActive]:e}),...c,children:s})}},256149:(e,t,r)=>{r.d(t,{View:()=>c});var a=r(474848),i=r(8520),o=r(296540),s=r(207709),n=r(59647);function c({switched:e,children:t,...r}){const c=({target:e})=>{e instanceof HTMLDivElement&&e.dataset.viewPanel&&(0,s.setIsTransitionActive)(!1)};return(0,o.useEffect)((()=>{(0,s.setIsTransitionActive)(!0)}),[e]),(0,a.jsx)("div",{className:n.default.view,...r,children:o.Children.map(t,(t=>(0,o.cloneElement)(t,{"data-view-panel":!0,className:(0,i.classNames)(n.default.panel,{[n.default.panelSwitched]:e}),onTransitionEnd:c})))})}},251763:(e,t,r)=>{r.d(t,{ViewItem:()=>i});var a=r(474848);function i({getRef:e,mounted:t,...r}){return!1===t?null:(0,a.jsx)("div",{ref:e,...r})}},207709:(e,t,r)=>{r.d(t,{$isTransitionActive:()=>o,setIsTransitionActive:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent(),o=a.stickersEmojiKeyboard.createStore(!1).on(i,((e,t)=>t))},695498:(e,t,r)=>{r.d(t,{POPUP_STICKER_CONTAINER_ID:()=>a});const a="popup-sticker-emoji-keyboard-container"},445740:(e,t,r)=>{r.d(t,{useAPI:()=>o});var a=r(293721),i=r(348385);function o(){return(0,a.useStore)(i.$api)}},852305:(e,t,r)=>{r.d(t,{useElementSize:()=>o});var a=r(8520),i=r(296540);function o(){const[e,t]=(0,i.useState)(null),[r,o]=(0,i.useState)({width:0,height:0});return(0,i.useLayoutEffect)((()=>{const t=()=>{o({width:e?.offsetWidth||0,height:e?.offsetHeight||0})};t();const r=(0,a.debounce)(t,150);return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}}),[e]),{setRef:t,...r}}},677363:(e,t,r)=>{r.d(t,{EmojiKeyboardContext:()=>s,useEmojiKeyboard:()=>c});var a=r(296540),i=r(745457),o=r(445740);const s=(0,a.createContext)({}),n=50;function c(){const e=(0,o.useAPI)(),t=(0,a.useContext)(s),{onEmojiInsert:r}=t;return{...t,insertEmoji:t=>{r?.(t),(t=>{const r=new Map(e.cache.recentEmoji.get()),a=r.get(t)||0;r.set(t,a+1);const o=[...r].reverse().slice(0,n);(0,i.setRecentEmoji)(o),e.cache.recentEmoji.set(o)})(t)}}}},895770:(e,t,r)=>{r.d(t,{useGrid:()=>c});var a=r(296540),i=r(293721),o=r(294248),s=r(852305);const n=new Map;function c({tab:e,itemWidth:t,itemsCount:r=0}){const{setRef:c,width:l}=(0,s.useElementSize)(),d=(0,i.useStore)(o.$variant),u=String([e,d]),m=(0,a.useRef)(n.get(u)||{rows:0,columns:0});return{setGridRef:c,...(0,a.useMemo)((()=>{const e=m.current;if(!l)return e;const a=Math.floor(l/t);if(!a||a===e.columns)return e;const i={rows:Math.ceil(r/a),columns:a};return m.current=i,n.set(u,i),i}),[l,u,t,r])}}},472279:(e,t,r)=>{r.d(t,{useHorizontalScroll:()=>o});var a=r(296540),i=r(503078);function o(e){(0,i.useScrollView)(e),(0,a.useEffect)((()=>{const t=e.current;if(!t)return;const r=e=>{t.scrollLeft+=e.deltaY+e.deltaX};return t.addEventListener("wheel",r,{passive:!0}),()=>{t.removeEventListener("wheel",r)}}),[e])}},503078:(e,t,r)=>{r.d(t,{useScrollView:()=>i});var a=r(296540);function i(e){(0,a.useEffect)((()=>{const t=e.current;t&&t.setAttribute("data-scroll-view","")}),[])}},395077:(e,t,r)=>{r.d(t,{useSmoothScroll:()=>s});var a=r(8520),i=r(296540),o=r(524788);function s(e){const t=(0,i.useRef)(0);return{scrollTo:(0,i.useCallback)((0,a.debounce)((({offset:r=0,duration:a=300}={})=>{t.current=Date.now();let i=e.scrollOffset;const s=t.current,n=()=>{if(t.current!==s)return;const c=Date.now()-s,l=(0,o.easeOutQuart)(Math.min(c/a,1)),d=i+(r-i)*l;c<a&&requestAnimationFrame(n),e.scrollToOffset(d)};requestAnimationFrame(n)}),150),[e])}}},229071:(e,t,r)=>{r.d(t,{StickersEmojiKeyboardContext:()=>n,useStickersEmojiKeyboard:()=>c});var a=r(293721),i=r(296540),o=r(242189),s=r(993190);const n=(0,i.createContext)({});function c(){return{...(0,i.useContext)(n),shopIndicatorMode:(0,a.useStore)(s.$storeNewItemsCount)?o.TabbarItemIndicator.DESTRUCTIVE:void 0}}},853603:(e,t,r)=>{r.d(t,{StickersKeyboardContext:()=>c,StickersKeyboardSelectContext:()=>d,useStickersKeyboard:()=>l,useStickersKeyboardSelect:()=>u});var a=r(293721),i=r(296540),o=r(939659),s=r(720112),n=r(445740);const c=(0,i.createContext)({});function l(){const e=(0,n.useAPI)(),t=(0,a.useStore)(s.$favoriteStickers),{packsGroups:r}=(0,a.useStore)(o.$packs);return{...(0,i.useContext)(c),addToFavorite:async({id:r,isBase:a,rawData:i})=>{if(!a)return;const o=await e.cache.global.get();if(!o)return;const{favorite_stickers_limit:n}=o;if(e.store.addStickersToFavorite({sticker_ids:String(r)}),!t)return;const c=[i,...t].slice(0,n);(0,s.setFavoriteStickers)(c),e.cache.favoriteStickers.set(c)},getGroupIndex:e=>e?r?.findIndex((t=>(Array.isArray(t)||(t=[t]),t.includes(e)))):void 0,removeFromFavorite:async({id:r,isBase:a})=>{if(!a)return;if(e.store.removeStickersFromFavorite({sticker_ids:String(r)}),!t)return;const i=t.findIndex((e=>e.sticker_id===r));if(!(-1!==i))return;const o=[...t];o.splice(i,1),(0,s.setFavoriteStickers)(o),e.cache.favoriteStickers.set(o)},isServiceStockItem:e=>null!=e&&e<0,isGroupedStockItem:e=>r&&void 0!==e&&!r.includes(e)}}const d=(0,i.createContext)({});function u(){return(0,i.useContext)(d)}},192641:(e,t,r)=>{r.d(t,{useSticky:()=>o});var a=r(296540),i=r(842468);function o({rows:e}){const t=(0,a.useRef)(0),r=(0,a.useMemo)((()=>e.reduce(((e,{sticky:t},r)=>(t&&e.push(r),e)),[])),[e]);return{isSticky:e=>t.current===e,rangeExtractor:(0,a.useCallback)((e=>{t.current=[...r].reverse().find((t=>e.startIndex>=t))||0;return[...new Set([t.current,...(0,i.defaultRangeExtractor)(e)])].sort(((e,t)=>e-t))}),[r])}}},722098:(e,t,r)=>{r.d(t,{useAvatarSuggestion:()=>y});var a=r(474848),i=r(293721),o=r(8520),s=r(296540),n=r(348385),c=r(718331),l=r(185564),d=r(138560),u=r(547773),m=r(123789),p=r(49344),k=r(714573),S=r(267513),h=r(412275),b=r(516413),f=r(43561),v=r(119801),_=r(853603),g=r(976412);const y=()=>{const{onVmojiSuggestionClick:e}=(0,_.useStickersKeyboard)(),t=(0,i.useStore)(n.$api),r=(0,i.useStore)(c.$isVisible),y=(0,i.useStore)(d.$tabbarActiveTab),E=(0,i.useStore)(l.$avatarSuggestion),I=(0,i.useStore)(u.$avatarSuggestionTab),j=(0,i.useStore)(d.$tabbarActiveTabState),A=(0,i.useStore)(m.$avatarSuggestionBannerPackIndex),w=(0,i.useStore)(p.$avatarSuggestionIsViewed),x=(0,i.useStore)(g.$avatarSuggestionDisabled);(0,s.useEffect)((()=>{r||((0,m.setAvatarSuggestionPackIndex)(null),(0,u.setAvatarSuggestionTab)(null),(0,p.setAvatarSuggestionIsViewed)(!1),(0,g.setAvatarSuggestionDisabled)(!1))}),[r]);const K=(0,s.useCallback)((0,o.debounce)((e=>{(0,m.setAvatarSuggestionPackIndex)(e)}),100),[]),C=(0,s.useCallback)((0,o.debounce)((e=>(0,u.setAvatarSuggestionTab)(e)),100),[]),T=(0,s.useCallback)((0,o.debounce)((e=>(0,g.setAvatarSuggestionDisabled)(e)),100),[]),R=i=>{if(!e||x)return null;if(!r||w||!Boolean(E)&&t.cache.reloading||(0,p.setAvatarSuggestionIsViewed)(!0),!E||null===i)return null;null===I&&C(y),null===A&&K(i);const o=j.isStickersActiveTab?h.StickerKeyboardRowBanner:S.EmojiKeyboardRowBanner;return(0,a.jsx)(k.AvatarSuggestionRow,{Component:o},E.id)};return{getAvatarSuggestionStickerRow:(e,t=!1)=>{if(I&&I!==b.Tab.STICKERS||y!==b.Tab.STICKERS)return null;if(x||T(t),t)return null;const r=R(e);return r?{type:v.StickersKeyboardElementType.ROW,element:r}:null},getAvatarSuggestionEmojiRow:e=>{if(I&&I!==b.Tab.EMOJI||y!==b.Tab.EMOJI)return null;const t=R(e);return t?{type:f.EmojiKeyboardElementType.ROW,element:t}:null},bannerPackIndex:A,avatarSuggestion:E,avatarSuggestionTab:I}}},252691:(e,t,r)=>{r.d(t,{useCalculateSelectedEmojiPackIndex:()=>s});var a=r(296540),i=r(293721),o=r(830922);const s=(e,t)=>{const{range:r}=e,s=(0,i.useStore)(o.$selectedEmojiPackIndex);(0,a.useEffect)((()=>{const r=e.calculateRange();if(!r)return;const{startIndex:a}=r,i=t.findIndex((e=>e>=a)),n=i-1,c=t[i],l=t[n],d=Math.abs(l-a)<Math.abs(c-a)?n:i;s!==d&&(0,o.setSelectedEmojiPackIndex)(d)}),[r,t])}},745457:(e,t,r)=>{r.d(t,{setRecentEmoji:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent();a.stickersEmojiKeyboard.createStore(null).on(i,((e,t)=>t))},291915:(e,t,r)=>{r.d(t,{$selectedEmoji:()=>o,setSelectedEmoji:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent(),o=a.stickersEmojiKeyboard.createStore(null).on(i,((e,t)=>t))},830922:(e,t,r)=>{r.d(t,{$selectedEmojiPackIndex:()=>o,setSelectedEmojiPackIndex:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent(),o=a.stickersEmojiKeyboard.createStore(0).on(i,((e,t)=>t))},485797:(e,t,r)=>{r.d(t,{$emojiPadding:()=>c});var a=r(32489),i=r(175325),o=r(294248);const s={[o.StickerEmojiKeyboardVariant.WIDE]:9,[o.StickerEmojiKeyboardVariant.COMPACT]:8,[o.StickerEmojiKeyboardVariant.REGULAR]:12,[o.StickerEmojiKeyboardVariant.ADAPTIVE]:9,[o.StickerEmojiKeyboardVariant.SMALL]:8},n=i.stickersEmojiKeyboard.createEvent(),c=i.stickersEmojiKeyboard.createStore(s[o.DEFAULT_VARIANT]);(0,a.sample)({clock:o.setVariantOptions,source:o.$variant,fn:e=>s[e],target:n})},976412:(e,t,r)=>{r.d(t,{$avatarSuggestionDisabled:()=>o,setAvatarSuggestionDisabled:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent(),o=a.stickersEmojiKeyboard.createStore(!1).on(i,((e,t)=>t))},185564:(e,t,r)=>{r.d(t,{$avatarSuggestion:()=>l,getAvatarSuggestionFromCache:()=>n,setAvatarSuggestion:()=>s});var a=r(32489),i=r(348385),o=r(175325);const s=o.stickersEmojiKeyboard.createEvent(),n=o.stickersEmojiKeyboard.createEvent(),c=o.stickersEmojiKeyboard.createEffect((async e=>{const t=await e.cache.avatarSuggestion.get();s(t)})),l=o.stickersEmojiKeyboard.createStore(null).on(s,((e,t)=>t));(0,a.sample)({clock:n,source:i.$api,target:c})},49344:(e,t,r)=>{r.d(t,{$avatarSuggestionIsViewed:()=>l,setAvatarSuggestionIsViewed:()=>c});var a=r(32489),i=r(488442),o=r(175325),s=r(895380),n=r(869343);const c=o.stickersEmojiKeyboard.createEvent(),l=o.stickersEmojiKeyboard.createStore(!1).on(c,((e,t)=>t));(0,a.sample)({clock:c,filter:e=>e&&(0,n.isPromoVmojiCounterEnabled)(),fn:()=>s.HelpHintPromoTypes.VMOJI_AVATAR_SUGGESTION,target:i.markAsViewedHelpHint})},123789:(e,t,r)=>{r.d(t,{$avatarSuggestionBannerPackIndex:()=>o,setAvatarSuggestionPackIndex:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent(),o=a.stickersEmojiKeyboard.createStore(null).on(i,((e,t)=>t))},547773:(e,t,r)=>{r.d(t,{$avatarSuggestionTab:()=>o,setAvatarSuggestionTab:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent(),o=a.stickersEmojiKeyboard.createStore(null).on(i,((e,t)=>t))},96270:(e,t,r)=>{r.d(t,{hideHelpHint:()=>s});var a=r(32489),i=r(348385),o=r(175325);const s=o.stickersEmojiKeyboard.createEvent(),n=o.stickersEmojiKeyboard.createEffect((({api:e,hintId:t})=>e.cache.hideHelpHint(t)));(0,a.sample)({clock:s,source:i.$api,fn:(e,t)=>({api:e,hintId:t}),target:n})},488442:(e,t,r)=>{r.d(t,{markAsViewedHelpHint:()=>s});var a=r(32489),i=r(348385),o=r(175325);const s=o.stickersEmojiKeyboard.createEvent(),n=o.stickersEmojiKeyboard.createEffect((({api:e,promoId:t})=>{e.cache.markHelpHintAsViewed(t)}));(0,a.sample)({clock:s,source:i.$api,fn:(e,t)=>({api:e,promoId:t}),target:n})},814950:(e,t,r)=>{r.d(t,{setChatPeer:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent();a.stickersEmojiKeyboard.createStore(null).on(i,((e,t)=>t))},305390:(e,t,r)=>{r.d(t,{$peerId:()=>n,PeerGate:()=>c});var a=r(32489),i=r(293721),o=r(175325);const s=o.stickersEmojiKeyboard.createEvent(),n=o.stickersEmojiKeyboard.createStore(null).on(s,((e,{peerId:t})=>t||null)),c=(0,i.createGate)();(0,a.forward)({from:c.state,to:s})},559735:(e,t,r)=>{r.d(t,{$userPeer:()=>o,setUserPeer:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent(),o=a.stickersEmojiKeyboard.createStore(null).on(i,((e,t)=>t))},508952:(e,t,r)=>{r.d(t,{$imageConfigs:()=>o,setImageConfigs:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent(),o=a.stickersEmojiKeyboard.createStore(null).on(i,((e,t)=>t))},539945:(e,t,r)=>{r.d(t,{$activePackKey:()=>n,ActivePackKeyGate:()=>c,setActivePackKeyOptions:()=>s});var a=r(32489),i=r(293721),o=r(175325);const s=o.stickersEmojiKeyboard.createEvent(),n=o.stickersEmojiKeyboard.createStore(null).on(s,((e,{activePackKey:t})=>t)),c=(0,i.createGate)();(0,a.forward)({from:c.state,to:s})},591454:(e,t,r)=>{r.d(t,{$selectedPackKey:()=>o,setSelectedPackKey:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent(),o=a.stickersEmojiKeyboard.createStore(null).on(i,((e,t)=>t))},948926:(e,t,r)=>{r.d(t,{$stockItemsAvailableToGift:()=>o,setStockItemsAvailableToGift:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent(),o=a.stickersEmojiKeyboard.createStore(null).on(i,((e,t)=>t))},993190:(e,t,r)=>{r.d(t,{$storeNewItemsCount:()=>o,setStoreNewItemsCount:()=>i});var a=r(175325);const i=a.stickersEmojiKeyboard.createEvent(),o=a.stickersEmojiKeyboard.createStore(0).on(i,((e,t)=>t))},820643:(e,t,r)=>{r.d(t,{hideUGCOnboarding:()=>n});var a=r(32489),i=r(348385),o=r(969102),s=r(175325);const n=s.stickersEmojiKeyboard.createEvent(),c=s.stickersEmojiKeyboard.createEffect((e=>e.cache.hideUGCOnboarding()));(0,a.sample)({clock:n,source:i.$api,target:c}),(0,a.sample)({source:c.doneData,filter:e=>e,target:o.reloadUGCInfo})},547843:(e,t,r)=>{r.d(t,{$stickersHorizontalGap:()=>m,$stickersKeyboardVerticalOrder:()=>p,$stickersSize:()=>d,$stickersVerticalGap:()=>u});var a=r(32489),i=r(175325),o=r(294248);const s={[o.StickerEmojiKeyboardVariant.WIDE]:86,[o.StickerEmojiKeyboardVariant.COMPACT]:80,[o.StickerEmojiKeyboardVariant.REGULAR]:92,[o.StickerEmojiKeyboardVariant.ADAPTIVE]:86,[o.StickerEmojiKeyboardVariant.SMALL]:72},n={[o.StickerEmojiKeyboardVariant.WIDE]:8,[o.StickerEmojiKeyboardVariant.COMPACT]:6,[o.StickerEmojiKeyboardVariant.REGULAR]:8,[o.StickerEmojiKeyboardVariant.ADAPTIVE]:8,[o.StickerEmojiKeyboardVariant.SMALL]:6},c={[o.StickerEmojiKeyboardVariant.WIDE]:6,[o.StickerEmojiKeyboardVariant.COMPACT]:8,[o.StickerEmojiKeyboardVariant.REGULAR]:8,[o.StickerEmojiKeyboardVariant.ADAPTIVE]:6,[o.StickerEmojiKeyboardVariant.SMALL]:8},l={[o.StickerEmojiKeyboardVariant.WIDE]:"column",[o.StickerEmojiKeyboardVariant.COMPACT]:"column",[o.StickerEmojiKeyboardVariant.REGULAR]:"column",[o.StickerEmojiKeyboardVariant.SMALL]:"column",[o.StickerEmojiKeyboardVariant.ADAPTIVE]:"column-reverse"},d=(i.stickersEmojiKeyboard.createEvent(),i.stickersEmojiKeyboard.createEvent(),i.stickersEmojiKeyboard.createEvent(),i.stickersEmojiKeyboard.createStore(s[o.DEFAULT_VARIANT])),u=i.stickersEmojiKeyboard.createStore(c[o.DEFAULT_VARIANT]),m=i.stickersEmojiKeyboard.createStore(n[o.DEFAULT_VARIANT]),p=i.stickersEmojiKeyboard.createStore(l[o.DEFAULT_VARIANT]);(0,a.sample)({clock:o.setVariantOptions,source:o.$variant,fn:e=>s[e],target:d}),(0,a.sample)({clock:o.setVariantOptions,source:o.$variant,fn:e=>c[e],target:u}),(0,a.sample)({clock:o.setVariantOptions,source:o.$variant,fn:e=>n[e],target:m}),(0,a.sample)({clock:o.setVariantOptions,source:o.$variant,fn:e=>l[e],target:p})},699212:(e,t,r)=>{r.d(t,{$vmojiPromotion:()=>l,clearVmojiPromotionDot:()=>n,setVmojiPromotion:()=>s});var a=r(32489),i=r(348385),o=r(175325);const s=o.stickersEmojiKeyboard.createEvent(),n=o.stickersEmojiKeyboard.createEvent(),c=o.stickersEmojiKeyboard.createEffect((async({api:e,vmojiPromotion:t})=>{if(t)return e.cache.clearVmojiPromotionDot()})),l=o.stickersEmojiKeyboard.createStore(null).on(s,((e,t)=>t)).on(c.doneData,(e=>({...e,dot_color:void 0}))),d=(0,a.combine)(i.$api,l,((e,t)=>({api:e,vmojiPromotion:t})));(0,a.sample)({clock:n,source:d,target:c})},294248:(e,t,r)=>{r.d(t,{$variant:()=>l,DEFAULT_VARIANT:()=>c,StickerEmojiKeyboardVariant:()=>s,VariantGate:()=>d,setVariantOptions:()=>n});var a=r(32489),i=r(293721),o=r(175325),s=function(e){return e.WIDE="wide",e.COMPACT="compact",e.REGULAR="regular",e.ADAPTIVE="adaptive",e.SMALL="small",e}({});const n=o.stickersEmojiKeyboard.createEvent(),c="wide",l=o.stickersEmojiKeyboard.createStore(c).on(n,((e,{variant:t})=>t)),d=(0,i.createGate)();(0,a.forward)({from:d.state,to:n})},718331:(e,t,r)=>{r.d(t,{$isVisible:()=>n,VisibleGate:()=>c});var a=r(32489),i=r(293721),o=r(175325);const s=o.stickersEmojiKeyboard.createEvent(),n=o.stickersEmojiKeyboard.createStore(!1).on(s,((e,{isVisible:t})=>t)),c=(0,i.createGate)();(0,a.forward)({from:c.state,to:s})},93272:(e,t,r)=>{r.d(t,{$visibleTab:()=>c,$visibleTabState:()=>l,VisibleTabGate:()=>d});var a=r(293721),i=r(32489),o=r(175325),s=r(516413);const n=o.stickersEmojiKeyboard.createEvent(),c=o.stickersEmojiKeyboard.createStore(null).on(n,((e,{visibleTab:t})=>t??null)),l=(0,i.combine)(c,(e=>({isEmojiVisibleTab:e===s.Tab.EMOJI,isStickersVisibleTab:e===s.Tab.STICKERS}))),d=(0,a.createGate)();(0,i.forward)({from:d.state,to:n})},524788:(e,t,r)=>{function a(e){return 1-Math.pow(1-e,4)}r.d(t,{easeOutQuart:()=>a})},974280:(e,t,r)=>{function a(e){return encodeURIComponent(e.replace(/\uFE0F/giu,"")).replace(/%/gi,"").toLowerCase()}r.d(t,{unicodeToByteHex:()=>a})},838670:(e,t,r)=>{r.d(t,{StickerRich:()=>l});var a=r(474848),i=r(794310),o=r(673953),s=r(308409),n=r(216670),c=r(486325);function l({baseStickerProps:e,wrapperProps:t,popupProps:r}){var l;const{sticker:d}=e,u=(0,n.getStickerContext)(d);e.sticker=u,(l=t).icon??(l.icon=(0,c.getDefaultIcon)(d));const m=(0,a.jsx)(i.Sticker,{...e}),{isUGC:p,isPopup:k}=u;return k?(0,a.jsx)(o.PopupWrapper,{wrapperProps:t,...r,children:m}):p?(0,a.jsx)(s.Wrapper,{...t,children:m}):m}},673953:(e,t,r)=>{r.d(t,{PopupWrapper:()=>n});var a=r(474848),i=r(8520),o=r(308409),s=r(741739);function n({wrapperProps:e,isAnimationPlaying:t,children:r}){return(0,a.jsx)(o.Wrapper,{...e,contentClassName:(0,i.classNames)(e.contentClassName,{[s.default.iconAnimated]:Boolean(e?.onContentClick)}),stickerContainerClassName:(0,i.classNames)(e.stickerContainerClassName,{[s.default.stickerAnimationIsPlaying]:t}),children:r})}},308409:(e,t,r)=>{r.d(t,{Wrapper:()=>n});var a=r(474848),i=r(220208),o=r(8520),s=r(113331);function n({icon:e,children:t,iconPosition:r,iconWrapperRef:n,onContentClick:c,contentClassName:l="",wrapperClassName:d="",stickerContainerClassName:u="",buttonAriaLabel:m}){const p=function(e="rightInset"){let t={wrapper:"",stickerWrapper:"",icon:""};switch(e){case"leftAbsolute":return{...t,icon:(0,o.classNames)(s.default.iconAbsolute,s.default.iconAbsoluteLeft)};case"rightAbsolute":return{...t,icon:(0,o.classNames)(s.default.iconAbsolute,s.default.iconAbsoluteRight)};case"leftInset":return{...t,icon:(0,o.classNames)(s.default.iconAbsolute,s.default.iconAbsoluteInsetLeft)};case"rightInset":return{...t,icon:(0,o.classNames)(s.default.iconAbsolute,s.default.iconAbsoluteInsetRight)};case"leftRelative":return{...t,wrapper:(0,o.classNames)(s.default.wrapperFlex,s.default.wrapperFlexLeft),icon:(0,o.classNames)(s.default.iconRelative,s.default.iconRelativeLeft)};case"rightRelative":return{...t,wrapper:(0,o.classNames)(s.default.wrapperFlex,s.default.wrapperFlexRight),icon:(0,o.classNames)(s.default.iconRelative,s.default.iconRelativeRight)};default:return t}}(r);return(0,a.jsxs)("div",{"data-testid":"sticker-rich-wrapper",className:(0,o.classNames)(s.default.wrapper,p.wrapper,d),children:[(0,a.jsx)("div",{"data-testid":"sticker-rich-sticker-wrapper",className:(0,o.classNames)(u,p.stickerWrapper),children:t}),(0,a.jsx)("div",{"data-testid":"sticker-rich-icon-wrapper",className:(0,o.classNames)(s.default.icon,p.icon,l),children:(0,a.jsx)(i.Tappable,{hoverMode:"opacity",activeMode:"opacity",disabled:!c,getRootRef:n,onClick:c,"aria-label":m,children:e})})]})}},486325:(e,t,r)=>{r.d(t,{getDefaultIcon:()=>s});var a=r(474848),i=r(171741),o=r(216670);const s=e=>{const t=(0,o.getStickerContext)(e),{isUGC:r}=t;return r?(0,a.jsx)(i.Icon20UgcChatStickerCircleFillBlackAlpha,{}):null}},171741:(e,t,r)=>{r.d(t,{Icon20UgcChatStickerCircleFillBlackAlpha:()=>a});var a=(0,r(844990).makeIcon)("Icon20UgcChatStickerCircleFillBlackAlpha","ugc_chat_sticker_circle_fill_black_alpha_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="ugc_chat_sticker_circle_fill_black_alpha_20"><rect width="20" height="20" fill="#000" fill-opacity=".35" rx="10" /><path fill="#fff" d="M9.47 4v2.286c0 2.612 2.105 4.728 4.702 4.728h1.986c-.832 1.797-3.026 3.515-5.655 3.515a6.8 6.8 0 0 1-1.703-.216 12 12 0 0 1-1.896 1.34q-.173.098-.401.21l-.159.078a.604.604 0 0 1-.802-.275.58.58 0 0 1-.017-.477 9 9 0 0 0 .225-.61q.264-.826.404-1.699C5.128 11.93 4.5 10.644 4.5 9.23 4.5 6.599 6.632 4.416 9.47 4m1.4.318v1.968a3.31 3.31 0 0 0 3.302 3.32H16.5z" /></symbol>',20,20,!1,void 0)},730617:(e,t,r)=>{r.d(t,{Icon24VmojiOutline:()=>a});var a=(0,r(844990).makeIcon)("Icon24VmojiOutline","vmoji_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="vmoji_outline_24"><path d="M9.998 2.9a.9.9 0 0 1-.9.9A5.306 5.306 0 0 0 3.8 9.107.9.9 0 0 1 2 9.1C2.005 5.185 5.18 2 9.098 2a.9.9 0 0 1 .9.9M8.5 9.549a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m5.956.754c.872-.445 1.878-.445 2.764.308a.766.766 0 0 1 .063 1.125.88.88 0 0 1-1.192.06l-.085-.066c-.252-.177-.477-.163-.748-.025a1 1 0 0 0-.149.09l-.083.063a.88.88 0 0 1-1.11-.122.766.766 0 0 1 .063-1.125c.106-.09.266-.2.477-.309Zm-.1 4.692c.1-.543-.354-.995-.906-.995h-2.9c-.552 0-1.006.451-.906.995.026.138.057.26.093.347a2.44 2.44 0 0 0 1.325 1.322c.298.123.616.188.938.188a2.46 2.46 0 0 0 2.264-1.51 2 2 0 0 0 .092-.347M2 14.901a.9.9 0 0 1 1.8-.008A5.306 5.306 0 0 0 9.098 20.2a.9.9 0 1 1 0 1.8C5.178 22 2.005 18.815 2 14.901M14.002 2.9a.9.9 0 0 0 .9.9A5.306 5.306 0 0 1 20.2 9.107a.9.9 0 0 0 .9.892.91.91 0 0 0 .9-.9C21.995 5.185 18.821 2 14.902 2a.9.9 0 0 0-.9.9M21.1 14.001a.9.9 0 0 0-.9.892 5.306 5.306 0 0 1-5.298 5.307.9.9 0 1 0 0 1.8c3.92 0 7.093-3.185 7.098-7.099 0-.49-.41-.9-.9-.9" /></symbol>',24,24,!1,void 0)},282282:(e,t,r)=>{r.d(t,{login:()=>S});var a=r(458285),i=r(14870),o=r(356781),s=r(395889),n=r(731801),c=/\d+:[a-zA-Z_]+:login:auth/,l=new s.Retries,d={domain:"login.vk.com",maxRetries:3};var u,m,p=new Map,k=new Map;function S(e,t,r,s,c){void 0===r&&(r={}),void 0===s&&(s=!1),void 0===c&&(c={});var u=Object.assign({},d,r),m=u.appId+":"+e+":login:auth",b=m+"--request",f=p.get(b);if(f)return f.get();var v=l.get(b)||l.create(b,u.maxRetries);return f=new n.default,p.set(b,f),(0,o.waitRequestFromOtherTabs)(b).then((function(){return(0,o.waitTimeExp)(v.get())})).then((function(){var n=!k.get(b)||s,d=(0,o.loadCache)(m);if(!n&&(null==d?void 0:d.expires)&&(0,o.checkAuthExpires)(Number(d.expires)))return(0,i.removeItemFromStorage)(b),p.delete(b),f.resolve(d);var _,g=u.domain,y=u.onCaptcha,E="https://"+g+"/?act="+e,I={version:(_=u).version||o.VERSION,app_id:_.appId},j=Object.assign({},t,I,{access_token:null==d?void 0:d.access_token});h(e,r),(0,a.c)(E,j,c).then((function(o){var s;if("error"in o&&(o=function(e){var t,r=e.error,a=r.captcha_sid,i=r.captcha_img,o=r.error_code,s=r.error_msg;switch(o){case 14:t={type:"captcha",captcha_type:"regular",captcha_sid:a,captcha_img:i};break;case 6:t={type:"error",error_info:"check result failure",error_code:String(o)};break;default:t={type:"error",error_info:s,error_code:String(o)}}return t}(o)),"error"===o.type)return p.delete(b),"check result failure"===o.error_info?v.isExceeded()?(l.delete(b),f.reject({type:"login_error",error:{error_code:0,error_msg:"Maximum of login retries exceeded"}})):(v.increment(),S(e,t,r).then(f.resolve).catch(f.reject)):(l.delete(b),f.reject({type:"login_error",error:o.error_info,errorCode:null!==(s=o.error_code)&&void 0!==s?s:"unknown_error"}));if(l.delete(b),"captcha"===o.type){if(!y)return f.reject({type:"login_error",error:"captcha"});var n=o.captcha_sid,c=o.captcha_img,d=o.captcha_type;return y({captcha_sid:n,captcha_img:c,captcha_type:d}).then((function(a){var i=Object.assign({},t,a);return p.delete(b),S(e,i,r).then(f.resolve).catch(f.reject)}))}var u=o.data.expires||1/0;(0,i.setItemToStorage)(m,JSON.stringify((0,a._)((0,a._)({},o.data),{expires:u}))),(0,i.removeItemFromStorage)(b),k.set(b,!0),p.delete(b),f.resolve(o.data)}),(function(e){l.delete(b),p.delete(b),f.reject({type:"network_error",error:e})}))})),f.get()}function h(e,t){if(e){var r=d;t&&(r=Object.assign({},d,t));var a=r.appId+":"+e+":login:auth";(0,i.removeItemFromStorage)(a)}else Object.keys(localStorage).forEach((function(e){c.test(e)&&(0,i.removeItemFromStorage)(e)}))}(m=u||(u={})).PASSWORD_CONFIRMATION_REQUIRED="password_confirmation_required",m.PHONE_VALIDATION_REQUIRED="phone_validation_required",m.USER_ALREADY_HAS_EXTERNAL_BINDING="user_already_has_external_binding"},356781:(e,t,r)=>{r.d(t,{VERSION:()=>i,checkAuthExpires:()=>o,loadCache:()=>n,waitRequestFromOtherTabs:()=>s,waitTimeExp:()=>c});r(458285);var a=r(14870),i="1";function o(e){return 1e3*e-Date.now()>=6e4}var s=function(e){return new Promise((function(t){null===(0,a.getItemFromStorage)(e)?((0,a.setItemToStorage)(e,"1"),t()):setTimeout(t,function(e,t){return~~(Math.random()*(t-e+1)+e)}(500,1500))}))},n=function(e){var t=(0,a.getItemFromStorage)(e),r={};if(t)try{r=JSON.parse(t)}catch(e){}return r};function c(e){return 0===e?Promise.resolve():new Promise((function(t){var r=function(e){if(0===e)return 0;var t=Math.random(),r=100*Math.pow(2,e)/2;return r+r*t}(e);setTimeout((function(){return t()}),r)}))}},731801:(e,t,r)=>{r.d(t,{default:()=>a});const a=function(){var e=this;this.get=function(){return e.promise},this.resolve=function(t){return e.resolveHandler(t)},this.reject=function(t){return e.rejectHandler(t)},this.promise=new Promise((function(t,r){e.resolveHandler=t,e.rejectHandler=r}))}},395889:(e,t,r)=>{r.d(t,{Retries:()=>i});var a=function(e){var t=this;void 0===e&&(e=1/0),this.tries=0,this.increment=function(){t.tries++},this.get=function(){return t.tries},this.isExceeded=function(){return t.tries>=t.maxTries},this.maxTries=e},i=function(){var e=this;this.retries=new Map,this.get=function(t){return e.retries.get(t)},this.create=function(t,r){return e.retries.set(t,new a(r)),e.retries.get(t)},this.delete=function(t){e.retries.delete(t)}}},14870:(e,t,r)=>{r.d(t,{getItemFromStorage:()=>i,removeItemFromStorage:()=>o,setItemToStorage:()=>a});var a=function(e,t){try{localStorage.setItem(e,t)}catch(e){}},i=function(e){try{return localStorage.getItem(e)}catch(e){}},o=function(e){try{localStorage.removeItem(e)}catch(e){}}},458285:(e,t,r)=>{r.d(t,{_:()=>a,c:()=>o,m:()=>i});var a=function(){return(a=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e){return Object.keys(e).map((function(t){var r=e[t];return(t=encodeURIComponent(t||""))+"="+encodeURIComponent(r||"")})).join("&")}function o(e,t,r){void 0===r&&(r={});var o=i(t);return fetch(e,a({method:"POST",body:o,mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"}},r)).then((function(e){return e.json()}))}},465028:(e,t,r)=>{r.d(t,{Icon12CheckCircleFill:()=>a});var a=(0,r(844990).makeIcon)("Icon12CheckCircleFill","check_circle_fill_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 12" id="check_circle_fill_12"><path fill="#99a2ad" d="M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12" /><path fill="#fff" fill-rule="evenodd" d="M8.78 3.97a.75.75 0 0 1 0 1.06L5.53 8.28a.75.75 0 0 1-1.06 0L3.22 7.03a.75.75 0 0 1 1.06-1.06l.72.72 2.72-2.72a.75.75 0 0 1 1.06 0" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},945300:(e,t,r)=>{r.d(t,{Icon12PlayCircle:()=>a});var a=(0,r(844990).makeIcon)("Icon12PlayCircle","play_circle_12","0 0 12 12",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 12 12" id="play_circle_12"><path fill-rule="evenodd" d="M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12M4.592 3.323a.4.4 0 0 0-.592.35v4.653a.4.4 0 0 0 .592.351l4.264-2.326a.4.4 0 0 0 0-.702z" clip-rule="evenodd" /></symbol>',12,12,!1,void 0)},20115:(e,t,r)=>{r.d(t,{Icon16ChevronOutline:()=>a});var a=(0,r(844990).makeIcon)("Icon16ChevronOutline","chevron_outline_16","0 0 12 16",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 16" id="chevron_outline_16"><path fill="currentColor" fill-rule="evenodd" d="M4.22 3.47a.75.75 0 0 1 1.06 0l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 0 1-1.06-1.06L7.69 8 4.22 4.53a.75.75 0 0 1 0-1.06" clip-rule="evenodd" /></symbol>',12,16,!1,void 0)},185372:(e,t,r)=>{r.d(t,{Icon20BrushOutline:()=>a});var a=(0,r(844990).makeIcon)("Icon20BrushOutline","brush_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20" id="brush_outline_20"><path fill-rule="evenodd" d="M6.667 12.493c-1.006 0-1.77.77-1.814 1.726-.064 1.352-.707 2.16-1.285 2.65.528.155 1.268.213 2.226-.072 1.903-.567 2.687-1.724 2.687-2.613 0-.897-.775-1.69-1.814-1.69ZM3.36 14.148a3.295 3.295 0 0 1 3.308-3.156c1.791 0 3.31 1.392 3.31 3.192 0 1.806-1.499 3.38-3.758 4.052-2.157.642-3.64-.025-4.348-.548a.9.9 0 0 1-.293-.353.84.84 0 0 1-.036-.614c.15-.46.637-.658.987-.938.382-.305.789-.761.83-1.635M15.702 2.001a1.61 1.61 0 0 1 2.261-.07 1.69 1.69 0 0 1 .17 2.287l-6.08 7.498a.746.746 0 0 1-1.052.108.753.753 0 0 1-.108-1.056l6.074-7.491a.185.185 0 0 0-.017-.242c-.067-.061-.133-.026-.202.04L9.745 9.783a.746.746 0 0 1-1.057-.025.753.753 0 0 1 .025-1.061z" clip-rule="evenodd" /></symbol>',20,20,!1,void 0)},642584:(e,t,r)=>{r.d(t,{Icon20GiftOutline:()=>a});var a=(0,r(844990).makeIcon)("Icon20GiftOutline","gift_outline_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="gift_outline_20"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v20H0z" /><path fill="currentColor" fill-rule="nonzero" d="M14.846 2.314c1.026 1.026 1.23 2.875-.257 4.186h.911a3 3 0 0 1 3 3v.49c0 .827-.093 1.16-.267 1.487-.174.326-.43.582-.756.756a1.9 1.9 0 0 1-.477.182v1.618c0 1.56-.162 2.126-.467 2.696a3.2 3.2 0 0 1-1.324 1.324l-.202.101c-.48.224-1.037.349-2.229.364l-5.291.002c-1.56 0-2.126-.162-2.696-.467a3.2 3.2 0 0 1-1.324-1.324l-.101-.202c-.224-.48-.349-1.037-.364-2.229L3 12.415a1.9 1.9 0 0 1-.477-.182 1.8 1.8 0 0 1-.756-.756c-.16-.299-.251-.605-.265-1.29L1.5 9.5a3 3 0 0 1 3-3h.911c-1.487-1.31-1.283-3.16-.257-4.186C6.369 1.099 8.738 1.038 10 3.569c1.262-2.531 3.631-2.47 4.846-1.255M9.25 12.499 4.5 12.5l.001 1.762.009.399c.021.604.083.924.202 1.2l.078.161q.246.462.708.708l.162.078c.33.143.724.203 1.598.211l1.991-.001zm6.251.001-4.751-.001v4.519l1.993.001.399-.009c.604-.021.924-.083 1.2-.202l.161-.078a1.7 1.7 0 0 0 .708-.708c.186-.348.267-.688.286-1.551l.004-.438zM9.159 7.999 4.5 8A1.5 1.5 0 0 0 3 9.5v.638l.007.232c.012.227.037.315.083.4a.32.32 0 0 0 .14.14c.11.059.223.085.632.09l5.387-.001.002-3L9.16 8zM15.5 8l-4.661-.001h-.09v3h5.39c.408-.004.521-.03.63-.089a.32.32 0 0 0 .141-.14c.065-.122.09-.248.09-.78V9.5A1.5 1.5 0 0 0 15.5 8M9.223 6.159c-.43-3.101-1.96-3.834-3.009-2.785C5.165 4.424 5.898 5.952 9 6.384l.257.032Zm1.554 0-.024.191.007.062.241-.029c3.101-.43 3.834-1.96 2.785-3.009-1.05-1.049-2.578-.316-3.01 2.785" /></g></symbol>',20,20,!1,void 0)},797110:(e,t,r)=>{r.d(t,{Icon20More:()=>a});var a=(0,r(844990).makeIcon)("Icon20More","more_20","0 0 20 20",'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20" id="more_20"><path fill="currentColor" d="M15 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3m-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3" /></symbol>',20,20,!1,void 0)},644746:(e,t,r)=>{r.d(t,{Icon24FavoriteOutline:()=>a});var a=(0,r(844990).makeIcon)("Icon24FavoriteOutline","favorite_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="favorite_outline_24"><path fill-rule="evenodd" d="M12.554 4.694a.6.6 0 0 0-1.108 0l-1.614 3.9a.9.9 0 0 1-.774.554l-4.125.266a.6.6 0 0 0-.357 1.05l3.267 2.859a.9.9 0 0 1 .282.888l-.93 3.852a.6.6 0 0 0 .883.66l3.472-2.003a.9.9 0 0 1 .9 0l3.472 2.004a.6.6 0 0 0 .883-.661l-.93-3.852a.9.9 0 0 1 .282-.888l3.267-2.858a.6.6 0 0 0-.357-1.05l-4.125-.267a.9.9 0 0 1-.774-.554zm-2.772-.689c.818-1.976 3.618-1.976 4.436 0l1.4 3.383 3.565.23c2.136.138 3.037 2.792 1.426 4.201l-2.856 2.5.802 3.322c.494 2.05-1.706 3.696-3.533 2.642L12 18.539l-3.022 1.744C7.15 21.337 4.95 19.69 5.445 17.64l.802-3.322-2.856-2.5c-1.611-1.41-.71-4.063 1.426-4.201l3.566-.23z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},838477:(e,t,r)=>{r.d(t,{Icon24ShoppingCartOutline:()=>a});var a=(0,r(844990).makeIcon)("Icon24ShoppingCartOutline","shopping_cart_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="shopping_cart_outline_24"><path fill-rule="evenodd" d="M3.935 4.817a14 14 0 0 0-.94-.017H2.9a.9.9 0 0 1 0-1.8h.127c.401 0 .751 0 1.043.022.31.023.618.075.923.21a2.7 2.7 0 0 1 1.139.952c.094.138.167.28.227.427l11.586.362c.64.02 1.18.037 1.611.09.445.053.892.156 1.284.424a2.7 2.7 0 0 1 1.116 1.655c.101.465.03.917-.088 1.35-.113.42-.3.927-.522 1.527l-.511 1.387c-.495 1.345-.828 2.248-1.426 2.93a4.9 4.9 0 0 1-1.938 1.352c-.848.324-1.81.324-3.243.323H9.804c-.402 0-.752 0-1.043-.022a2.7 2.7 0 0 1-.924-.21 2.7 2.7 0 0 1-1.139-.951 2.7 2.7 0 0 1-.37-.872 15 15 0 0 1-.208-1.022L4.944 6.428a14 14 0 0 0-.183-.921c-.052-.199-.092-.273-.118-.312a.9.9 0 0 0-.38-.317c-.043-.02-.123-.046-.328-.061m2.838 1.608 1.113 6.158c.079.434.13.711.184.921.051.199.091.273.118.313a.9.9 0 0 0 .38.317c.042.019.123.045.328.06a14 14 0 0 0 .939.017h4.213c1.682 0 2.283-.014 2.78-.204a3.1 3.1 0 0 0 1.227-.855c.35-.401.571-.96 1.153-2.538l.435-1.179c.24-.649.398-1.08.487-1.412.089-.328.078-.449.067-.497a.9.9 0 0 0-.372-.552c-.04-.028-.149-.084-.486-.125-.342-.041-.8-.057-1.491-.078zM10 19.25a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0M16.75 21a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5" /></symbol>',24,24,!1,void 0)},390768:(e,t,r)=>{r.d(t,{Icon24SmileOutline:()=>a});var a=(0,r(844990).makeIcon)("Icon24SmileOutline","smile_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="smile_outline_24"><path d="M8.438 14.297a.9.9 0 0 1 1.259.133c.013.016.196.223.53.432.383.24.97.488 1.773.488a3.3 3.3 0 0 0 1.773-.488c.191-.12.382-.26.53-.432a.9.9 0 0 1 1.4 1.132 4 4 0 0 1-.976.826A5.1 5.1 0 0 1 12 17.15a5.1 5.1 0 0 1-2.727-.762 4 4 0 0 1-.976-.826.9.9 0 0 1 .14-1.265Zm1.812-4.047a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M15 11.5A1.25 1.25 0 1 0 15 9a1.25 1.25 0 0 0 0 2.5m-3-9.4c-5.468 0-9.9 4.432-9.9 9.9s4.432 9.9 9.9 9.9 9.9-4.432 9.9-9.9-4.432-9.9-9.9-9.9M3.9 12a8.1 8.1 0 1 1 16.2 0 8.1 8.1 0 0 1-16.2 0" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},624337:(e,t,r)=>{r.d(t,{Icon24StickerOutline:()=>a});var a=(0,r(844990).makeIcon)("Icon24StickerOutline","sticker_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="sticker_outline_24"><path fill-rule="evenodd" d="M11.639 2.106a.9.9 0 0 1 .668.263l9.324 9.324a.9.9 0 0 1 .262.668A9.87 9.87 0 0 1 19 19.001a9.87 9.87 0 0 1-7 2.899A9.87 9.87 0 0 1 5 19a9.87 9.87 0 0 1-2.9-7c0-2.734 1.11-5.21 2.9-7a9.87 9.87 0 0 1 6.639-2.894m-1.301 1.965a8.1 8.1 0 0 0-4.066 2.201A8.07 8.07 0 0 0 3.9 12c0 2.237.906 4.26 2.372 5.727A8.07 8.07 0 0 0 12 20.1a8.07 8.07 0 0 0 5.727-2.373 8.1 8.1 0 0 0 2.202-4.065A8 8 0 0 1 18 13.9a7.88 7.88 0 0 1-5.586-2.314A7.88 7.88 0 0 1 10.1 6c0-.665.082-1.311.238-1.93Zm1.71.585A6 6 0 0 0 11.9 6c0 1.685.682 3.208 1.787 4.313A6.08 6.08 0 0 0 18 12.1a6 6 0 0 0 1.344-.148z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},352472:(e,t,r)=>{r.d(t,{Icon24StickerSmileOutline:()=>a});var a=(0,r(844990).makeIcon)("Icon24StickerSmileOutline","sticker_smile_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="sticker_smile_outline_24"><path d="M11.295 10.25a1.256 1.256 0 0 1-1.255 1.251c-.69 0-1.248-.56-1.245-1.25C8.798 9.56 9.36 9 10.05 9s1.248.56 1.245 1.25m4.244.251c.69 0 1.25-.56 1.254-1.25A1.244 1.244 0 0 0 15.549 8c-.69 0-1.251.56-1.254 1.25a1.244 1.244 0 0 0 1.244 1.251" /><path fill-rule="evenodd" d="m11.452 21.295-.005-.025-.399.056c-.845.12-1.406.198-1.906.167a4.89 4.89 0 0 1-4.296-3.245c-.167-.472-.244-1.033-.361-1.879l-.662-4.784c-.149-1.076-.268-1.939-.308-2.644-.04-.724-.003-1.361.208-1.972a4.9 4.9 0 0 1 1.828-2.42c.53-.37 1.132-.58 1.84-.74.689-.155 1.55-.276 2.627-.427l5.096-.717c.783-.11 1.302-.183 1.765-.16a4.885 4.885 0 0 1 4.394 3.317c.148.44.22.96.328 1.742l.02.142h.002l.247 1.655q.036.245.031.483c.082.726.117 1.292.09 1.816a9.93 9.93 0 0 1-6.718 8.896c-.765.26-1.666.407-3.1.612zm5.336-16.992c-.27-.013-.607.03-1.53.16l-4.954.696c-1.124.158-1.914.27-2.522.407-.599.135-.945.278-1.202.458a3.1 3.1 0 0 0-1.156 1.53c-.103.298-.146.67-.112 1.282.035.623.143 1.413.299 2.537l.64 4.635c.139.996.194 1.36.291 1.635a3.09 3.09 0 0 0 2.718 2.053c.292.018.656-.028 1.652-.168l.17-.024.82-.116 1.603-.283c.6-.106 1-.68.893-1.28l-.236-1.324c-1.403.152-3.005.008-4.27-.857a.9.9 0 0 1 1.017-1.487c.817.559 2.008.694 3.23.534a4.41 4.41 0 0 1 3.43-3.475l1.655-.345c.48-.1.824-.499.872-.965a100 100 0 0 0-.263-1.989c-.128-.922-.178-1.258-.265-1.515a3.09 3.09 0 0 0-2.78-2.1Zm-.576 13.853a8.13 8.13 0 0 0 3.885-5.677 3 3 0 0 1-.51.155l-1.655.345a2.606 2.606 0 0 0-2.034 3.008l.271 1.52q.059.328.043.649" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},182490:(e,t,r)=>{r.d(t,{Icon24StorefrontOutline:()=>a});var a=(0,r(844990).makeIcon)("Icon24StorefrontOutline","storefront_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="storefront_outline_24"><path fill-rule="evenodd" d="M7 14a.9.9 0 0 1 .9.9v4.2h8.2v-4.2a.9.9 0 0 1 1.8 0V20a.9.9 0 0 1-.9.9H7a.9.9 0 0 1-.9-.9v-5.1A.9.9 0 0 1 7 14" clip-rule="evenodd" /><path fill-rule="evenodd" d="M3 20a.9.9 0 0 1 .9-.9h16.2a.9.9 0 1 1 0 1.8H3.9A.9.9 0 0 1 3 20m13.9-10a1.1 1.1 0 0 0 2.2 0h1.8a2.9 2.9 0 0 1-5.8 0z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M16 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9" clip-rule="evenodd" /><path fill-rule="evenodd" d="M12 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9" clip-rule="evenodd" /><path fill-rule="evenodd" d="M8 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 1 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9" clip-rule="evenodd" /><path fill-rule="evenodd" d="M4 9.1a.9.9 0 0 1 .9.9 1.1 1.1 0 0 0 2.2 0 .9.9 0 0 1 1.8 0 2.9 2.9 0 0 1-5.8 0 .9.9 0 0 1 .9-.9" clip-rule="evenodd" /><path fill-rule="evenodd" d="M8.703 3.1h6.594c.553 0 1.019-.001 1.453.137a2.9 2.9 0 0 1 1.033.585c.342.301.581.7.865 1.175l.056.094 1.612 2.686.027.045c.143.239.264.44.352.66q.116.293.167.604c.038.234.038.47.038.747V10h-1.8v-.114c0-.358-.003-.438-.014-.51a1 1 0 0 0-.064-.228c-.027-.068-.066-.138-.25-.445L17.16 6.017c-.37-.618-.462-.752-.566-.843a1.1 1.1 0 0 0-.392-.222c-.131-.042-.294-.052-1.014-.052H8.812c-.72 0-.883.01-1.014.052a1.1 1.1 0 0 0-.392.222c-.104.091-.196.225-.566.843L5.228 8.703c-.185.307-.223.377-.25.445a1 1 0 0 0-.064.228c-.011.072-.014.152-.014.51V10H3.1v-.167c0-.278 0-.513.038-.747a3 3 0 0 1 .167-.603c.088-.22.209-.422.352-.66l.027-.046L5.296 5.09l.056-.094c.284-.474.523-.874.865-1.175a2.9 2.9 0 0 1 1.033-.585c.434-.138.9-.138 1.453-.137Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},374271:(e,t,r)=>{r.d(t,{Icon24UgcStickerOutline:()=>a});var a=(0,r(844990).makeIcon)("Icon24UgcStickerOutline","ugc_sticker_outline_24","0 0 24 24",'<symbol xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" id="ugc_sticker_outline_24"><path fill-rule="evenodd" d="M13.481 3.562a1.85 1.85 0 0 0-1.403-.56c-4.963.228-9.045 4.133-9.045 8.592 0 1.527.485 2.952 1.318 4.16-.04.476-.178.986-.382 1.531-.186.496-.406.973-.632 1.462q-.111.24-.223.486c-.394.865.29 1.801 1.194 1.766 2.098-.081 3.83-.6 5.035-1.69 1.002.308 2.079.474 3.199.474 4.124 0 7.977-2.28 9.295-5.631.403-1.024.008-2.063-.635-2.718zM11.2 4.9c-3.67.603-6.362 3.606-6.362 6.695 0 1.222.414 2.37 1.149 3.347.117.155.18.345.18.539 0 .86-.229 1.691-.507 2.434-.156.415-.337.83-.515 1.219 1.595-.191 2.637-.71 3.267-1.442a.9.9 0 0 1 .999-.257 9 9 0 0 0 3.132.551c3.401 0 6.37-1.81 7.484-4.182-1.345 0-2.412-.001-3.273-.071-.891-.073-1.642-.224-2.326-.572a5.9 5.9 0 0 1-2.584-2.575c-.349-.682-.5-1.43-.573-2.319-.071-.87-.071-1.949-.071-3.314zm8.04 7.105-6.236-6.358c.002 1.04.012 1.83.065 2.474.063.777.185 1.262.382 1.649a4.1 4.1 0 0 0 1.796 1.79c.387.196.874.317 1.654.38.616.05 1.366.062 2.338.065Z" clip-rule="evenodd" /></symbol>',24,24,!1,void 0)},34855:(e,t,r)=>{r.d(t,{default:()=>a});const a={banner:"AvatarSuggestionRow__banner--wxts2",character:"AvatarSuggestionRow__character--RzTKg",placeholder:"AvatarSuggestionRow__placeholder--igUro"}},215943:(e,t,r)=>{r.d(t,{default:()=>a});const a={emoji:"Emoji__emoji--c4qpa"}},807799:(e,t,r)=>{r.d(t,{default:()=>a});const a={item:"EmojiItem__item--DuraU",itemActive:"EmojiItem__itemActive--bM6wE"}},967263:(e,t,r)=>{r.d(t,{default:()=>a});const a={keyboard:"EmojiKeyboard__keyboard--Ld5uz",scroll:"EmojiKeyboard__scroll--Brwew",in:"EmojiKeyboard__in--m0FNK",item:"EmojiKeyboard__item--xuWZF",itemHeader:"EmojiKeyboard__itemHeader--9JOWg"}},161187:(e,t,r)=>{r.d(t,{default:()=>a});const a={header:"EmojiKeyboardHeader__header--62WGU",headerWide:"EmojiKeyboardHeader__headerWide--ZHzzu",headerRegular:"EmojiKeyboardHeader__headerRegular--4ObTy",headerAdaptive:"EmojiKeyboardHeader__headerAdaptive--QrWat",headerSmall:"EmojiKeyboardHeader__headerSmall--4ss9T",headerCompact:"EmojiKeyboardHeader__headerCompact--LQUUo",title:"EmojiKeyboardHeader__title--usmp4"}},112935:(e,t,r)=>{r.d(t,{default:()=>a});const a={row:"EmojiKeyboardRow__row--YlFOl",rowWide:"EmojiKeyboardRow__rowWide--E2DJg",rowRegular:"EmojiKeyboardRow__rowRegular--sePVK",rowAdaptive:"EmojiKeyboardRow__rowAdaptive--oXIqz",rowSmall:"EmojiKeyboardRow__rowSmall--RR3Ek",rowCompact:"EmojiKeyboardRow__rowCompact--iBvxN",emoji:"EmojiKeyboardRow__emoji--FW1Rt"}},973119:(e,t,r)=>{r.d(t,{default:()=>a});const a={keyboard:"StickersEmojiKeyboard__keyboard--aBlGh",keyboardWide:"StickersEmojiKeyboard__keyboardWide--c4mMA",keyboardCompact:"StickersEmojiKeyboard__keyboardCompact--7zIVf",keyboardRegular:"StickersEmojiKeyboard__keyboardRegular--W7paM",keyboardAdaptive:"StickersEmojiKeyboard__keyboardAdaptive--VBT2T",keyboardSmall:"StickersEmojiKeyboard__keyboardSmall--TuG4n",in:"StickersEmojiKeyboard__in--8z0sQ"}},625599:(e,t,r)=>{r.d(t,{default:()=>a});const a={keyboard:"StickersKeyboard__keyboard--Roopu",scroll:"StickersKeyboard__scroll--25gJH",scrollDisabled:"StickersKeyboard__scrollDisabled--zwEvq",in:"StickersKeyboard__in--Nd9Tf",item:"StickersKeyboard__item--RFENS",itemHeader:"StickersKeyboard__itemHeader--Dwpxx"}},401863:(e,t,r)=>{r.d(t,{default:()=>a});const a={group:"StickersKeyboardGroup__group--torAq",groupActive:"StickersKeyboardGroup__groupActive--DwHOY",groupHidden:"StickersKeyboardGroup__groupHidden--IktFM",item:"StickersKeyboardGroup__item--aBKd2"}},548891:(e,t,r)=>{r.d(t,{default:()=>a});const a={in:"Icon__in--9IlJB"}},980183:(e,t,r)=>{r.d(t,{default:()=>a});const a={in:"StickersKeyboardGroupItem__in--VcJ1c",inPlaceholder:"StickersKeyboardGroupItem__inPlaceholder--kALAE",inActive:"StickersKeyboardGroupItem__inActive--mqUWy",inHidden:"StickersKeyboardGroupItem__inHidden--LolxI",icon:"StickersKeyboardGroupItem__icon--WU3P9",iconService:"StickersKeyboardGroupItem__iconService--SNMID",inIndicator:"StickersKeyboardGroupItem__inIndicator--HTKY6",inIndicatorRed:"StickersKeyboardGroupItem__inIndicatorRed--zplil",inIndicatorGray:"StickersKeyboardGroupItem__inIndicatorGray--XA5B8",tooltip:"StickersKeyboardGroupItem__tooltip--Z2OTp"}},560553:(e,t,r)=>{r.d(t,{default:()=>a});const a={button:"ShopButton__button--njkgu"}},866623:(e,t,r)=>{r.d(t,{default:()=>a});const a={groups:"StickersKeyboardGroups__groups--EuHEh",container:"StickersKeyboardGroups__container--GeZCP",in:"StickersKeyboardGroups__in--Pc5bM",items:"StickersKeyboardGroups__items--xPtfp",group:"StickersKeyboardGroups__group--PYnoi",groupIn:"StickersKeyboardGroups__groupIn--I8eF8",chevron:"StickersKeyboardGroups__chevron--2BoD2",shadow:"StickersKeyboardGroups__shadow--YL2XH",groupsForced:"StickersKeyboardGroups__groupsForced--cp00b",shadowVisible:"StickersKeyboardGroups__shadowVisible--OCDa7",shadowLeft:"StickersKeyboardGroups__shadowLeft--K1Vmj",shadowRight:"StickersKeyboardGroups__shadowRight--n5bpr",chevronActive:"StickersKeyboardGroups__chevronActive--Gay39",chevronLeft:"StickersKeyboardGroups__chevronLeft--tHC1b",chevronRight:"StickersKeyboardGroups__chevronRight--8NXLv"}},733496:(e,t,r)=>{r.d(t,{default:()=>a});const a={peer:"GiftButton__peer--qfhik"}},817169:(e,t,r)=>{r.d(t,{default:()=>a});const a={tooltip:"PeerInfo__tooltip--RPl8E",text:"PeerInfo__text--siVSP",icon:"PeerInfo__icon--d7xxw"}},818893:(e,t,r)=>{r.d(t,{default:()=>a});const a={header:"StickersKeyboardHeader__header--abIjn",headerWide:"StickersKeyboardHeader__headerWide--oa9M3",headerRegular:"StickersKeyboardHeader__headerRegular--E7FuD",headerAdaptive:"StickersKeyboardHeader__headerAdaptive--6SOiI",headerSmall:"StickersKeyboardHeader__headerSmall--A3Xvx",headerCompact:"StickersKeyboardHeader__headerCompact--Hmxz5",headerAside:"StickersKeyboardHeader__headerAside--4AjpR",title:"StickersKeyboardHeader__title--Cqjea",icon:"StickersKeyboardHeader__icon--wixC2"}},746902:(e,t,r)=>{r.d(t,{default:()=>a});const a={icon:"StyleSettingsButton__icon--WlyCw"}},612126:(e,t,r)=>{r.d(t,{default:()=>a});const a={tooltip:"Tooltip__tooltip--iDUSo",icon:"Tooltip__icon--j2W66"}},281537:(e,t,r)=>{r.d(t,{default:()=>a});const a={brush:"VmojiEditButton__brush--QxypQ",counter:"VmojiEditButton__counter--Maxgf"}},893127:(e,t,r)=>{r.d(t,{default:()=>a});const a={row:"StickersKeyboardRow__row--ZoDzf",rowWide:"StickersKeyboardRow__rowWide--BwDmS",rowRegular:"StickersKeyboardRow__rowRegular--ftJ0T",rowAdaptive:"StickersKeyboardRow__rowAdaptive--tyoGh",rowSmall:"StickersKeyboardRow__rowSmall--CAm2M",rowCompact:"StickersKeyboardRow__rowCompact--XEs1d",rowStickers:"StickersKeyboardRow__rowStickers--OrWut",sticker:"StickersKeyboardRow__sticker--UkoyK",stickerRichIcon:"StickersKeyboardRow__stickerRichIcon--BujAB"}},534667:(e,t,r)=>{r.d(t,{default:()=>a});const a={card:"StickersKeyboardRowCard__card--LdFOz",hide:"StickersKeyboardRowCard__hide--nIRdV",image:"StickersKeyboardRowCard__image--5oH2u",title:"StickersKeyboardRowCard__title--s7Iji",action:"StickersKeyboardRowCard__action--VoKbV"}},311893:(e,t,r)=>{r.d(t,{default:()=>a});const a={tabbar:"Tabbar__tabbar--Q62Ls",item:"Tabbar__item--0Qcpv"}},683255:(e,t,r)=>{r.d(t,{default:()=>a});const a={item:"TabbarItem__item--KDicT",itemActive:"TabbarItem__itemActive--RoVj1",indicator:"TabbarItem__indicator--TZLVL",indicatorNone:"TabbarItem__indicatorNone--3Ke3v",indicatorPrimary:"TabbarItem__indicatorPrimary--sjo2T",indicatorSecondary:"TabbarItem__indicatorSecondary--b1uD6",indicatorDestructive:"TabbarItem__indicatorDestructive--DF9TL"}},59647:(e,t,r)=>{r.d(t,{default:()=>a});const a={view:"View__view--CsVjt",panel:"View__panel--svxzq",panelSwitched:"View__panelSwitched--skNOK"}},741739:(e,t,r)=>{r.d(t,{default:()=>a});const a={iconAnimated:"PopupWrapper__iconAnimated--D4Ksd",horizontalTremble:"PopupWrapper__horizontalTremble--biqNH",stickerAnimationIsPlaying:"PopupWrapper__stickerAnimationIsPlaying--oRszE"}},113331:(e,t,r)=>{r.d(t,{default:()=>a});const a={wrapper:"Wrapper__wrapper--hn1gN",wrapperFlex:"Wrapper__wrapperFlex--oWVeI",wrapperFlexLeft:"Wrapper__wrapperFlexLeft--QRwKU",wrapperFlexRight:"Wrapper__wrapperFlexRight--YEnFQ",icon:"Wrapper__icon--8QaT6",iconAbsolute:"Wrapper__iconAbsolute--Qf3fy",iconAbsoluteLeft:"Wrapper__iconAbsoluteLeft--ejSgK",iconAbsoluteRight:"Wrapper__iconAbsoluteRight--31hU0",iconAbsoluteInsetLeft:"Wrapper__iconAbsoluteInsetLeft--uFtQ4",iconAbsoluteInsetRight:"Wrapper__iconAbsoluteInsetRight--9lqmy",iconRelative:"Wrapper__iconRelative--dXqBT",iconRelativeLeft:"Wrapper__iconRelativeLeft--KFwvS",iconRelativeRight:"Wrapper__iconRelativeRight--uDxIA"}}}]);try{stManager?.done("dist/web/chunks/017d5c5e.9f296532.js")}catch(e){}