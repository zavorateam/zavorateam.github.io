(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[11141],{170111:(e,t,n)=>{"use strict";n.d(t,{DEBUG_KEY_FEED_SCROLL_RESTORATION:()=>r,DEBUG_PREFIX_FEED_SCROLL_RESTORATION:()=>a});const r="feed_scroll_restoration_console_debug",a="FEED_SCROLL_RESTORATION"},872257:(e,t,n)=>{"use strict";n.d(t,{createFeedBlockReactInitiator:()=>w,createFeedBlockReactLazyInitiator:()=>v,reactContainerLoadingData:()=>b});var r=n(697244),a=n(142278),i=n(62208),o=n(550768),s=n(540462),c=n(513776),u=n(70367),l=n(54998),d=n(558137),f=n(105330),p=n(332303),h=n(170111);const g=(0,p.createDebugConsoleInfoWithTimestamp)(h.DEBUG_KEY_FEED_SCROLL_RESTORATION,h.DEBUG_PREFIX_FEED_SCROLL_RESTORATION),m=()=>!(0,f.isMvk)()&&(0,l.isOnFeedPage)(),b=(0,d.makeSharedState)("react-container-loading-data",(()=>({elements:new Set,state:"none",timeoutId:void 0})),{version:0});function _(e){if(e)return e;const t=(0,i.createReactContainer)();return document.body.appendChild(t),t}function y(e){if("function"!=typeof e)return e;const t=e();if(!t)throw new Error("Target container not found. Verify that it exists before render.");return t}const x=(e,t)=>{const n=(0,l.getNearestPost)(e),r=n?.dataset.postId??n?.id;(0,u.setPageSharedState)(),(0,c.setPostSharedState)(r,n),m()&&window.cur?.reactPerfStats?.startPostReactAppLoading(e,r);let a=()=>{};return{onBeforeRender:()=>{a=((e,t=!1)=>(0,s.partConfigEnabled)("feed_viewport_dom_post")&&!t?(0,o.observeIfElementIsInViewport)(e).unobserve:()=>{})(e,t?.forceDisableViewportObserver),t?.onBeforeRender?.()},onMounted:n=>{(0,s.partConfigEnabled)("feed_manual_scroll_restoration")&&!(0,s.partConfigEnabled)("web_feed_redesign_single_react_app")&&(g("react component mounted",new Set(b().elements),b().state),b().elements.delete(e),clearTimeout(b().timeoutId),b().timeoutId=setTimeout((()=>{g("react component loading ended after 500ms SET_TIMEOUT CALLBACK",new Set(b().elements),b().state),0===b().elements.size&&"loading"===b().state&&(window.dispatchEvent(new CustomEvent("react-container-loading-ended")),b().state="done")}),500)),t?.onMounted?.(n),m()&&window.cur?.reactPerfStats?.finishPostReactAppLoading(e,r)},onUnmounted:n=>{(0,s.partConfigEnabled)("feed_manual_scroll_restoration")&&b().elements.delete(e),t?.onUnmounted?.(n),a?.()}}};function w(e,t=null,n){const{forceDisableViewportObserver:i,isTqTaskInitRender:o=()=>!1,...c}=n??{},u=y(_(t)),{onMounted:l,onUnmounted:d,onBeforeRender:f}=x(u,n);return(0,s.partConfigEnabled)("web_feed_redesign_single_react_app")?(0,r.createPortalBatchReactInitiator)(e,u,{onBeforeRender:f,onUnmounted:d,onMounted:l,destroyAfterNavigation:c?.destroyAfterNavigation,isTqTaskInitRender:o}):(0,a.createReactInitiator)(e,u,{...c,onBeforeRender:f,onUnmounted:d,onMounted:l})}function v(e,t=null,n){const i=y(_(t)),{onMounted:o,onUnmounted:c,onBeforeRender:u}=x(i,n);return(0,s.partConfigEnabled)("web_feed_redesign_single_react_app")?(0,r.createPortalBatchReactLazyInitiator)(e,i,{onBeforeRender:u,onUnmounted:c,onMounted:o}):(0,a.createReactLazyInitiator)(e,i,{...n,onBeforeRender:u,onUnmounted:c,onMounted:o})}},697244:(e,t,n)=>{"use strict";n.d(t,{createPortalBatchReactInitiator:()=>S,createPortalBatchReactLazyInitiator:()=>T});var r=n(474848),a=n(342018),i=n(142278),o=n(540462),s=n(865066),c=n(296540),u=n(440961),l=n(444329),d=n(332303),f=n(170111);const p=new Set;let h="none";const g=new Set,m=(0,d.createDebugConsoleInfoWithTimestamp)(f.DEBUG_KEY_FEED_SCROLL_RESTORATION,f.DEBUG_PREFIX_FEED_SCROLL_RESTORATION),b=(0,c.memo)((({Component:e,container:t,itemKey:n,...a})=>{const[i,l]=(0,c.useState)(!1),d=(0,c.useRef)();return(0,c.useEffect)((()=>((0,o.partConfigEnabled)("feed_manual_scroll_restoration")&&"loading"===h&&0===p.size&&(clearTimeout(d.current),d.current=setTimeout((()=>{h="done",m("createPortalBatchReactInitiator ALL Components rendered",new Set(p),h),window.dispatchEvent(new CustomEvent("react-container-loading-ended")),setTimeout((()=>{for(const e of g)e.dispatchEvent(new CustomEvent("feed-initiator-react-render"));g.clear(),m("after feed-initiator-react-render events")}),16)}),100)),i?((0,o.partConfigEnabled)("feed_manual_scroll_restoration")&&p.has(t)&&p.delete(t),(0,o.partConfigEnabled)("feed_manual_scroll_restoration")||g.has(t)&&(t.dispatchEvent(new CustomEvent("feed-initiator-react-render")),g.delete(t))):(t.innerHTML="",l(!0)),()=>{clearTimeout(d.current)})),[i]),i?(0,u.createPortal)((0,r.jsx)(s.ErrorBoundary,{fallback:(0,r.jsx)(r.Fragment,{}),children:(0,r.jsx)(e,{...a})}),t,n):null}));const _=document.createElement("div"),y=(0,i.createReactInitiator)((function(e){return(0,r.jsx)(r.Fragment,{children:e.elements.map((({Component:e,container:t,itemKey:n,props:a})=>(0,r.jsx)(b,{itemKey:n,Component:e,container:t,...a},n)))})}),_,{destroyAfterNavigation:!1}),x=new Map,w=new Set;let v=!1,k=!1;function E(){_.isConnected||document.body.appendChild(_),v=!1;const e=[...x.entries()],t=[],n=new Set;for(let[r,{props:a,onMounted:i,Component:o,itemKey:s}]of e)w.has(r)||g.add(r),t.push({container:r,props:a,Component:o,itemKey:s}),i&&n.add(i),w.add(r);y.render({elements:t}),n.forEach((e=>e()))}function S(e,t,{destroyAfterNavigation:n,onBeforeRender:r,onUnmounted:i,onMounted:s,isTqTaskInitRender:c}={destroyAfterNavigation:!0,isTqTaskInitRender:()=>!1}){const u=(0,l.nanoid)();function d(){const e=w.has(t);return x.delete(t),w.delete(t),g.delete(t),p.delete(t),e?(k||(k=!0,queueMicrotask((()=>{k=!1,E(),i?.(e)}))),e):(i?.(!1),!1)}return{...y,render:function(i){if(r?.(),(0,o.partConfigEnabled)("feed_manual_scroll_restoration")){const e=t.classList.contains("PostContentContainer");0===p.size&&e&&(m("createPortalBatchReactInitiator onBeforeRender LOADING started",new Set(p),h),h="loading"),e&&(p.add(t),m("createPortalBatchReactInitiator onBeforeRender",new Set(p),h))}x.set(t,{props:i,container:t,Component:e,itemKey:u,onMounted:s?()=>s(d):void 0}),function(e="microtask"){if(!v){if("tq_finish"===e)document.head._tqs?._emitter.once("ev_paused",(()=>{v&&E()}));else{if("microtask"!==e)return;queueMicrotask((()=>E()))}v=!0}}(c?.()?"tq_finish":"microtask"),n&&(0,a.pushNavDestroy)(d)},unmount:d,getContainer:()=>t,isMounted:()=>w.has(t)}}function T(e,t=null,{onBeforeRender:n,onUnmounted:r,onMounted:a}={}){let i;const s=(0,l.nanoid)();function c(){return"function"==typeof t?t():t}let u=null;const d=()=>{const e=!!u&&w.has(u);return e||r?.(e),u?(x.delete(u),w.delete(u),g.delete(u),p.delete(u),E(),r?.(e),e):e};return{...y,unmount:d,getContainer:()=>u??c(),isMounted:()=>!!u&&w.has(u),render:async function(t,r){if(!i){if(i=await e(),r?.abortSignal.aborted)return;const t=(0,o.partConfigEnabled)("react_lazy_initiator_abort_render"),n=Boolean(c());if(t&&!n)return void console.warn("Target container not found. Verify that it exists before render.")}u=c(),u?(n?.(),x.set(u,{props:t,container:u,Component:i,itemKey:s,onMounted:a?()=>a(d):void 0}),E()):console.error(new Error("Target container not found. Verify that it exists before render."))}}}},796484:(e,t,n)=>{"use strict";n.d(t,{getPostSharedState:()=>a});var r=n(478407);const a=e=>e&&window.cur?.postSharedState?.[e]?window.cur.postSharedState[e]:new r.PostSharedState},985136:(e,t,n)=>{"use strict";n.d(t,{initPostAttachmentBlock:()=>s});var r=n(8520),a=n(338329),i=n(796484),o=n(754908);function s(e,t){(0,a.tq)().setStartupHandler("PostAttachmentsBlock/init",(({payload:n})=>{if(!n.target)throw new Error("PostAttachmentsBlock: Missing target");if(!n.target.isConnected)return;const{item:a,profiles:s,groups:c,attachmentsExpanded:u,feedV3Redesign:l}=(0,r.decodeHTMLEntitiesDeep)(n.data),d=n.target;let f=!0;const p=(0,o.createFeedBlockReactInitiator)(e,d,{destroyAfterNavigation:!1,isTqTaskInitRender:()=>f}),h=(e=!1)=>{f=!e,p.isMounted()||p.render({item:a,currentUserId:window.vk.id,profiles:s,groups:c,attachmentsExpanded:u,feedV3Redesign:l,root:d,getPostSharedState:i.getPostSharedState})};h(),t?.(p,h)}))}},550768:(e,t,n)=>{"use strict";n.d(t,{observeIfElementIsInViewport:()=>u});var r=n(964025),a=n(540462);const i="ReactEntryRootClone",o=e=>e instanceof HTMLElement&&e.classList.contains(i),s=e=>{if(o(e.nextElementSibling))return e.nextElementSibling;const t=e.cloneNode();return t.classList.add(i),t.style.display="none",e.parentElement?.insertBefore(t,e.nextElementSibling),t};function c(){const e=new Set;return new IntersectionObserver((t=>{t.forEach((({target:t,isIntersecting:n})=>{requestAnimationFrame((()=>{if(!(t instanceof HTMLElement))return;const i=o(t),c=i?t.previousElementSibling:t;if(!c)return;const u=c.offsetHeight,d=c.style.display,f=t.style.display;if(n)i&&(e.add(c),function(e,t,n){if("none"!==t)return;const r=s(e);e.style.display=n,r.style.height="",r.style.display="none"}(c,d,f));else if(!i){e.delete(c);let p=(0,r.isReactHTMLElement)(c);if((0,a.partConfigEnabled)("feed_manual_scroll_restoration")&&window.cur.__isPopstateForFeedScroll&&(p=!1),p)l(c,d,u);else if(c){function h(){c&&(c.removeEventListener("feed-initiator-react-render",h),requestAnimationFrame((()=>{c&&!e.has(c)&&l(c,d,u)})))}c.addEventListener("feed-initiator-react-render",h)}}}))}))}),{rootMargin:"100% 0% 100% 0%",threshold:0})}function u(e){const t=s(e),r=function(){n._dG("cur",window.cur??{});let e=window.cur.reactPostIntersectionObserver;return e||(e=c(),window.cur.reactPostIntersectionObserver=e),e}();return r.observe(e),r.observe(t),{unobserve:()=>{if(o(e.nextElementSibling)){const t=e.nextElementSibling;r.unobserve(t),requestAnimationFrame((()=>{const n=t.style.display;"none"===e.style.display&&(e.style.display=n),t.remove()}))}r.unobserve(e)}}}function l(e,t,n){if("none"===t)return;const r=s(e);r.style.height=`${n}px`,r.style.display=t,e.style.display="none"}},70367:(e,t,n)=>{"use strict";function r(){if(!window.cur||window.cur.pageSharedState)return;const e={shownPostPositions:new Map,init:void 0,loaded:void 0};window.cur.pageSharedState=e}n.d(t,{setPageSharedState:()=>r})},513776:(e,t,n)=>{"use strict";n.d(t,{setPostSharedState:()=>a});var r=n(478407);function a(e,t){e&&window.cur&&!window.cur.postSharedState?.[e]&&(window.cur.postSharedState||(window.cur.postSharedState={}),window.cur.postSharedState[e]||(window.cur.postSharedState[e]=new r.PostSharedState(t)))}},754908:(e,t,n)=>{"use strict";n.d(t,{createFeedBlockReactInitiator:()=>i.createFeedBlockReactInitiator,createFeedBlockReactLazyInitiator:()=>i.createFeedBlockReactLazyInitiator,getPostRawId:()=>r.getPostRawId,initPostAttachmentBlock:()=>a.initPostAttachmentBlock});var r=n(875389),a=n(985136),i=n(872257)},875389:(e,t,n)=>{"use strict";n.d(t,{getPostRawId:()=>a});var r=n(538522);const a=({id:e,item_id:t,owner_id:n})=>{const a=e||t;return n&&a?(0,r.joinRawId)({ownerId:n,itemId:a}):""}},151325:(e,t,n)=>{"use strict";n.d(t,{parseText:()=>o});var r=n(117961),a=n(34231),i=n(905366);const o=(e,t)=>(0,r.parseText)(e,{features:t,wrapAwayIfExternal:a.wrapAwayIfExternal,maybeStripVKSiteURLOriginAnySubdomain:i.maybeStripVKSiteURLOriginAnySubdomain})},128940:(e,t,n)=>{"use strict";n.d(t,{parseTextSync:()=>s});var r=n(151325),a=n(540462),i=n(523726);const o=e=>{switch(e.kind){case"MassMention":return{kind:"Text",text:e.displayName};case"AliasedUrl":return{...e,kind:"Url"};default:return e}};function s(e,t){return(0,r.parseText)(e,{isAliasedUrlEnabled:t?.isAliasedUrlEnabled,fix_cyrillic_in_external_urls:!0,fix_cyrillic_in_external_plain_urls:(0,a.partConfigEnabled)("fix_cyrillic_in_external_plain_urls"),feed_redesign_text_react_post:(0,a.partConfigEnabled)("feed_react_post"),feed_redesign_fix_mention:(0,a.partConfigEnabled)("feed_redesign_fix_mention"),feed_redesign_fix_hashtag_mention:(0,a.partConfigEnabled)("feed_redesign_fix_hashtag_mention"),feed_post_text_fix_formatting:(0,a.partConfigEnabled)("feed_post_text_fix_formatting")}).reduce(((e,t)=>(0,i.compactChunks)(e,o(t))),[])}},332126:(e,t,n)=>{"use strict";n.d(t,{parseTextTextMe:()=>c});var r=n(597362),a=n(523417),i=n(8520),o=n(523726);const s=e=>{switch(e.kind){case"LineBreak":case"Text":return e;case"Emoji":case"Code":case"AllMention":case"OnlineMention":return{kind:"Text",text:e.text};case"PossibleMention":return{kind:"ScreenNameMention",screenName:e.screen_name,displayName:e.screen_name===e.display_name.slice(1)?void 0:e.display_name};case"UserMention":return{kind:"Mention",type:"id",peerId:e.user_peer_id,displayName:e.display_name};case"GroupMention":return{kind:"Mention",type:"club",peerId:e.group_peer_id,displayName:e.display_name};case"Url":return{kind:"Url",href:e.url,caption:e.caption,originalUrl:e.text};case"Hashtag":return{kind:"Hashtag",tag:e.tag,screenName:e.screen_name};default:return(0,a.expectNever)(e)}};function c(e){return(0,r.from_client_text)((0,i.decodeHTMLEntities)(e,{})).reduce(((e,t)=>(0,o.compactChunks)(e,s(t))),[])}},248806:(e,t,n)=>{"use strict";n.d(t,{parseText:()=>o,parseTextSync:()=>a.parseTextSync});var r=n(540462),a=n(128940),i=n(332126);const o=e=>(0,r.partConfigEnabled)("search_disable_new_text_parser")?(0,a.parseTextSync)(e):(0,i.parseTextTextMe)(e)},523726:(e,t,n)=>{"use strict";n.d(t,{compactChunks:()=>r});const r=(e,t)=>{if("Text"===t.kind){const n=e[e.length-1];"Text"===n?.kind?n.text+=t.text:e.push({kind:"Text",text:t.text})}else e.push(t);return e}},579780:(e,t,n)=>{"use strict";n.d(t,{browser:()=>r.browser});var r=n(575753)},696797:(e,t,n)=>{"use strict";n.d(t,{parseText:()=>r.parseText,parseTextSync:()=>r.parseTextSync});var r=n(248806)},744872:(e,t,n)=>{"use strict";n.d(t,{SHOW_MORE_BUTTON_DATA_ID:()=>i,TEXT_OBSCENE_BLUR_DATA_ID:()=>o,TYPE_FEED_POST_PREFIX:()=>r,TYPE_FEED_PREFIX:()=>a});const r="type_feed_post_",a="type_feed_",i="showMoreButton",o="textObsceneBlur"},86692:(e,t,n)=>{"use strict";n.d(t,{useDisplayedText:()=>r.useDisplayedText});var r=n(337829);n(92033)},92033:(e,t,n)=>{"use strict";n(296540),n(289475)},337829:(e,t,n)=>{"use strict";n.d(t,{useDisplayedText:()=>s});var r=n(474848),a=n(296540),i=n(381522),o=n(478407);const s=({getTextFormatArray:e,onFormattedDisplayedTextClick:t,label:n,tooltipText:s})=>{const[c,u]=(0,a.useState)(!1),l=()=>{u(!0)};return{renderDisplayedText:(a,{accented:u}={})=>{const d=e(a);return"string"==typeof d?d:(0,r.jsx)(r.Fragment,{children:d.map(((e,a)=>{if("string"==typeof e)return e;if("emoji"in e){const{emoji:t}=e;return(0,r.jsx)("img",{className:"emoji",src:`/emoji/e/${t.code}${t.retina?"_2x":""}.png`,alt:t.alt},a)}if("obsceneBlur"in e){const{obsceneBlur:d}=e;return(0,r.jsx)(i.BlurredObsceneText,{dataId:o.TEXT_OBSCENE_BLUR_DATA_ID,"aria-label":n,obscene:d.obscene,blur:d.blur,tooltipText:s,onClick:c?void 0:e=>{t(e,l)},unblurred:c,accented:u},a)}return null}))})}}}},478407:(e,t,n)=>{"use strict";n.d(t,{OBSCENE_BLUR_TAGS_REGEX:()=>s.OBSCENE_BLUR_TAGS_REGEX,PostActionAnalytics:()=>a.PostActionAnalytics,PostClickAnalytics:()=>r.PostClickAnalytics,PostSharedState:()=>i.PostSharedState,PostTextParser:()=>o.PostTextParser,SHOW_MORE_BUTTON_DATA_ID:()=>u.SHOW_MORE_BUTTON_DATA_ID,TEXT_OBSCENE_BLUR_DATA_ID:()=>u.TEXT_OBSCENE_BLUR_DATA_ID,TYPE_FEED_POST_PREFIX:()=>u.TYPE_FEED_POST_PREFIX,TYPE_FEED_PREFIX:()=>u.TYPE_FEED_PREFIX,toWkViewAdsParams:()=>l.toWkViewAdsParams,useDisplayedText:()=>c.useDisplayedText});var r=n(866707),a=n(979945),i=n(190889),o=(n(546146),n(192863)),s=n(985271),c=n(86692),u=n(744872),l=n(258357)},985271:(e,t,n)=>{"use strict";n.d(t,{OBSCENE_BLUR_TAGS_REGEX:()=>r,ObsceneText:()=>a});const r=RegExp("\\[#blur\\|(?<obscene>[^|\\]]+)\\|(?<blur>[&$!#%]+)]","g");class a{parseObsceneTags(){const e={},t=this._text.matchAll(r);for(const n of t){const{obscene:t,blur:r}=n.groups??{};t&&(e[t]=r)}return e}encodeObscene(){return this._obsceneWordList.length?this._text.replace(r,"$1"):this._text}constructor(e){this._text=e,this._blurByObscene=this.parseObsceneTags(),this._obsceneWordList=Object.keys(this._blurByObscene),this._obsceneWordsRegex=new RegExp(this._obsceneWordList.join("|"),"g"),this.getObsceneBlurArray=e=>{if(!this._obsceneWordList.length)return e;const t=e.split(this._obsceneWordsRegex),n=e.match(this._obsceneWordsRegex);if(!n?.length)return e;const r=[];return t.forEach(((e,t)=>{if(r.push(e),t>=n.length)return;const a=n[t],i=this._blurByObscene[a];r.push({obsceneBlur:{obscene:a,blur:i}})})),r}}}},979945:(e,t,n)=>{"use strict";n.d(t,{PostActionAnalytics:()=>r});class r{}},866707:(e,t,n)=>{"use strict";n.d(t,{PostClickAnalytics:()=>r});class r{constructor(){this.onCarouselNextClick=this.createInteractionEventSender("click_next"),this.onCarouselPrevClick=this.createInteractionEventSender("click_previous"),this.onPhotoOpen=this.createInteractionEventSender("open_photo"),this.onOpenGeoFeed=this.createInteractionEventSender("open_geo_feed"),this.onOpenNearbyPhoto=this.createInteractionEventSender("open_nearby_photo"),this.onExtLinkClick=this.createInteractionEventSender("ext_link_click"),this.onIntLinkClick=this.createInteractionEventSender("int_link_click"),this.onExtLinkClickSnippet=this.createInteractionEventSender("ext_link_click_snippet"),this.onIntLinkClickSnippet=this.createInteractionEventSender("int_link_click_snippet"),this.onOpenGroup=this.createInteractionEventSender("open_group"),this.onOpenUser=this.createInteractionEventSender("open_user"),this.onPostHideWeek=this.createInteractionEventSender("hide","week"),this.onPostHideAlways=this.createInteractionEventSender("hide","always"),this.onPostUnHideWeek=this.createInteractionEventSender("unhide","week"),this.onPostUnHideAlways=this.createInteractionEventSender("unhide","always"),this.onSendDonut=this.createInteractionEventSender("send_donut"),this.onPostOpen=this.createInteractionEventSender("open"),this.onUnmuteAudio=this.createAudioClickEventSender("unmute_audio"),this.onMuteAudio=this.createAudioClickEventSender("mute_audio"),this.onPauseAudio=this.createAudioClickEventSender("pause_audio"),this.onOpenAudio=this.createAudioClickEventSender("open_audio"),this.onAddedAudio=this.createAudioClickEventSender("added_audio"),this.onRemovedAudio=this.createAudioClickEventSender("removed_audio"),this.onOpenPlaylist=this.createAudioPlaylistClickEventSender("open_playlist"),this.onAddedPlaylist=this.createAudioPlaylistClickEventSender("added_playlist"),this.onRemovedPlaylist=this.createAudioPlaylistClickEventSender("removed_playlist"),this.onClickBackgroundOnBlurredPost=this.createDonutPaymentClickEventSender("attachment_background"),this.onClickDonutButtonOnBlurredPost=this.createDonutPaymentClickEventSender("attachment_button"),this.onLikesBarOnBlurredPost=this.createDonutPaymentClickEventSender("likes_activity"),this.onClickFooterOnBlurredPost=this.createDonutPaymentClickEventSender("footer")}}},190889:(e,t,n)=>{"use strict";n.d(t,{PostSharedState:()=>i});var r=n(327813);const a=e=>({init:e,loaded:void 0});class i{get postElement(){return this._postElement}get postPosition(){return this._postPosition}setPostPosition(e){return this._postPosition=e}get currentSlideIndex(){return this._currentSlideIndex}constructor(e){this._postElement=e,this._currentSlideIndex=0,this._reactAppLoggerByRootElement=new WeakMap,this._reactPostLogger=a(void 0),this._loadingReactAppCount=0,this._postPosition=NaN,this.setCurrentSlideIndex=e=>{this._currentSlideIndex=e},this.addReactAppLogger=(e,t)=>{if(this._reactAppLoggerByRootElement.has(e))return!1;const n=a(t);return this._reactAppLoggerByRootElement.set(e,n),this._loadingReactAppCount++,(!this._reactPostLogger.init||t&&this._reactPostLogger.init.eventTime>t.eventTime)&&(this._reactPostLogger.init=t),!0},this.setReactAppLoaded=async(e,t)=>{const n=this._reactAppLoggerByRootElement.get(e);return n?void 0===n.loaded&&(n.loaded=t,(!this._reactPostLogger.loaded||t&&this._reactPostLogger.loaded.eventTime<t.eventTime)&&(this._reactPostLogger.loaded=t),new Promise((e=>{window.setTimeout((()=>{this._loadingReactAppCount--,e()}),50)}))):(console.error("_reactAppLoggerByRootElement: could not find an element with such key"),!1)},this.allReactAppsLoaded=()=>0===this._loadingReactAppCount,this.getReactAppsTotalLoadingTime=()=>this._reactPostLogger,(0,r.makeAutoObservable)(this)}}},546146:(e,t,n)=>{"use strict";var r=n(331635),a=n(327813),i=n(132028),o=n(478407);class s{constructor(){this._postSharedStateMap=new Map,this.setPostSharedState=e=>{e&&!this._postSharedStateMap.has(e)&&this._postSharedStateMap.set(e,new o.PostSharedState)},this.getPostSharedState=e=>{if(e)return this._postSharedStateMap.get(e)},(0,a.makeAutoObservable)(this)}}s=(0,r.__decorate)([i.scope.global(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[])],s)},192863:(e,t,n)=>{"use strict";n.d(t,{PostTextParser:()=>c});var r=n(696797),a=n(985271),i=n(579780),o=n(649632),s=n(979640);class c{parseText(){return this._text?(0,r.parseTextSync)(this._text,{isAliasedUrlEnabled:!0}):[]}getChunks(){return this._chunks||(this._chunks=this.parseText()),this._chunks}getText(){return this._text}replaceEmoji(e){return i.browser.ipad||i.browser.iphone?e:(Array.isArray(e)||(e=[e]),e.reduce(((e,t)=>{if("string"!=typeof t)return[...e,t];const n=t.match((0,o.emojiRegex)());if(!n)return[...e,t];return t.split((0,o.emojiRegex)()).forEach(((t,r)=>{e.push(t),r>=n.length||e.push({emoji:{code:(0,s.emojiSymbolToByteHex)(n[r]),retina:window.devicePixelRatio>=2,alt:n[r]}})})),e}),[]))}constructor(e,t){this._replaceEmoji=t,this.getTextFormatArray=e=>{const t=this._obsceneText.getObsceneBlurArray(e);return this._replaceEmoji?this.replaceEmoji(t):t},this._obsceneText=new a.ObsceneText(e),this._text=this._obsceneText.encodeObscene()}}},726101:(e,t,n)=>{"use strict";n.d(t,{findActionAttachment:()=>a,findUnderMediaAttachment:()=>i});var r=n(289475);const a=e=>{if(e?.length)return(0,r.partConfigEnabled)("feed_action_button_compact_style_fix")?e.find((({type:e,style:t})=>"action_button"===e&&"compact"!==t)):e.find((({type:e})=>"action_button"===e))},i=e=>{if(e?.length)return e.find((({style:e})=>"under_media"===e))}},258357:(e,t,n)=>{"use strict";n.d(t,{toWkViewAdsParams:()=>r.toWkViewAdsParams});var r=n(245047);n(726101)},245047:(e,t,n)=>{"use strict";function r(e){if(e)return{post_ad_data:e.adData,ad_block_unique_id:e.adBlockUniqueId}}n.d(t,{toWkViewAdsParams:()=>r})},865066:(e,t,n)=>{"use strict";n.d(t,{ErrorBoundary:()=>i});var r=n(296540);const a={hasError:!1};class i extends r.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){this.props.onError?.(e)}reset(){this.props.onReset?.(),this.setState(a)}render(){const{children:e,fallback:t}=this.props,{hasError:n}=this.state;if(n){const e={reset:this.reset.bind(this)};return"function"==typeof t?(0,r.createElement)(t,e):t}return e}constructor(...e){super(...e),this.state=a}}},117961:(e,t,n)=>{"use strict";n.d(t,{parseText:()=>T});var r=n(104650),a=n(8520),i=n(468073);const o="\\w\\$А-Яа-яёЁєЄҐґЇїІіЈј%",s="(https?:\\/\\/)?",c="((?:["+o+"\\—\\-\\_]+\\.){1,5})",u="([A-Za-zа-яА-Я\\-\\d]{2,22})",l="(?:\\:(\\d{2,5}))?",d="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",f="\\wА-Яа-я\\xa8\\xb8\\xc0-\\xffєЄҐґЇїІіЈј\\—\\-\\_@#%?+\\/\\$~=;:'*"+d+"　-〿＀-￯",p="(([\\/?#])(?:\\&amp;|\\&|\\&#\\d{2,6};|,[_%]|!|,*"+("(?:["+f+"]|[.](?!\\s|$|[^."+f+"]))")+"+|"+("(?:\\(|\\[)["+o+"\\d&#%;,]+(?:\\)|\\])")+"){0,200})?",h=new Set([..."aaa,aarp,abarth,abb,abbott,abbvie,abc,able,abogado,abudhabi,ac,academy,accenture,accountant,accountants,aco,active,actor,ad,adac,ads,adult,ae,aeg,aero,aetna,af,afamilycompany,afl,africa,ag,agakhan,agency,ai,aig,aigo,airbus,airforce,airtel,akdn,al,alfaromeo,alibaba,alipay,allfinanz,allstate,ally,alsace,alstom,am,americanexpress,americanfamily,amex,amfam,amica,amsterdam,an,analytics,android,anquan,anz,ao,aol,apartments,app,apple,aq,aquarelle,ar,aramco,archi,army,arpa,art,arte,as,asda,asia,associates,at,athleta,attorney,au,auction,audi,audible,audio,auspost,author,auto,autos,avianca,aw,aws,ax,axa,az,azure,ba,baby,baidu,banamex,bananarepublic,band,bank,bar,barcelona,barclaycard,barclays,barefoot,bargains,baseball,basketball,bauhaus,bayern,bb,bbc,bbt,bbva,bcg,bcn,bd,be,beats,beauty,beer,bentley,berlin,best,bestbuy,bet,bf,bg,bh,bharti,bi,bible,bid,bike,bing,bingo,bio,biz,bj,bl,black,blackfriday,blanco,blockbuster,blog,bloomberg,blue,bm,bms,bmw,bn,bnl,bnpparibas,bo,boats,boehringer,bofa,bom,bond,boo,book,booking,boots,bosch,bostik,boston,bot,boutique,box,bq,br,bradesco,bridgestone,broadway,broker,brother,brussels,bs,bt,budapest,bugatti,build,builders,business,buy,buzz,bv,bw,by,bz,bzh,ca,cab,cafe,cal,call,calvinklein,cam,camera,camp,cancerresearch,canon,capetown,capital,capitalone,car,caravan,cards,care,career,careers,cars,cartier,casa,case,caseih,cash,casino,cat,catering,catholic,cba,cbn,cbre,cbs,cc,cd,ceb,center,ceo,cern,cf,cfa,cfd,cg,ch,chanel,channel,chase,chat,cheap,chintai,chloe,christmas,chrome,chrysler,church,ci,cipriani,circle,cisco,citadel,citi,citic,city,cityeats,ck,cl,claims,cleaning,click,clinic,clinique,clothing,cloud,club,clubmed,cm,cn,co,coach,codes,coffee,college,cologne,com,comcast,commbank,community,company,compare,computer,comsec,condos,construction,consulting,contact,contractors,cooking,cookingchannel,cool,coop,corsica,country,coupon,coupons,courses,cr,credit,creditcard,creditunion,cricket,crown,crs,cruise,cruises,csc,cu,cuisinella,cv,cw,cx,cy,cymru,cyou,cz,dabur,dad,dance,data,date,dating,datsun,day,dclk,dds,de,deal,dealer,deals,degree,delivery,dell,deloitte,delta,democrat,dental,dentist,desi,design,dev,dhl,diamonds,diet,digital,direct,directory,discount,discover,dish,diy,dj,dk,dm,dnp,do,docs,doctor,dodge,dog,doha,domains,dot,download,drive,dtv,dubai,duck,dunlop,duns,dupont,durban,dvag,dvr,dz,earth,eat,ec,eco,edeka,edu,education,ee,eg,eh,email,emerck,energy,engineer,engineering,enterprises,epost,epson,equipment,er,ericsson,erni,es,esq,estate,esurance,et,eu,eurovision,eus,events,everbank,exchange,expert,exposed,express,extraspace,fage,fail,fairwinds,faith,family,fan,fans,farm,farmers,fashion,fast,fedex,feedback,ferrari,ferrero,fi,fiat,fidelity,fido,film,final,finance,financial,fire,firestone,firmdale,fish,fishing,fit,fitness,fj,fk,flickr,flights,flir,florist,flowers,fly,fm,fo,foo,food,foodnetwork,football,ford,forex,forsale,forum,foundation,fox,fr,free,fresenius,frl,frogans,frontdoor,frontier,ftr,fujitsu,fujixerox,fun,fund,furniture,futbol,fyi,ga,gal,gallery,gallo,gallup,game,games,gap,garden,gb,gbiz,gd,gdn,ge,gea,gent,genting,george,gf,gg,ggee,gh,gi,gift,gifts,gives,giving,gl,glade,glass,gle,global,globo,gm,gmail,gmbh,gmo,gmx,gn,godaddy,gold,goldpoint,golf,goo,goodhands,goodyear,goog,google,gop,got,gov,gp,gq,gr,grainger,graphics,gratis,green,gripe,group,gs,gt,gu,guardian,gucci,guge,guide,guitars,guru,gw,gy,hair,hamburg,hangout,haus,hbo,hdfc,hdfcbank,health,healthcare,help,helsinki,here,hermes,hgtv,hiphop,hisamitsu,hitachi,hiv,hk,hkt,hm,hn,hockey,holdings,holiday,homedepot,homegoods,homes,homesense,honda,honeywell,horse,hospital,host,hosting,hot,hoteles,hotmail,house,how,hr,hsbc,ht,htc,hu,hughes,hyatt,hyundai,ibm,icbc,ice,icu,id,ie,ieee,ifm,ikano,il,im,imamat,imdb,immo,immobilien,in,industries,infiniti,info,ing,ink,institute,insurance,insure,int,intel,international,intuit,investments,io,ipiranga,iq,ir,irish,is,iselect,ismaili,ist,istanbul,it,itau,itv,iveco,iwc,jaguar,java,jcb,jcp,je,jeep,jetzt,jewelry,jio,jlc,jll,jm,jmp,jnj,jo,jobs,joburg,jot,joy,jp,jpmorgan,jprs,juegos,juniper,kaufen,kddi,ke,kerryhotels,kerrylogistics,kerryproperties,kfh,kg,kh,ki,kia,kim,kinder,kindle,kitchen,kiwi,km,kn,koeln,komatsu,kosher,kp,kpmg,kpn,kr,krd,kred,kuokgroup,kw,ky,kyoto,kz,la,lacaixa,ladbrokes,lamborghini,lamer,lancaster,lancia,lancome,land,landrover,lanxess,lasalle,lat,latino,latrobe,law,lawyer,lb,lc,lds,lease,leclerc,lefrak,legal,lego,lexus,lgbt,li,liaison,lidl,life,lifeinsurance,lifestyle,lighting,like,lilly,limited,limo,lincoln,linde,link,lipsy,live,living,lixil,lk,loan,loans,local,locker,locus,loft,lol,london,lotte,lotto,love,lpl,lplfinancial,lr,ls,lt,ltd,ltda,lu,lundbeck,lupin,luxe,luxury,lv,ly,ma,macys,madrid,maif,maison,makeup,man,management,mango,market,marketing,markets,marriott,marshalls,maserati,mattel,mba,mc,mcd,mcdonalds,mckinsey,md,me,med,media,meet,melbourne,meme,memorial,men,menu,meo,metlife,mf,mg,mh,miami,microsoft,mil,mini,mint,mit,mitsubishi,mk,ml,mlb,mls,mm,mma,mn,mo,mobi,mobile,mobily,moda,moe,moi,mom,monash,money,monster,montblanc,mopar,mormon,mortgage,moscow,moto,motorcycles,mov,movie,movistar,mp,mq,mr,ms,msd,mt,mtn,mtpc,mtr,mu,museum,mutual,mv,mw,mx,my,mz,na,nab,nadex,nagoya,name,nationwide,natura,navy,nba,nc,ne,nec,net,netbank,netflix,network,neustar,new,newholland,news,next,nextdirect,nexus,nf,nfl,ng,ngo,nhk,ni,nico,nike,nikon,ninja,nissan,nissay,nl,no,nokia,northwesternmutual,norton,now,nowruz,nowtv,np,nr,nra,nrw,ntt,nu,nyc,nz,obi,observer,off,office,okinawa,olayan,olayangroup,oldnavy,ollo,om,omega,one,ong,onl,online,onyourside,ooo,open,oracle,orange,org,organic,orientexpress,origins,osaka,otsuka,ott,ovh,pa,page,pamperedchef,panasonic,panerai,paris,pars,partners,parts,party,passagens,pay,pccw,pe,pet,pf,pfizer,pg,ph,pharmacy,philips,phone,photo,photography,photos,physio,piaget,pics,pictet,pictures,pid,pin,ping,pink,pioneer,pizza,pk,pl,place,play,playstation,plumbing,plus,pm,pn,pnc,pohl,poker,politie,porn,post,pr,pramerica,praxi,press,prime,pro,prod,productions,prof,progressive,promo,properties,property,protection,pru,prudential,ps,pt,pub,pw,pwc,py,qa,qpon,quebec,quest,qvc,racing,radio,raid,re,read,realestate,realtor,realty,recipes,red,redstone,redumbrella,rehab,reise,reisen,reit,reliance,ren,rent,rentals,repair,report,republican,rest,restaurant,review,reviews,rexroth,rich,richardli,ricoh,rightathome,ril,rio,rip,rmit,ro,rocher,rocks,rodeo,rogers,room,rs,rsvp,ru,ruhr,run,rw,rwe,ryukyu,sa,saarland,safe,safety,sakura,sale,salon,samsclub,samsung,sandvik,sandvikcoromant,sanofi,sap,sapo,sarl,sas,save,saxo,sb,sbi,sbs,sc,sca,scb,schaeffler,schmidt,scholarships,school,schule,schwarz,science,scjohnson,scor,scot,sd,se,seat,secure,security,seek,select,sener,services,ses,seven,sew,sex,sexy,sfr,sg,sh,shangrila,sharp,shaw,shell,shia,shiksha,shoes,shop,shopping,shouji,show,showtime,shriram,si,silk,sina,singles,site,sj,sk,ski,skin,sky,skype,sl,sling,sm,smart,smile,sn,sncf,so,soccer,social,softbank,software,sohu,solar,solutions,song,sony,soy,space,spiegel,spot,spreadbetting,sr,srl,srt,ss,st,stada,staples,star,starhub,statebank,statefarm,statoil,stc,stcgroup,stockholm,storage,store,stream,studio,study,style,su,sucks,supplies,supply,support,surf,surgery,suzuki,sv,swatch,swiftcover,swiss,sx,sy,sydney,symantec,systems,sz,tab,taipei,talk,taobao,target,tatamotors,tatar,tattoo,tax,taxi,tc,tci,td,tdk,team,tech,technology,tel,telecity,telefonica,temasek,tennis,teva,tf,tg,th,thd,theater,theatre,tiaa,tickets,tienda,tiffany,tips,tires,tirol,tj,tjmaxx,tjx,tk,tkmaxx,tl,tm,tmall,tn,to,today,tokyo,tools,top,toray,toshiba,total,tours,town,toyota,toys,tp,tr,trade,trading,training,travel,travelchannel,travelers,travelersinsurance,trust,trv,tt,tube,tui,tunes,tushu,tv,tvs,tw,tz,ua,ubank,ubs,uconnect,ug,uk,um,unicom,university,uno,uol,ups,us,uy,uz,va,vacations,vana,vanguard,vc,ve,vegas,ventures,verisign,vermögensberater,vermögensberatung,versicherung,vet,vg,vi,viajes,video,vig,viking,villas,vin,vip,virgin,visa,vision,vista,vistaprint,viva,vivo,vlaanderen,vn,vodka,volkswagen,volvo,vote,voting,voto,voyage,vu,vuelos,wales,walmart,walter,wang,wanggou,warman,watch,watches,weather,weatherchannel,webcam,weber,website,wed,wedding,weibo,weir,wf,whoswho,wien,wiki,williamhill,win,windows,wine,winners,wme,wolterskluwer,woodside,work,works,world,wow,ws,wtc,wtf,xbox,xerox,xfinity,xihuan,xin,xperia,xxx,xyz,yachts,yahoo,yamaxun,yandex,ye,yodobashi,yoga,yokohama,you,youtube,yt,yu,yun,za,zappos,zara,zero,zip,zippo,zm,zone,zuerich,zw".split(","),..."бг,бел,дети,ею,католик,ком,мкд,мон,москва,онлайн,орг,рус,рф,сайт,срб,укр".split(","),..."qxam,90ae,90ais,d1acj3b,e1a4c,80aqecdr1a,j1aef,d1alf,l1acc,80adxhks,80asehdb,c1avg,p1acf,p1ai,80aswg,90a3ac,j1amh,80ao21a,y9a3aq,9dbq2a,mgbca7dzdo,mgba3a3ejt,mgbayh7gpa,lgbbat1ad8j,mgberp4a5d4ar,mgba7c0bbn0a,mgbc0a9azcg,mgb2ddes,mgbaam7a8h,mgba3a4f16a,mgbbh1a,mgbab2bd,ngbe9e0a,mgbbh1a71e,pgbs0dh,mgbpl2fh,ogbpf8fl,ngbc5azd,mgbtx2b,mgb9awbf,ygbi2ammx,wgbl6a,mgbi4ecexp,fhbei,wgbh1c,mgbx4cd0ab,mgbb9fbpob,4gbrim,mgbt3dhd,mgbai9azgqp6j,mgbgu82a,11b4c3d,c2br7g,h2brj9c,h2breg3eve,h2brj9c8c,i1b6b1a6a2e,54b7fta0cc,45brj9c,45br5cyl,s9brj9c,gecrj9c,3hcrj9c,xkc2dl3a5ee0h,xkc2al3hye2a,clchc0ea0b2g2a9gcd,fpcrj9c3d,2scrj9c,rvc1e0am3e,fzc2c9e2c,42c2d9a,o3cw4h,node,q9jyb4c,gckr3f0f,qcka1pmc,tckwe,cck2b3b,1ck2e1b,bck1b9a5dre4c,eckvdtc9d,rhqv96g,fiq64b,fiqs8s,fiqz9s,fiq228c5hs,vhquv,1qqw23a,vuq861b,nyqy26a,45q11c,55qx5d,55qw42g,kprw13d,kpry57d,czru2d,czrs0t,czr694b,w4rs40l,w4r85el8fhu5dnra,3ds443g,3oq18vl8pn36a,pssy2u,tiq49xqyj,fjq720a,fct429k,estv75g,xhq521b,9krt00a,30rr7y,6qq986b3xl,kput3i,kpu716f,zfr164b,mxtq1m,yfro4i67o,efvy88h,9et52u,rovu88b,nqv7f,b4w605ferd,unup4y,mix891f,mix082f,3pxu8k,pbt977c,6frz82g,nqv7fs00ema,ses554g,hxt814e,5tzm5g,io0a7i,8y0a063a,jlq61u9w7b,flw351e,g2xx48c,gk3at1e,3bst00m,fzys8d69uvgm,kcrx77d1x4a,jvr189m,imr513n,5su34j936bgsg,j6w193g,t60b56a,mk1bu44c,cg4bki,3e0b707e".split(",").map((e=>"xn--"+e))]),g=[...h].reduce(((e,t)=>Math.max(e,t.length)),0),m=`${d}a-zA-Zа-яА-ЯёіјєїґўЁІЈЄЇҐЎ’`,b="(?:&#(?:19[2-9]|(?:[2-9]|1[0-3])[0-9][0-9]);?)",_=`(?:[${m}]|${b})`,y=`(?:[${m}_\\d]|${b})`,x=e=>e&&Number.isInteger(e)&&(i.Ranges.isUserId(e)||i.Ranges.isGroupId(e)||i.Ranges.isChatOrChannelPeer(e)||i.Ranges.isContactId(e))?e:0,w=e=>{try{return decodeURIComponent(e)}catch(t){return e}},v=e=>r.createLanguage({ClientChunks:t=>r.alt(e?.features?.feed_redesign_text_react_post?t.LineBreakWithParagraph:t.LineBreak,t.Email,t.Url,e?.features?.feed_redesign_fix_hashtag_mention?t.HashtagMentionFeed:t.HashtagMention,t.Hashtag,t.MassMention,t.Mention,e?.features?.feed_redesign_fix_mention?t.ScreenNameMentionFeed:t.ScreenNameMention,t.Text).many(),LineBreak:()=>r.regexp(/\n|<br ?\/?>/).map((()=>({kind:"LineBreak"}))),LineBreakWithParagraph:()=>{const t=e?.features?.feed_post_text_fix_formatting?/(\n){1,2}|(<br ?\/?>){1,2}/:/(\n){1,2}|(<br ?\/?>\s*){1,2}/;return r.regexp(t).map((e=>({kind:"LineBreak",type:2===e.split(/(\n)|(<br ?\/?>)/).map((e=>"\n"===e?e:e&&e.trim())).filter(Boolean).length?"paragraph":"break"})))},ScreenName:()=>r.seqObj(["prefix",r.oneOf("@*")],["handle",r.alt(r.digit,r.letter,r.string("_")).atLeast(2).map((e=>e.join("")))]),ScreenNameFeed:()=>r.seqObj(["prefix",r.oneOf("@")],["handle",r.alt(r.digit,r.letter,r.string("_"),r.string(".")).atLeast(2).map((e=>e.join("")))]),MassMention:()=>r.regexp(/(?!,|;|:|\.|\s|\n|"|\(|\)|\[|\]|!|\?)([*@](all|everyone|все|online|here|здесь|тут))(?=$|,|;|:|<br ?\/?>|\.(?![a-z0-9_-])|\s|\n|"|\(|\)|\[|\]|!|\?)/i,1).map((e=>({kind:"MassMention",displayName:e}))),Mention:()=>r.seqObj(r.string("["),["type",r.alt(r.string("id"),r.string("club"))],["peerId",r.digit.atLeast(1).map((e=>+e.join("")))],["displayName",r.regexp(/\|(.+?)]/,1)]).map((e=>{let t;return t="club"===e.type?x(-e.peerId):0===e.peerId?x():x(e.peerId),{kind:"Mention",type:e.type,peerId:t,displayName:e.displayName}})),ScreenNameMention:e=>r.seqObj(["screenName",e.ScreenName],["displayName",r.alt(r.seq(r.whitespace,r.regexp(/\((.+?)\)/,1)).map((([,e])=>e)),r.succeed(void 0))]).map((e=>({kind:"ScreenNameMention",screenName:e.screenName.handle,displayName:e.displayName}))),ScreenNameMentionFeed:e=>r.seqObj(["screenName",e.ScreenNameFeed],["displayName",r.alt(r.seq(r.whitespace,r.regexp(/\((.+?)\)/,1)).map((([,e])=>e)),r.succeed(void 0))]).map((e=>({kind:"ScreenNameMention",screenName:e.screenName.handle,displayName:e.displayName}))),Url:()=>{const t=r.seqObj(r.string("["),["protocol",r.regexp(new RegExp(s,"i"))],["fullDomain",r.regexp(new RegExp("(?:m\\.)?vk\\.com|(?:m\\.)?vk\\.ru|(?:m\\.)?vkvideo\\.ru|vk\\.me|web\\.vk\\.me","i"))],r.regexp(new RegExp("(?!/away\\.php)","i")),["query",r.regexp(new RegExp(p))],["displayName",r.regexp(/\|(.+?)]/,1)]).map((t=>{const{protocol:n,fullDomain:r,query:i,displayName:o}=t,s=`${n||"http://"}${r}${i}`,c=`[${n}${r}${i}|${o}]`;return S(e,{kind:"Url",caption:o,href:(0,a.decodeHTMLEntities)(s),originalUrl:c},Boolean(e?.features?.fix_cyrillic_in_external_plain_urls))})),n=r.seq(r.regexp(new RegExp(s,"i")),r.regexp(new RegExp(c)),r.regexp(new RegExp(u)),r.regexp(new RegExp(l)),r.regexp(new RegExp(p))).map((t=>{const[n,r,i,o,s]=t,c=`${n||"http://"}${r}${i}${o}${s}`,u=t.join("");return i.length<=g&&h.has(i.toLowerCase())?S(e,{kind:"Url",caption:w((0,a.decodeHTMLEntities)(u)),href:(0,a.decodeHTMLEntities)(c),originalUrl:u},Boolean(e?.features?.fix_cyrillic_in_external_plain_urls)):{kind:"Text",text:u}}));return r.alt(t,n)},Hashtag:()=>r.regexp(new RegExp(`#${y}{0,100}${_}${y}{0,100}`,"u")).map((e=>({kind:"Hashtag",tag:e}))),HashtagMention:e=>r.seqObj(["tag",r.regexp(new RegExp(`#${y}{0,100}${_}${y}{0,100}`))],["screenName",e.ScreenName]).map((e=>({kind:"Hashtag",tag:e.tag,screenName:e.screenName.handle}))),HashtagMentionFeed:e=>r.seqObj(["tag",r.regexp(new RegExp(`#${y}{0,100}${_}${y}{0,100}`))],["screenName",e.ScreenNameFeed]).map((e=>({kind:"Hashtag",tag:e.tag,screenName:e.screenName.handle}))),Email:()=>r.regexp(new RegExp("([a-zA-Zа-яА-Я\\-_\\.0-9\\+]+@("+c+u+"))","i")).map((e=>({kind:"Email",email:e}))),Text:()=>r.any.map((e=>({kind:"Text",text:e})))}),k=e=>r.createLanguage({ClientChunks:t=>r.alt(e?.features?.feed_redesign_text_react_post?t.LineBreakWithParagraph:t.LineBreak,t.Email,t.AliasedUrl,t.Url,e?.features?.feed_redesign_fix_hashtag_mention?t.HashtagMentionFeed:t.HashtagMention,t.Hashtag,t.MassMention,t.Mention,e?.features?.feed_redesign_fix_mention?t.ScreenNameMentionFeed:t.ScreenNameMention,t.Text).many(),LineBreak:()=>r.regexp(/\n|<br ?\/?>/).map((()=>({kind:"LineBreak"}))),LineBreakWithParagraph:()=>{const t=e?.features?.feed_post_text_fix_formatting?/(\n){1,2}|(^(<br ?\/?>){1,2}\u200b*|\u200b*(<br ?\/?>){1,2})/:/(\n){1,2}|(^(<br ?\/?>\s*){1,2}[\s\u200b]*|[\s\u200b]*(<br ?\/?>\s*){1,2})/;return r.regexp(t).map((e=>({kind:"LineBreak",type:2===e.split(/(\n)|(<br ?\/?>)/).map((e=>"\n"===e?e:e&&e.trim())).filter(Boolean).length?"paragraph":"break"})))},ScreenName:()=>r.seqObj(["prefix",r.oneOf("@*")],["handle",r.alt(r.digit,r.letter,r.string("_")).atLeast(2).map((e=>e.join("")))]),ScreenNameFeed:()=>r.seqObj(["prefix",r.oneOf("@")],["handle",r.alt(r.digit,r.letter,r.string("_"),r.string(".")).atLeast(2).map((e=>e.join("")))]),AliasedUrl:()=>r.seqObj(r.string("[#alias|"),["shortenedUrl",r.regexp(/[-a-zA-Zа-яА-Я0-9ёЁєЄҐґЇїІіЈј%@:._\+~#=]{1,256}\.[a-zA-Zа-яА-Я0-9ёЁ()]{1,6}[-a-zA-Zа-яА-Я0-9ёЁ()@:%_\+.,~#?&/=\*\s]*/i)],r.string("|"),["protocol",r.regexp(new RegExp(s,"i"))],["url",r.regexp(/[-a-zA-Zа-яА-Я0-9ёЁєЄҐґЇїІіЈј%@:._\+~#=]{1,256}\.[a-zA-Zа-яА-Я0-9ёЁ()]{1,6}[-a-zA-Zа-яА-Я0-9ёЁ()@:%_\+.,~#?&/=\*]*/i)],["query",r.regexp(new RegExp(p))],r.string("]")).map((t=>{const{protocol:n,url:r,query:i,shortenedUrl:o}=t,s=`${n||"http://"}${r}${i}`,c=`${n}${r}${i}`,u=`[#alias|${o}|${c}]`;return function(e,t,n=!1){return{...t,...E(t,n,e)}}(e,{kind:"AliasedUrl",caption:o,href:(0,a.decodeHTMLEntities)(s),originalUrl:u,originalHref:c},Boolean(e?.features?.fix_cyrillic_in_external_plain_urls))})),MassMention:()=>r.regexp(/(?!,|;|:|\.|\s|\n|"|\(|\)|\[|\]|!|\?)([*@](all|everyone|все|online|here|здесь|тут))(?=$|,|;|:|<br ?\/?>|\.(?![a-z0-9_-])|\s|\n|"|\(|\)|\[|\]|!|\?)/i,1).map((e=>({kind:"MassMention",displayName:e}))),Mention:()=>r.seqObj(r.string("["),["type",r.alt(r.string("id"),r.string("club"))],["peerId",r.digit.atLeast(1).map((e=>+e.join("")))],["displayName",r.regexp(/\|(.+?)]/,1)]).map((e=>{let t;return t="club"===e.type?x(-e.peerId):0===e.peerId?x():x(e.peerId),{kind:"Mention",type:e.type,peerId:t,displayName:e.displayName}})),ScreenNameMention:e=>r.seqObj(["screenName",e.ScreenName],["displayName",r.alt(r.seq(r.whitespace,r.regexp(/\((.+?)\)/,1)).map((([,e])=>e)),r.succeed(void 0))]).map((e=>({kind:"ScreenNameMention",screenName:e.screenName.handle,displayName:e.displayName}))),ScreenNameMentionFeed:e=>r.seqObj(["screenName",e.ScreenNameFeed],["displayName",r.alt(r.seq(r.whitespace,r.regexp(/\((.+?)\)/,1)).map((([,e])=>e)),r.succeed(void 0))]).map((e=>({kind:"ScreenNameMention",screenName:e.screenName.handle,displayName:e.displayName}))),Url:()=>{const t=r.seqObj(r.string("["),["protocol",r.regexp(new RegExp(s,"i"))],["fullDomain",r.regexp(new RegExp("(?:m\\.)?vk\\.com|(?:m\\.)?vk\\.ru|(?:m\\.)?vkvideo\\.ru|vk\\.me|web\\.vk\\.me","i"))],r.regexp(new RegExp("(?!/away\\.php)","i")),["query",r.regexp(new RegExp(p))],["displayName",r.regexp(/\|(.+?)]/,1)]).map((t=>{const{protocol:n,fullDomain:r,query:i,displayName:o}=t,s=`${n||"http://"}${r}${i}`,c=`[${n}${r}${i}|${o}]`;return S(e,{kind:"Url",caption:o,href:(0,a.decodeHTMLEntities)(s),originalUrl:c},Boolean(e?.features?.fix_cyrillic_in_external_plain_urls))})),n=r.seq(r.regexp(new RegExp(s,"i")),r.regexp(new RegExp(c)),r.regexp(new RegExp(u)),r.regexp(new RegExp(l)),r.regexp(new RegExp(p))).map((t=>{const[n,r,i,o,s]=t,c=`${n||"http://"}${r}${i}${o}${s}`,u=t.join("");return i.length<=g&&h.has(i.toLowerCase())?S(e,{kind:"Url",caption:w((0,a.decodeHTMLEntities)(u)),href:(0,a.decodeHTMLEntities)(c),originalUrl:u},Boolean(e?.features?.fix_cyrillic_in_external_plain_urls)):{kind:"Text",text:u}}));return r.alt(t,n)},Hashtag:()=>r.regexp(new RegExp(`#${y}{0,100}${_}${y}{0,100}`,"u")).map((e=>({kind:"Hashtag",tag:e}))),HashtagMention:e=>r.seqObj(["tag",r.regexp(new RegExp(`#${y}{0,100}${_}${y}{0,100}`))],["screenName",e.ScreenName]).map((e=>({kind:"Hashtag",tag:e.tag,screenName:e.screenName.handle}))),HashtagMentionFeed:e=>r.seqObj(["tag",r.regexp(new RegExp(`#${y}{0,100}${_}${y}{0,100}`))],["screenName",e.ScreenNameFeed]).map((e=>({kind:"Hashtag",tag:e.tag,screenName:e.screenName.handle}))),Email:()=>r.regexp(new RegExp("([a-zA-Zа-яА-Я\\-_\\.0-9\\+]+@("+c+u+"))","i")).map((e=>({kind:"Email",email:e}))),Text:()=>r.any.map((e=>({kind:"Text",text:e})))});function E(e,t=!1,n){try{let r,a;return void 0!==n.maybeStripVKSiteURLOriginAnySubdomain(e.href.toLowerCase())?(r=!0,a=e.href):(r=!1,a=n.wrapAwayIfExternal(e.href,t)),{href:a,isInternal:r}}catch(e){return console.error(e),{href:"",isInternal:!0}}}function S(e,t,n=!1){return{...t,...E(t,n,e)}}function T(e,t){if(t.features?.isAliasedUrlEnabled){return function(e,t){if(0===t.length)return[];try{return e.tryParse(t).reduce(((e,t)=>{if("Text"===t.kind){const n=e[e.length-1];"Text"===n?.kind?n.text+=t.text:e.push({kind:"Text",text:t.text})}else e.push(t);return e}),[]).map((e=>"Text"===e.kind?{kind:"Text",text:(0,a.decodeHTMLEntities)(e.text)}:e))}catch(e){return console.error(e),[]}}(k(t).ClientChunks,e)}return function(e,t){if(0===t.length)return[];try{return e.tryParse(t).reduce(((e,t)=>{if("Text"===t.kind){const n=e[e.length-1];"Text"===n?.kind?n.text+=t.text:e.push({kind:"Text",text:t.text})}else e.push(t);return e}),[]).map((e=>"Text"===e.kind?{kind:"Text",text:(0,a.decodeHTMLEntities)(e.text)}:e))}catch(e){return console.error(e),[]}}(v(t).ClientChunks,e)}},104650:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this._=e}var a=r.prototype;function i(e,t){for(var n=0;n<e;n++)t(n)}function o(e,t,n){return function(e,t){i(t.length,(function(n){e(t[n],n,t)}))}((function(n,r,a){t=e(t,n,r,a)}),n),t}function s(e,t){return o((function(t,n,r,a){return t.concat([e(n,r,a)])}),[],t)}function c(e,t){var n={v:0,buf:t};return i(e,(function(){var e;n={v:n.v<<1|(e=n.buf,e[0]>>7),buf:function(e){var t=o((function(e,t,n,r){return e.concat(n===r.length-1?Buffer.from([t,0]).readUInt16BE(0):r.readUInt16BE(n))}),[],e);return Buffer.from(s((function(e){return(e<<1&65535)>>8}),t))}(n.buf)}})),n}function u(){return"undefined"!=typeof Buffer}function l(){if(!u())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function d(e){l();var t=o((function(e,t){return e+t}),0,e);if(t%8!=0)throw new Error("The bits ["+e.join(", ")+"] add up to "+t+" which is not an even number of bytes; the total should be divisible by 8");var n,a=t/8,i=(n=function(e){return e>48},o((function(e,t){return e||(n(t)?t:e)}),null,e));if(i)throw new Error(i+" bit range requested exceeds 48 bit (6 byte) Number max.");return new r((function(t,n){var r=a+n;return r>t.length?v(n,a.toString()+" bytes"):w(r,o((function(e,t){var n=c(t,e.buf);return{coll:e.coll.concat(n.v),buf:n.buf}}),{coll:[],buf:t.slice(n,r)},e).coll)}))}function f(e,t){return new r((function(n,r){return l(),r+t>n.length?v(r,t+" bytes for "+e):w(r+t,n.slice(r,r+t))}))}function p(e,t){if("number"!=typeof(n=t)||Math.floor(n)!==n||t<0||t>6)throw new Error(e+" requires integer length in range [0, 6].");var n}function h(e){return p("uintBE",e),f("uintBE("+e+")",e).map((function(t){return t.readUIntBE(0,e)}))}function g(e){return p("uintLE",e),f("uintLE("+e+")",e).map((function(t){return t.readUIntLE(0,e)}))}function m(e){return p("intBE",e),f("intBE("+e+")",e).map((function(t){return t.readIntBE(0,e)}))}function b(e){return p("intLE",e),f("intLE("+e+")",e).map((function(t){return t.readIntLE(0,e)}))}function _(e){return e instanceof r}function y(e){return"[object Array]"==={}.toString.call(e)}function x(e){return u()&&Buffer.isBuffer(e)}function w(e,t){return{status:!0,index:e,value:t,furthest:-1,expected:[]}}function v(e,t){return y(t)||(t=[t]),{status:!1,index:-1,value:null,furthest:e,expected:t}}function k(e,t){if(!t)return e;if(e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?function(e,t){if(function(){if(void 0!==r._supportsSet)return r._supportsSet;var e="undefined"!=typeof Set;return r._supportsSet=e,e}()&&Array.from){for(var n=new Set(e),a=0;a<t.length;a++)n.add(t[a]);var i=Array.from(n);return i.sort(),i}for(var o={},s=0;s<e.length;s++)o[e[s]]=!0;for(var c=0;c<t.length;c++)o[t[c]]=!0;var u=[];for(var l in o)({}).hasOwnProperty.call(o,l)&&u.push(l);return u.sort(),u}(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}var E={};function S(e,t){if(x(e))return{offset:t,line:-1,column:-1};e in E||(E[e]={});for(var n=E[e],r=0,a=0,i=0,o=t;o>=0;){if(o in n){r=n[o].line,0===i&&(i=n[o].lineStart);break}("\n"===e.charAt(o)||"\r"===e.charAt(o)&&"\n"!==e.charAt(o+1))&&(a++,0===i&&(i=o+1)),o--}var s=r+a,c=t-i;return n[t]={line:s,lineStart:i},{offset:t,line:s+1,column:c+1}}function T(e){if(!_(e))throw new Error("not a parser: "+e)}function R(e,t){return"string"==typeof e?e.charAt(t):e[t]}function A(e){if("number"!=typeof e)throw new Error("not a number: "+e)}function B(e){if("function"!=typeof e)throw new Error("not a function: "+e)}function P(e){if("string"!=typeof e)throw new Error("not a string: "+e)}var j=2,L=3,I=8,O=5*I,C=4*I,N="  ";function M(e,t){return new Array(t+1).join(e)}function q(e,t,n){var r=t-e.length;return r<=0?e:M(n,r)+e}function z(e,t,n,r){return{from:e-t>0?e-t:0,to:e+n>r?r:e+n}}function U(e,t){var n,r,a,i,c,u=t.index,l=u.offset,d=1;if(l===e.length)return"Got the end of the input";if(x(e)){var f=l-l%I,p=l-f,h=z(f,O,C+I,e.length),g=s((function(e){return s((function(e){return q(e.toString(16),2,"0")}),e)}),function(e,t){var n=e.length,r=[],a=0;if(n<=t)return[e.slice()];for(var i=0;i<n;i++)r[a]||r.push([]),r[a].push(e[i]),(i+1)%t==0&&a++;return r}(e.slice(h.from,h.to).toJSON().data,I));i=function(e){return 0===e.from&&1===e.to?{from:e.from,to:e.to}:{from:e.from/I,to:Math.floor(e.to/I)}}(h),r=f/I,n=3*p,p>=4&&(n+=1),d=2,a=s((function(e){return e.length<=4?e.join(" "):e.slice(0,4).join(" ")+"  "+e.slice(4).join(" ")}),g),(c=(8*(i.to>0?i.to-1:i.to)).toString(16).length)<2&&(c=2)}else{var m=e.split(/\r\n|[\n\r\u2028\u2029]/);n=u.column-1,r=u.line-1,i=z(r,j,L,m.length),a=m.slice(i.from,i.to),c=i.to.toString().length}var b=r-i.from;return x(e)&&(c=(8*(i.to>0?i.to-1:i.to)).toString(16).length)<2&&(c=2),o((function(t,r,a){var o,s=a===b,u=s?"> ":N;return o=x(e)?q((8*(i.from+a)).toString(16),c,"0"):q((i.from+a+1).toString(),c," "),[].concat(t,[u+o+" | "+r],s?[N+M(" ",c)+" | "+q("",n," ")+M("^",d)]:[])}),[],a).join("\n")}function D(e,t){return["\n","-- PARSING FAILED "+M("-",50),"\n\n",U(e,t),"\n\n",(n=t.expected,1===n.length?"Expected:\n\n"+n[0]:"Expected one of the following: \n\n"+n.join(", ")),"\n"].join("");var n}function F(e){return void 0!==e.flags?e.flags:[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.unicode?"u":"",e.sticky?"y":""].join("")}function $(){for(var e=[].slice.call(arguments),t=e.length,n=0;n<t;n+=1)T(e[n]);return r((function(n,r){for(var a,i=new Array(t),o=0;o<t;o+=1){if(!(a=k(e[o]._(n,r),a)).status)return a;i[o]=a.value,r=a.index}return k(w(r,i),a)}))}function H(){var e=[].slice.call(arguments);if(0===e.length)throw new Error("seqMap needs at least one argument");var t=e.pop();return B(t),$.apply(null,e).map((function(e){return t.apply(null,e)}))}function W(){var e=[].slice.call(arguments),t=e.length;if(0===t)return Y("zero alternates");for(var n=0;n<t;n+=1)T(e[n]);return r((function(t,n){for(var r,a=0;a<e.length;a+=1)if((r=k(e[a]._(t,n),r)).status)return r;return r}))}function G(e,t){return V(e,t).or(Z([]))}function V(e,t){return T(e),T(t),H(e,t.then(e).many(),(function(e,t){return[e].concat(t)}))}function X(e){P(e);var t="'"+e+"'";return r((function(n,r){var a=r+e.length,i=n.slice(r,a);return i===e?w(a,i):v(r,t)}))}function K(e,t){!function(e){if(!(e instanceof RegExp))throw new Error("not a regexp: "+e);for(var t=F(e),n=0;n<t.length;n++){var r=t.charAt(n);if("i"!==r&&"m"!==r&&"u"!==r&&"s"!==r)throw new Error('unsupported regexp flag "'+r+'": '+e)}}(e),arguments.length>=2?A(t):t=0;var n=function(e){return RegExp("^(?:"+e.source+")",F(e))}(e),a=""+e;return r((function(e,r){var i=n.exec(e.slice(r));if(i){if(0<=t&&t<=i.length){var o=i[0],s=i[t];return w(r+o.length,s)}return v(r,"valid match group (0 to "+i.length+") in "+a)}return v(r,a)}))}function Z(e){return r((function(t,n){return w(n,e)}))}function Y(e){return r((function(t,n){return v(n,e)}))}function J(e){if(_(e))return r((function(t,n){var r=e._(t,n);return r.index=n,r.value="",r}));if("string"==typeof e)return J(X(e));if(e instanceof RegExp)return J(K(e));throw new Error("not a string, regexp, or parser: "+e)}function Q(e){return T(e),r((function(t,n){var r=e._(t,n),a=t.slice(n,r.index);return r.status?v(n,'not "'+a+'"'):w(n,null)}))}function ee(e){return B(e),r((function(t,n){var r=R(t,n);return n<t.length&&e(r)?w(n+1,r):v(n,"a character/byte matching "+e)}))}function te(e,t){arguments.length<2&&(t=e,e=void 0);var n=r((function(e,r){return n._=t()._,n._(e,r)}));return e?n.desc(e):n}function ne(){return Y("fantasy-land/empty")}a.parse=function(e){if("string"!=typeof e&&!x(e))throw new Error(".parse must be called with a string or Buffer as its argument");var t,n=this.skip(oe)._(e,0);return t=n.status?{status:!0,value:n.value}:{status:!1,index:S(e,n.furthest),expected:n.expected},delete E[e],t},a.tryParse=function(e){var t=this.parse(e);if(t.status)return t.value;var n=D(e,t),r=new Error(n);throw r.type="ParsimmonError",r.result=t,r},a.assert=function(e,t){return this.chain((function(n){return e(n)?Z(n):Y(t)}))},a.or=function(e){return W(this,e)},a.trim=function(e){return this.wrap(e,e)},a.wrap=function(e,t){return H(e,this,t,(function(e,t){return t}))},a.thru=function(e){return e(this)},a.then=function(e){return T(e),$(this,e).map((function(e){return e[1]}))},a.many=function(){var e=this;return r((function(t,n){for(var r=[],a=void 0;;){if(!(a=k(e._(t,n),a)).status)return k(w(n,r),a);if(n===a.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");n=a.index,r.push(a.value)}}))},a.tieWith=function(e){return P(e),this.map((function(t){if(function(e){if(!y(e))throw new Error("not an array: "+e)}(t),t.length){P(t[0]);for(var n=t[0],r=1;r<t.length;r++)P(t[r]),n+=e+t[r];return n}return""}))},a.tie=function(){return this.tieWith("")},a.times=function(e,t){var n=this;return arguments.length<2&&(t=e),A(e),A(t),r((function(r,a){for(var i=[],o=void 0,s=void 0,c=0;c<e;c+=1){if(s=k(o=n._(r,a),s),!o.status)return s;a=o.index,i.push(o.value)}for(;c<t&&(s=k(o=n._(r,a),s),o.status);c+=1)a=o.index,i.push(o.value);return k(w(a,i),s)}))},a.result=function(e){return this.map((function(){return e}))},a.atMost=function(e){return this.times(0,e)},a.atLeast=function(e){return H(this.times(e),this.many(),(function(e,t){return e.concat(t)}))},a.map=function(e){B(e);var t=this;return r((function(n,r){var a=t._(n,r);return a.status?k(w(a.index,e(a.value)),a):a}))},a.contramap=function(e){B(e);var t=this;return r((function(n,r){var a=t.parse(e(n.slice(r)));return a.status?w(r+n.length,a.value):a}))},a.promap=function(e,t){return B(e),B(t),this.contramap(e).map(t)},a.skip=function(e){return $(this,e).map((function(e){return e[0]}))},a.mark=function(){return H(re,this,re,(function(e,t,n){return{start:e,value:t,end:n}}))},a.node=function(e){return H(re,this,re,(function(t,n,r){return{name:e,value:n,start:t,end:r}}))},a.sepBy=function(e){return G(this,e)},a.sepBy1=function(e){return V(this,e)},a.lookahead=function(e){return this.skip(J(e))},a.notFollowedBy=function(e){return this.skip(Q(e))},a.desc=function(e){y(e)||(e=[e]);var t=this;return r((function(n,r){var a=t._(n,r);return a.status||(a.expected=e),a}))},a.fallback=function(e){return this.or(Z(e))},a.ap=function(e){return H(e,this,(function(e,t){return e(t)}))},a.chain=function(e){var t=this;return r((function(n,r){var a=t._(n,r);return a.status?k(e(a.value)._(n,a.index),a):a}))},a.concat=a.or,a.empty=ne,a.of=Z,a["fantasy-land/ap"]=a.ap,a["fantasy-land/chain"]=a.chain,a["fantasy-land/concat"]=a.concat,a["fantasy-land/empty"]=a.empty,a["fantasy-land/of"]=a.of,a["fantasy-land/map"]=a.map;var re=r((function(e,t){return w(t,S(e,t))})),ae=r((function(e,t){return t>=e.length?v(t,"any character/byte"):w(t+1,R(e,t))})),ie=r((function(e,t){return w(e.length,e.slice(t))})),oe=r((function(e,t){return t<e.length?v(t,"EOF"):w(t,null)})),se=K(/[0-9]/).desc("a digit"),ce=K(/[0-9]*/).desc("optional digits"),ue=K(/[a-z]/i).desc("a letter"),le=K(/[a-z]*/i).desc("optional letters"),de=K(/\s*/).desc("optional whitespace"),fe=K(/\s+/).desc("whitespace"),pe=X("\r"),he=X("\n"),ge=X("\r\n"),me=W(ge,he,pe).desc("newline"),be=W(me,oe);r.all=ie,r.alt=W,r.any=ae,r.cr=pe,r.createLanguage=function(e){var t={};for(var n in e)({}).hasOwnProperty.call(e,n)&&function(n){t[n]=te((function(){return e[n](t)}))}(n);return t},r.crlf=ge,r.custom=function(e){return r(e(w,v))},r.digit=se,r.digits=ce,r.empty=ne,r.end=be,r.eof=oe,r.fail=Y,r.formatError=D,r.index=re,r.isParser=_,r.lazy=te,r.letter=ue,r.letters=le,r.lf=he,r.lookahead=J,r.makeFailure=v,r.makeSuccess=w,r.newline=me,r.noneOf=function(e){return ee((function(t){return e.indexOf(t)<0})).desc("none of '"+e+"'")},r.notFollowedBy=Q,r.of=Z,r.oneOf=function(e){for(var t=e.split(""),n=0;n<t.length;n++)t[n]="'"+t[n]+"'";return ee((function(t){return e.indexOf(t)>=0})).desc(t)},r.optWhitespace=de,r.Parser=r,r.range=function(e,t){return ee((function(n){return e<=n&&n<=t})).desc(e+"-"+t)},r.regex=K,r.regexp=K,r.sepBy=G,r.sepBy1=V,r.seq=$,r.seqMap=H,r.seqObj=function(){for(var e,t={},n=0,a=(e=arguments,Array.prototype.slice.call(e)),i=a.length,o=0;o<i;o+=1){var s=a[o];if(!_(s)){if(y(s)&&2===s.length&&"string"==typeof s[0]&&_(s[1])){var c=s[0];if(Object.prototype.hasOwnProperty.call(t,c))throw new Error("seqObj: duplicate key "+c);t[c]=!0,n++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(0===n)throw new Error("seqObj expects at least one named parser, found zero");return r((function(e,t){for(var n,r={},o=0;o<i;o+=1){var s,c;if(y(a[o])?(s=a[o][0],c=a[o][1]):(s=null,c=a[o]),!(n=k(c._(e,t),n)).status)return n;s&&(r[s]=n.value),t=n.index}return k(w(t,r),n)}))},r.string=X,r.succeed=Z,r.takeWhile=function(e){return B(e),r((function(t,n){for(var r=n;r<t.length&&e(R(t,r));)r++;return w(r,t.slice(n,r))}))},r.test=ee,r.whitespace=fe,r["fantasy-land/empty"]=ne,r["fantasy-land/of"]=Z,r.Binary={bitSeq:d,bitSeqObj:function(e){l();var t={},n=0,r=s((function(e){if(y(e)){var r=e;if(2!==r.length)throw new Error("["+r.join(", ")+"] should be length 2, got length "+r.length);if(P(r[0]),A(r[1]),Object.prototype.hasOwnProperty.call(t,r[0]))throw new Error("duplicate key in bitSeqObj: "+r[0]);return t[r[0]]=!0,n++,r}return A(e),[null,e]}),e);if(n<1)throw new Error("bitSeqObj expects at least one named pair, got ["+e.join(", ")+"]");var a=s((function(e){return e[0]}),r);return d(s((function(e){return e[1]}),r)).map((function(e){return o((function(e,t){return null!==t[0]&&(e[t[0]]=t[1]),e}),{},s((function(t,n){return[t,e[n]]}),a))}))},byte:function(e){if(l(),A(e),e>255)throw new Error("Value specified to byte constructor ("+e+"=0x"+e.toString(16)+") is larger in value than a single byte.");var t=(e>15?"0x":"0x0")+e.toString(16);return r((function(n,r){var a=R(n,r);return a===e?w(r+1,a):v(r,t)}))},buffer:function(e){return f("buffer",e).map((function(e){return Buffer.from(e)}))},encodedString:function(e,t){return f("string",t).map((function(t){return t.toString(e)}))},uintBE:h,uint8BE:h(1),uint16BE:h(2),uint32BE:h(4),uintLE:g,uint8LE:g(1),uint16LE:g(2),uint32LE:g(4),intBE:m,int8BE:m(1),int16BE:m(2),int32BE:m(4),intLE:b,int8LE:b(1),int16LE:b(2),int32LE:b(4),floatBE:f("floatBE",4).map((function(e){return e.readFloatBE(0)})),floatLE:f("floatLE",4).map((function(e){return e.readFloatLE(0)})),doubleBE:f("doubleBE",8).map((function(e){return e.readDoubleBE(0)})),doubleLE:f("doubleLE",8).map((function(e){return e.readDoubleLE(0)}))},e.exports=r}])},198721:(e,t,n)=>{"use strict";e.exports=n.p+"6de4582eee91a282.wasm"},597362:(e,t,n)=>{"use strict";let r;n.d(t,{default:()=>v,from_client_text:()=>b,from_server_text:()=>_});const a=new Array(128).fill(void 0);function i(e){return a[e]}a.push(void 0,null,!0,!1);let o=a.length;function s(e){const t=i(e);return function(e){e<132||(a[e]=o,o=e)}(e),t}const c="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&c.decode();let u=null;function l(){return null!==u&&0!==u.byteLength||(u=new Uint8Array(r.memory.buffer)),u}function d(e,t){return e>>>=0,c.decode(l().subarray(e,e+t))}function f(e){o===a.length&&a.push(a.length+1);const t=o;return o=a[t],a[t]=e,t}let p=0;const h="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},g="function"==typeof h.encodeInto?function(e,t){return h.encodeInto(e,t)}:function(e,t){const n=h.encode(e);return t.set(n),{read:e.length,written:n.length}};function m(e,t,n){if(void 0===n){const n=h.encode(e),r=t(n.length,1)>>>0;return l().subarray(r,r+n.length).set(n),p=n.length,r}let r=e.length,a=t(r,1)>>>0;const i=l();let o=0;for(;o<r;o++){const t=e.charCodeAt(o);if(t>127)break;i[a+o]=t}if(o!==r){0!==o&&(e=e.slice(o)),a=n(a,r,r=o+3*e.length,1)>>>0;const t=l().subarray(a+o,a+r);o+=g(e,t).written,a=n(a,r,o,1)>>>0}return p=o,a}function b(e){const t=m(e,r.__wbindgen_export_0,r.__wbindgen_export_1),n=p;return s(r.from_client_text(t,n))}function _(e){const t=m(e,r.__wbindgen_export_0,r.__wbindgen_export_1),n=p;return s(r.from_server_text(t,n))}function y(){const e={wbg:{}};return e.wbg.__wbindgen_object_drop_ref=function(e){s(e)},e.wbg.__wbindgen_error_new=function(e,t){return f(new Error(d(e,t)))},e.wbg.__wbindgen_number_new=function(e){return f(e)},e.wbg.__wbindgen_bigint_from_i64=function(e){return f(e)},e.wbg.__wbindgen_object_clone_ref=function(e){return f(i(e))},e.wbg.__wbindgen_string_new=function(e,t){return f(d(e,t))},e.wbg.__wbg_set_f975102236d3c502=function(e,t,n){i(e)[s(t)]=s(n)},e.wbg.__wbg_new_16b304a2cfa7ff4a=function(){return f(new Array)},e.wbg.__wbg_new_72fb9a18b5ae2624=function(){return f(new Object)},e.wbg.__wbg_set_d4638f722068f043=function(e,t,n){i(e)[t>>>0]=s(n)},e.wbg.__wbindgen_throw=function(e,t){throw new Error(d(e,t))},e}function x(e,t){return r=e.exports,w.__wbindgen_wasm_module=t,u=null,r}async function w(e){if(void 0!==r)return r;void 0===e&&(e=new URL(n(198721),n.b));const t=y();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:a,module:i}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,t);return x(a,i)}const v=w}}]);try{stManager?.done("dist/web/chunks/fb227a6d.32439b40.js")}catch(e){}